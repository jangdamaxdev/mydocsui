INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.components.md', 'components', '{"type":"minimark","value":[["p",{},"Nuxt automatically imports any components in this directory (along with components that are registered by any modules you may be using)."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| components/\n---| AppHeader.vue\n---| AppFooter.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," AppHeader.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," AppFooter.vue\n"]]]],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <AppHeader />\n    <NuxtPage />\n    <AppFooter />\n  </div>\n</template>\n","filename":"app/app.vue","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppHeader"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppFooter"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"component-names"},"Component Names"],["p",{},"If you have a component in nested directories such as:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| components/\n---| base/\n-----| foo/\n-------| Button.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," base/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," foo/\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-------"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," Button.vue\n"]]]],["p",{},"... then the component''s name will be based on its own path directory and filename, with duplicate segments being removed. Therefore, the component''s name will be:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<BaseFooButton />\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"BaseFooButton"],["span",{"class":"sDfIl"}," />\n"]]]],["note",{},["p",{},"For clarity, we recommend that the component''s filename matches its name. So, in the example above, you could rename ",["code",{},"Button.vue"]," to be ",["code",{},"BaseFooButton.vue"],"."]],["p",{},"If you want to auto-import components based only on its name, not path, then you need to set ",["code",{},"pathPrefix"]," option to ",["code",{},"false"]," using extended form of the configuration object:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight has-diff","code":"export default defineNuxtConfig({\n  components: [\n    {\n      path: ''~/components'',\n      pathPrefix: false, // [!code ++]\n    },\n  ],\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  components"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":["line","diff","add"],"line":5},["span",{"class":"sRlkE"},"      pathPrefix"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},","]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["p",{},"This registers the components using the same strategy as used in Nuxt 2. For example, ",["code",{},"~/components/Some/MyComponent.vue"]," will be usable as ",["code",{},"<MyComponent>"]," and not ",["code",{},"<SomeMyComponent>"],"."],["h2",{"id":"dynamic-components"},"Dynamic Components"],["p",{},"If you want to use the Vue ",["code",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"vue","style":""},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"component"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"is"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"someComputedComponent"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"]]," syntax, you need to use the ",["code",{},"resolveComponent"]," helper provided by Vue or import the component directly from ",["code",{},"#components"]," and pass it into ",["code",{},"is"]," prop."],["p",{},"For example:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport { SomeComponent } from ''#components''\n\nconst MyButton = resolveComponent(''MyButton'')\n</script>\n\n<template>\n  <component :is=\"clickable ? MyButton : ''div''\" />\n  <component :is=\"SomeComponent\" />\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," SomeComponent"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#components"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," MyButton "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," resolveComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"MyButton"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"component"],["span",{"class":"smZ93"}," :is"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"clickable ? MyButton : ''div''"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"component"],["span",{"class":"smZ93"}," :is"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"SomeComponent"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["important",{},["p",{},"If you are using ",["code",{},"resolveComponent"]," to handle dynamic components, make sure not to insert anything but the name of the component, which must be a literal string and not be or contain a variable. The string is statically analyzed at the compilation step."]],["video-accordion",{"title":"Watch Daniel Roe''s short video about resolveComponent()","video-id":"4kq8E5IUM2U"}],["p",{},"Alternatively, though not recommended, you can register all your components globally, which will create async chunks for all your components and make them available throughout your application."],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  export default defineNuxtConfig({\n    components: {\n+     global: true,\n+     dirs: [''~/components'']\n    },\n  })\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  export default defineNuxtConfig({\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"    components: {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     global: true,\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     dirs: [''~/components'']\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    },\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  })\n"]]]],["p",{},"You can also selectively register some components globally by placing them in a ",["code",{},"~/components/global"]," directory, or by using a ",["code",{},".global.vue"]," suffix in the filename. As noted above, each global component is rendered in a separate chunk, so be careful not to overuse this feature."],["note",{},["p",{},"The ",["code",{},"global"]," option can also be set per component directory."]],["h2",{"id":"dynamic-imports"},"Dynamic Imports"],["p",{},"To dynamically import a component (also known as lazy-loading a component) all you need to do is add the ",["code",{},"Lazy"]," prefix to the component''s name. This is particularly useful if the component is not always needed."],["p",{},"By using the ",["code",{},"Lazy"]," prefix you can delay loading the component code until the right moment, which can be helpful for optimizing your JavaScript bundle size."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst show = ref(false)\n</script>\n\n<template>\n  <div>\n    <h1>Mountains</h1>\n    <LazyMountainsList v-if=\"show\" />\n    <button v-if=\"!show\" @click=\"show = true\">Show List</button>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," show "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"false"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Mountains"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMountainsList"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"show"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"!show"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"show = true"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Show List"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"delayed-or-lazy-hydration"},"Delayed (or Lazy) Hydration"],["p",{},"Lazy components are great for controlling the chunk sizes in your app, but they don''t always enhance runtime performance, as they still load eagerly unless conditionally rendered. In real-world applications, some pages may include a lot of content and a lot of components, and most of the time not all of them need to be interactive as soon as the page is loaded. Having them all load eagerly can negatively impact performance."],["p",{},"In order to optimize your app, you may want to delay the hydration of some components until they''re visible, or until the browser is done with more important tasks."],["p",{},"Nuxt supports this using lazy (or delayed) hydration, allowing you to control when components become interactive."],["h3",{"id":"hydration-strategies"},"Hydration Strategies"],["p",{},"Nuxt provides a range of built-in hydration strategies. Only one strategy can be used per lazy component."],["note",{},["p",{},"Any prop change on a lazily hydrated component will trigger hydration immediately. (e.g., changing a prop on a component with ",["code",{},"hydrate-never"]," will cause it to hydrate)"]],["warning",{},["p",{},"Currently Nuxt''s built-in lazy hydration only works in single-file components (SFCs), and requires you to define the prop in the template (rather than spreading an object of props via ",["code",{},"v-bind"],"). It also does not work with direct imports from ",["code",{},"#components"],"."]],["h4",{"id":"hydrate-on-visible"},["code",{},"hydrate-on-visible"]],["p",{},"Hydrates the component when it becomes visible in the viewport."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-on-visible />\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-on-visible"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/IntersectionObserver","title":"IntersectionObserver options"},["p",{},"Read more about the options for ",["code",{},"hydrate-on-visible"],"."]],["note",{},["p",{},"Under the hood, this uses Vue''s built-in ",["a",{"href":"https://vuejs.org/guide/components/async.html#hydrate-on-visible","rel":["nofollow"]},["code",{},"hydrateOnVisible"]," strategy"],"."]],["h4",{"id":"hydrate-on-idle"},["code",{},"hydrate-on-idle"]],["p",{},"Hydrates the component when the browser is idle. This is suitable if you need the component to load as soon as possible, but not block the critical rendering path."],["p",{},"You can also pass a number which serves as a max timeout."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-on-idle />\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-on-idle"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Under the hood, this uses Vue''s built-in ",["a",{"href":"https://vuejs.org/guide/components/async.html#hydrate-on-idle","rel":["nofollow"]},["code",{},"hydrateOnIdle"]," strategy"],"."]],["h4",{"id":"hydrate-on-interaction"},["code",{},"hydrate-on-interaction"]],["p",{},"Hydrates the component after a specified interaction (e.g., click, mouseover)."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-on-interaction=\"mouseover\" />\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-on-interaction"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"mouseover"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you do not pass an event or list of events, it defaults to hydrating on ",["code",{},"pointerenter"],", ",["code",{},"click"]," and ",["code",{},"focus"],"."],["note",{},["p",{},"Under the hood, this uses Vue''s built-in ",["a",{"href":"https://vuejs.org/guide/components/async.html#hydrate-on-interaction","rel":["nofollow"]},["code",{},"hydrateOnInteraction"]," strategy"],"."]],["h4",{"id":"hydrate-on-media-query"},["code",{},"hydrate-on-media-query"]],["p",{},"Hydrates the component when the window matches a media query."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-on-media-query=\"(max-width: 768px)\" />\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-on-media-query"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"(max-width: 768px)"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Under the hood, this uses Vue''s built-in ",["a",{"href":"https://vuejs.org/guide/components/async.html#hydrate-on-media-query","rel":["nofollow"]},["code",{},"hydrateOnMediaQuery"]," strategy"],"."]],["h4",{"id":"hydrate-after"},["code",{},"hydrate-after"]],["p",{},"Hydrates the component after a specified delay (in milliseconds)."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent :hydrate-after=\"2000\" />\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," :hydrate-after"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"2000"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h4",{"id":"hydrate-when"},["code",{},"hydrate-when"]],["p",{},"Hydrates the component based on a boolean condition."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent :hydrate-when=\"isReady\" />\n  </div>\n</template>\n<script setup lang=\"ts\">\nconst isReady = ref(false)\nfunction myFunction() {\n  // trigger custom hydration strategy...\n  isReady.value = true\n}\n</script>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," :hydrate-when"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"isReady"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," isReady "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"false"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," myFunction"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"  // trigger custom hydration strategy...\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"  isReady"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h4",{"id":"hydrate-never"},["code",{},"hydrate-never"]],["p",{},"Never hydrates the component."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-never />\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-never"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"listening-to-hydration-events"},"Listening to Hydration Events"],["p",{},"All delayed hydration components emit a ",["code",{},"@hydrated"]," event when they are hydrated."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-on-visible @hydrated=\"onHydrate\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nfunction onHydrate() {\n  console.log(\"Component has been hydrated!\")\n}\n</script>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-on-visible"],["span",{"class":"smZ93"}," @hydrated"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"onHydrate"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," onHydrate"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"Component has been hydrated!"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"caveats-and-best-practices"},"Caveats and Best Practices"],["p",{},"Delayed hydration can offer performance benefits, but it''s essential to use it correctly:"],["ol",{},["li",{},["strong",{},"Prioritize In-Viewport Content:"]," Avoid delayed hydration for critical, above-the-fold content. It''s best suited for content that isn''t immediately needed."],["li",{},["strong",{},"Conditional Rendering:"]," When using ",["code",{},"v-if=\"false\""]," on a lazy component, you might not need delayed hydration. You can just use a normal lazy component."],["li",{},["strong",{},"Shared State:"]," Be mindful of shared state (",["code",{},"v-model"],") across multiple components. Updating the model in one component can trigger hydration in all components bound to that model."],["li",{},["strong",{},"Use Each Strategy''s Intended Use Case:"]," Each strategy is optimized for a specific purpose.",["ul",{},["li",{},["code",{},"hydrate-when"]," is best for components that might not always need to be hydrated."],["li",{},["code",{},"hydrate-after"]," is for components that can wait a specific amount of time."],["li",{},["code",{},"hydrate-on-idle"]," is for components that can be hydrated when the browser is idle."]]],["li",{},["strong",{},"Avoid ",["code",{},"hydrate-never"]," on interactive components:"]," If a component requires user interaction, it should not be set to never hydrate."]],["h2",{"id":"direct-imports"},"Direct Imports"],["p",{},"You can also explicitly import components from ",["code",{},"#components"]," if you want or need to bypass Nuxt''s auto-importing functionality."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport { NuxtLink, LazyMountainsList } from ''#components''\n\nconst show = ref(false)\n</script>\n\n<template>\n  <div>\n    <h1>Mountains</h1>\n    <LazyMountainsList v-if=\"show\" />\n    <button v-if=\"!show\" @click=\"show = true\">Show List</button>\n    <NuxtLink to=\"/\">Home</NuxtLink>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," NuxtLink"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," LazyMountainsList"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#components"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," show "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"false"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Mountains"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMountainsList"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"show"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"!show"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"show = true"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Show List"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Home"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"custom-directories"},"Custom Directories"],["p",{},"By default, only the ",["code",{},"~/components"]," directory is scanned. If you want to add other directories, or change how the components are scanned within a subfolder of this directory, you can add additional directories to the configuration:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  components: [\n    // ~/calendar-module/components/event/Update.vue => <EventUpdate />\n    { path: ''~/calendar-module/components'' },\n\n    // ~/user-module/components/account/UserDeleteDialog.vue => <UserDeleteDialog />\n    { path: ''~/user-module/components'', pathPrefix: false },\n\n    // ~/components/special-components/Btn.vue => <SpecialBtn />\n    { path: ''~/components/special-components'', prefix: ''Special'' },\n\n    // It''s important that this comes last if you have overrides you wish to apply\n    // to sub-directories of `~/components`.\n    //\n    // ~/components/Btn.vue => <Btn />\n    // ~/components/base/Btn.vue => <BaseBtn />\n    ''~/components''\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  components"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // ~/calendar-module/components/event/Update.vue => <EventUpdate />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sRlkE"}," path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/calendar-module/components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"    // ~/user-module/components/account/UserDeleteDialog.vue => <UserDeleteDialog />\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sRlkE"}," path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/user-module/components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," pathPrefix"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"    // ~/components/special-components/Btn.vue => <SpecialBtn />\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sRlkE"}," path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/components/special-components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," prefix"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Special"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"    // It''s important that this comes last if you have overrides you wish to apply\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"    // to sub-directories of `~/components`.\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"    //\n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"    // ~/components/Btn.vue => <Btn />\n"]],["span",{"class":"line","line":16},["span",{"class":"sWuyu"},"    // ~/components/base/Btn.vue => <BaseBtn />\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"~/components"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":18},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"Any nested directories need to be added first as they are scanned in order."]],["h2",{"id":"npm-packages"},"npm Packages"],["p",{},"If you want to auto-import components from an npm package, you can use ",["a",{"href":"/docs/api/kit/components#addcomponent"},["code",{},"addComponent"]]," in a ",["a",{"href":"/docs/guide/directory-structure/modules"},"local module"]," to register them."],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { addComponent, defineNuxtModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup() {\n    // import { MyComponent as MyAutoImportedComponent } from ''my-npm-package''\n    addComponent({\n      name: ''MyAutoImportedComponent'',\n      export: ''MyComponent'',\n      filePath: ''my-npm-package'',\n    })\n  },\n})\n","filename":"~/modules/register-component.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," addComponent"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // import { MyComponent as MyAutoImportedComponent } from ''my-npm-package''\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"    addComponent"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"MyAutoImportedComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      export"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"MyComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      filePath"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-npm-package"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <!--  the component uses the name we specified and is auto-imported  -->\n    <MyAutoImportedComponent />\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    <!--  the component uses the name we specified and is auto-imported  -->\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"MyAutoImportedComponent"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["h2",{"id":"component-extensions"},"Component Extensions"],["p",{},"By default, any file with an extension specified in the ",["a",{"href":"/docs/api/nuxt-config#extensions"},"extensions key of ",["code",{},"nuxt.config.ts"]]," is treated as a component.\nIf you need to restrict the file extensions that should be registered as components, you can use the extended form of the components directory declaration and its ",["code",{},"extensions"]," key:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight has-diff","code":"export default defineNuxtConfig({\n  components: [\n    {\n      path: ''~/components'',\n      extensions: [''.vue''], // [!code ++]\n    }\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  components"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":["line","diff","add"],"line":5},["span",{"class":"sRlkE"},"      extensions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},".vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},","]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"client-components"},"Client Components"],["p",{},"If a component is meant to be rendered only client-side, you can add the ",["code",{},".client"]," suffix to your component."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"| components/\n--| Comments.client.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"--"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," Comments.client.vue\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <!-- this component will only be rendered on client side -->\n    <Comments />\n  </div>\n</template>\n","filename":"app/pages/example.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    <!-- this component will only be rendered on client side -->\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Comments"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"This feature only works with Nuxt auto-imports and ",["code",{},"#components"]," imports. Explicitly importing these components from their real paths does not convert them into client-only components."]],["important",{},["p",{},["code",{},".client"]," components are rendered only after being mounted. To access the rendered template using ",["code",{},"onMounted()"],", add ",["code",{},"await nextTick()"]," in the callback of the ",["code",{},"onMounted()"]," hook."]],["read-more",{"to":"/docs/api/components/client-only"},["p",{},"You can also achieve a similar result with the ",["code",{},"<ClientOnly>"]," component."]],["h2",{"id":"server-components"},"Server Components"],["p",{},"Server components allow server-rendering individual components within your client-side apps. It''s possible to use server components within Nuxt, even if you are generating a static site. That makes it possible to build complex sites that mix dynamic components, server-rendered HTML and even static chunks of markup."],["p",{},"Server components can either be used on their own or paired with a ",["a",{"href":"#paired-with-a-client-component"},"client component"],"."],["video-accordion",{"title":"Watch Learn Vue video about Nuxt Server Components","video-id":"u1yyXe86xJM"}],["tip",{"icon":"i-lucide-newspaper","target":"_blank","to":"https://roe.dev/blog/nuxt-server-components"},["p",{},"Read Daniel Roe''s guide to Nuxt Server Components."]],["h3",{"id":"standalone-server-components"},"Standalone server components"],["p",{},"Standalone server components will always be rendered on the server, also known as Islands components."],["p",{},"When their props update, this will result in a network request that will update the rendered HTML in-place."],["p",{},"Server components are currently experimental and in order to use them, you need to enable the ''component islands'' feature in your nuxt.config:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    componentIslands: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    componentIslands"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Now you can register server-only components with the ",["code",{},".server"]," suffix and use them anywhere in your application automatically."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| components/\n---| HighlightedMarkdown.server.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," HighlightedMarkdown.server.vue\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <!--\n      this will automatically be rendered on the server, meaning your markdown parsing + highlighting\n      libraries are not included in your client bundle.\n     -->\n    <HighlightedMarkdown markdown=\"# Headline\" />\n  </div>\n</template>\n","filename":"app/pages/example.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    <!--\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"      this will automatically be rendered on the server, meaning your markdown parsing + highlighting\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"      libraries are not included in your client bundle.\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"     -->\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"HighlightedMarkdown"],["span",{"class":"smZ93"}," markdown"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"# Headline"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Server-only components use ",["a",{"href":"/docs/api/components/nuxt-island"},["code",{},"<NuxtIsland>"]]," under the hood, meaning that ",["code",{},"lazy"]," prop and ",["code",{},"#fallback"]," slot are both passed down to it."],["warning",{},["p",{},"Server components (and islands) must have a single root element. (HTML comments are considered elements as well.)"]],["warning",{},["p",{},"Props are passed to server components via URL query parameters, and are therefore limited by the possible length of a URL, so be careful not to pass enormous amounts of data to server components via props."]],["warning",{},["p",{},"Be careful when nesting islands within other islands as each island adds some extra overhead."]],["warning",{},["p",{},"Most features for server-only components and island components, such as slots and client components, are only available for single file components."]],["h4",{"id":"client-components-within-server-components"},"Client components within server components"],["note",{},["p",{},"This feature needs ",["code",{},"experimental.componentIslands.selectiveClient"]," within your configuration to be true."]],["p",{},"You can partially hydrate a component by setting a ",["code",{},"nuxt-client"]," attribute on the component you wish to be loaded client-side."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <HighlightedMarkdown markdown=\"# Headline\" />\n    <!-- Counter will be loaded and hydrated client-side -->\n    <Counter nuxt-client :count=\"5\" />\n  </div>\n</template>\n","filename":"app/components/ServerWithClient.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"HighlightedMarkdown"],["span",{"class":"smZ93"}," markdown"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"# Headline"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"    <!-- Counter will be loaded and hydrated client-side -->\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Counter"],["span",{"class":"smZ93"}," nuxt-client"],["span",{"class":"smZ93"}," :count"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"5"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"This only works within a server component. Slots for client components are working only with ",["code",{},"experimental.componentIsland.selectiveClient"]," set to ",["code",{},"''deep''"]," and since they are rendered server-side, they are not interactive once client-side."]],["h4",{"id":"server-component-context"},"Server Component Context"],["p",{},"When rendering a server-only or island component, ",["code",{},"<NuxtIsland>"]," makes a fetch request which comes back with a ",["code",{},"NuxtIslandResponse"],". (This is an internal request if rendered on the server, or a request that you can see in the network tab if it''s rendering on client-side navigation.)"],["p",{},"This means:"],["ul",{},["li",{},"A new Vue app will be created server-side to create the ",["code",{},"NuxtIslandResponse"],"."],["li",{},"A new ''island context'' will be created while rendering the component."],["li",{},"You can''t access the ''island context'' from the rest of your app and you can''t access the context of the rest of your app from the island component. In other words, the server component or island is ",["em",{},"isolated"]," from the rest of your app."],["li",{},"Your plugins will run again when rendering the island, unless they have ",["code",{},"env: { islands: false }"]," set (which you can do in an object-syntax plugin)."]],["p",{},"Within an island component, you can access its island context through ",["code",{},"nuxtApp.ssrContext.islandContext"],". Note that while island components are still marked as experimental, the format of this context may change."],["note",{},["p",{},"Slots can be interactive and are wrapped within a ",["code",{},"<div>"]," with ",["code",{},"display: contents;"]]],["h3",{"id":"paired-with-a-client-component"},"Paired with a Client component"],["p",{},"In this case, the ",["code",{},".server"]," + ",["code",{},".client"]," components are two ''halves'' of a component and can be used in advanced use cases for separate implementations of a component on server and client side."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| components/\n---| Comments.client.vue\n---| Comments.server.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," Comments.client.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," Comments.server.vue\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <!-- this component will render Comments.server on the server then Comments.client once mounted in the browser -->\n    <Comments />\n  </div>\n</template>\n","filename":"app/pages/example.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    <!-- this component will render Comments.server on the server then Comments.client once mounted in the browser -->\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Comments"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"built-in-nuxt-components"},"Built-In Nuxt Components"],["p",{},"There are a number of components that Nuxt provides, including ",["code",{},"<ClientOnly>"]," and ",["code",{},"<DevOnly>"],". You can read more about them in the API documentation."],["read-more",{"to":"/docs/api"}],["h2",{"id":"library-authors"},"Library Authors"],["p",{},"Making Vue component libraries with automatic tree-shaking and component registration is super easy. ✨"],["p",{},"You can use the ",["a",{"href":"/docs/api/kit/components#addcomponentsdir"},["code",{},"addComponentsDir"]]," method provided from the ",["code",{},"@nuxt/kit"]," to register your components directory in your Nuxt module."],["p",{},"Imagine a directory structure like this:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| node_modules/\n---| awesome-ui/\n-----| components/\n-------| Alert.vue\n-------| Button.vue\n-----| nuxt.ts\n-| pages/\n---| index.vue\n-| nuxt.config.ts\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," node_modules/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," awesome-ui/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," components/\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-------"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," Alert.vue\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-------"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," Button.vue\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," nuxt.ts\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," pages/\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," index.vue\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," nuxt.config.ts\n"]]]],["p",{},"Then in ",["code",{},"awesome-ui/nuxt.ts"]," you can use the ",["code",{},"addComponentsDir"]," hook:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { createResolver, defineNuxtModule, addComponentsDir } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup() {\n    const resolver = createResolver(import.meta.url)\n\n    // Add ./components dir to the list\n    addComponentsDir({\n      path: resolver.resolve(''./components''),\n      prefix: ''awesome'',\n    })\n  },\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addComponentsDir"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // Add ./components dir to the list\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"    addComponentsDir"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      prefix"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"awesome"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"That''s it! Now in your project, you can import your UI library as a Nuxt module in your ",["code",{},"nuxt.config"]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  modules: [''awesome-ui/nuxt'']\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  modules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"awesome-ui/nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"... and directly use the module components (prefixed with ",["code",{},"awesome-"],") in our ",["code",{},"app/pages/index.vue"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    My <AwesomeButton>UI button</AwesomeButton>!\n    <awesome-alert>Here''s an alert!</awesome-alert>\n  </div>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    My "],["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"AwesomeButton"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"UI button"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"AwesomeButton"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"!\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"awesome-alert"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Here''s an alert!"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"awesome-alert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"It will automatically import the components only if used and also support HMR when updating your components in ",["code",{},"node_modules/awesome-ui/components/"],"."],["link-example",{"to":"/docs/examples/features/auto-imports"}],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"component-names","depth":2,"text":"Component Names"},{"id":"dynamic-components","depth":2,"text":"Dynamic Components"},{"id":"dynamic-imports","depth":2,"text":"Dynamic Imports"},{"id":"delayed-or-lazy-hydration","depth":2,"text":"Delayed (or Lazy) Hydration","children":[{"id":"hydration-strategies","depth":3,"text":"Hydration Strategies"},{"id":"listening-to-hydration-events","depth":3,"text":"Listening to Hydration Events"},{"id":"caveats-and-best-practices","depth":3,"text":"Caveats and Best Practices"}]},{"id":"direct-imports","depth":2,"text":"Direct Imports"},{"id":"custom-directories","depth":2,"text":"Custom Directories"},{"id":"npm-packages","depth":2,"text":"npm Packages"},{"id":"component-extensions","depth":2,"text":"Component Extensions"},{"id":"client-components","depth":2,"text":"Client Components"},{"id":"server-components","depth":2,"text":"Server Components","children":[{"id":"standalone-server-components","depth":3,"text":"Standalone server components"},{"id":"paired-with-a-client-component","depth":3,"text":"Paired with a Client component"}]},{"id":"built-in-nuxt-components","depth":2,"text":"Built-In Nuxt Components"},{"id":"library-authors","depth":2,"text":"Library Authors"}]}}', 'The components/ directory is where you put all your Vue components.', 'md', NULL, '{"head":{"title":"components/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/components', '{"title":"components","description":"The components/ directory is where you put all your Vue components."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.components', NULL, 'RS_3uT4d4YzMekDJoV3bzIxNhv4XBoLD0v-t0vpamSU'); -- RS_3uT4d4YzMekDJoV3bzIxNhv4XBoLD0v-t0vpamSU
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.composables.md', 'composables', '{"type":"minimark","value":[["h2",{"id":"usage"},"Usage"],["p",{},["strong",{},"Method 1:"]," Using named export"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const useFoo = () => {\n  return useState(''foo'', () => ''bar'')\n}\n","filename":"app/composables/useFoo.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useFoo "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"foo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bar"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},["strong",{},"Method 2:"]," Using default export"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// It will be available as useFoo() (camelCase of file name without extension)\nexport default function () {\n  return useState(''foo'', () => ''bar'')\n}\n","filename":"app/composables/use-foo.ts or composables/useFoo.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// It will be available as useFoo() (camelCase of file name without extension)\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"smZ93"}," function"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"foo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bar"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},["strong",{},"Usage:"]," You can now use auto imported composable in ",["code",{},".js"],", ",["code",{},".ts"]," and ",["code",{},".vue"]," files"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst foo = useFoo()\n</script>\n\n<template>\n  <div>\n    {{ foo }}\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," foo "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useFoo"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    {{ foo }}\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"The ",["code",{},"app/composables/"]," directory in Nuxt does not provide any additional reactivity capabilities to your code. Instead, any reactivity within composables is achieved using Vue''s Composition API mechanisms, such as ref and reactive. Note that reactive code is also not limited to the boundaries of the ",["code",{},"app/composables/"]," directory. You are free to employ reactivity features wherever they''re needed in your application."]],["read-more",{"to":"/docs/guide/concepts/auto-imports"}],["link-example",{"to":"/docs/examples/features/auto-imports"}],["h2",{"id":"types"},"Types"],["p",{},"Under the hood, Nuxt auto generates the file ",["code",{},".nuxt/imports.d.ts"]," to declare the types."],["p",{},"Be aware that you have to run ",["a",{"href":"/docs/api/commands/prepare"},["code",{},"nuxt prepare"]],", ",["a",{"href":"/docs/api/commands/dev"},["code",{},"nuxt dev"]]," or ",["a",{"href":"/docs/api/commands/build"},["code",{},"nuxt build"]]," in order to let Nuxt generate the types."],["note",{},["p",{},"If you create a composable without having the dev server running, TypeScript will throw an error, such as ",["code",{},"Cannot find name ''useBar''."]]],["h2",{"id":"examples"},"Examples"],["h3",{"id":"nested-composables"},"Nested Composables"],["p",{},"You can use a composable within another composable using auto imports:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const useFoo = () => {\n  const nuxtApp = useNuxtApp()\n  const bar = useBar()\n}\n","filename":"app/composables/test.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useFoo "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," bar"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useBar"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]]]],["h3",{"id":"access-plugin-injections"},"Access plugin injections"],["p",{},"You can access ",["a",{"href":"/docs/guide/directory-structure/plugins#providing-helpers"},"plugin injections"]," from composables:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const useHello = () => {\n  const nuxtApp = useNuxtApp()\n  return nuxtApp.$hello\n}\n","filename":"app/composables/test.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useHello "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"$hello\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]]]],["h2",{"id":"how-files-are-scanned"},"How Files Are Scanned"],["p",{},"Nuxt only scans files at the top level of the ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/"]," directory"],", e.g.:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| composables/\n---| index.ts     // scanned\n---| useFoo.ts    // scanned\n---| nested/\n-----| utils.ts   // not scanned\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," composables/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," index.ts"],["span",{"class":"sGFVr"},"     //"],["span",{"class":"sGFVr"}," scanned\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," useFoo.ts"],["span",{"class":"sGFVr"},"    //"],["span",{"class":"sGFVr"}," scanned\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," nested/\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," utils.ts"],["span",{"class":"sGFVr"},"   //"],["span",{"class":"sGFVr"}," not"],["span",{"class":"sGFVr"}," scanned\n"]]]],["p",{},"Only ",["code",{},"app/composables/index.ts"]," and ",["code",{},"app/composables/useFoo.ts"]," would be searched for imports."],["p",{},"To get auto imports working for nested modules, you could either re-export them (recommended) or configure the scanner to include nested directories:"],["p",{},["strong",{},"Example:"]," Re-export the composables you need from the ",["code",{},"app/composables/index.ts"]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// Enables auto import for this export\nexport { utils } from ''./nested/utils.ts''\n","filename":"app/composables/index.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// Enables auto import for this export\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," utils"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"./nested/utils.ts"],["span",{"class":"sDfIl"},"''\n"]]]],["p",{},["strong",{},"Example:"]," Scan nested directories inside the ",["code",{},"app/composables/"]," folder:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  imports: {\n    dirs: [\n      // Scan top-level composables\n      ''~/composables'',\n      // ... or scan composables nested one level deep with a specific name and file extension\n      ''~/composables/*/index.{ts,js,mjs,mts}'',\n      // ... or scan all composables within given directory\n      ''~/composables/**''\n    ]\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  imports"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    dirs"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"      // Scan top-level composables\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sGFVr"},"~/composables"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      // ... or scan composables nested one level deep with a specific name and file extension\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sGFVr"},"~/composables/*/index.{ts,js,mjs,mts}"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"      // ... or scan all composables within given directory\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sGFVr"},"~/composables/**"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"    ]\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"},{"id":"types","depth":2,"text":"Types"},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"nested-composables","depth":3,"text":"Nested Composables"},{"id":"access-plugin-injections","depth":3,"text":"Access plugin injections"}]},{"id":"how-files-are-scanned","depth":2,"text":"How Files Are Scanned"}]}}', 'Use the composables/ directory to auto-import your Vue composables into your application.', 'md', NULL, '{"head":{"title":"composables/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/composables', '{"title":"composables","description":"Use the composables/ directory to auto-import your Vue composables into your application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.composables', NULL, 'qXl3RU6mii_MotGXHPGPwQgGoPOfS_ZBUVxKwOFU-Fs'); -- qXl3RU6mii_MotGXHPGPwQgGoPOfS_ZBUVxKwOFU-Fs
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.layouts.md', 'layouts', '{"type":"minimark","value":[["tip",{"icon":"i-lucide-rocket"},["p",{},"For best performance, components placed in this directory will be automatically loaded via asynchronous import when used."]],["h2",{"id":"enable-layouts"},"Enable Layouts"],["p",{},"Layouts are enabled by adding ",["a",{"href":"/docs/api/components/nuxt-layout"},["code",{},"<NuxtLayout>"]]," to your ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtLayout>\n    <NuxtPage />\n  </NuxtLayout>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"To use a layout:"],["ul",{},["li",{},"Set a ",["code",{},"layout"]," property in your page with ",["a",{"href":"/docs/api/utils/define-page-meta"},"definePageMeta"],"."],["li",{},"Set the ",["code",{},"name"]," prop of ",["code",{},"<NuxtLayout>"],"."]],["note",{},["p",{},"The layout name is normalized to kebab-case, so ",["code",{},"someLayout"]," becomes ",["code",{},"some-layout"],"."]],["note",{},["p",{},"If no layout is specified, ",["code",{},"app/layouts/default.vue"]," will be used."]],["important",{},["p",{},"If you only have a single layout in your application, we recommend using ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]]," instead."]],["important",{},["p",{},"Unlike other components, your layouts must have a single root element to allow Nuxt to apply transitions between layout changes - and this root element cannot be a ",["code",{},"<slot />"],"."]],["h2",{"id":"default-layout"},"Default Layout"],["p",{},"Add a ",["code",{},"~/layouts/default.vue"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <p>Some default layout content shared across all pages</p>\n    <slot />\n  </div>\n</template>\n","filename":"app/layouts/default.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Some default layout content shared across all pages"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"In a layout file, the content of the page will be displayed in the ",["code",{},"<slot />"]," component."],["h2",{"id":"named-layout"},"Named Layout"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| layouts/\n---| default.vue\n---| custom.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," layouts/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," default.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," custom.vue\n"]]]],["p",{},"Then you can use the ",["code",{},"custom"]," layout in your page:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  layout: ''custom''\n})\n</script>\n","filename":"pages/about.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  layout"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"custom"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/app/pages#page-metadata"},["p",{},"Learn more about ",["code",{},"definePageMeta"],"."]],["p",{},"You can directly override the default layout for all pages using the ",["code",{},"name"]," property of ",["a",{"href":"/docs/api/components/nuxt-layout"},["code",{},"<NuxtLayout>"]],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n// You might choose this based on an API call or logged-in status\nconst layout = \"custom\";\n</script>\n\n<template>\n  <NuxtLayout :name=\"layout\">\n    <NuxtPage />\n  </NuxtLayout>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// You might choose this based on an API call or logged-in status\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," layout "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"custom"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"smZ93"}," :name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"layout"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you have a layout in nested directories, the layout''s name will be based on its own path directory and filename, with duplicate segments being removed."],["table",{},["thead",{},["tr",{},["th",{},"File"],["th",{},"Layout Name"]]],["tbody",{},["tr",{},["td",{},["code",{},"~/layouts/desktop/default.vue"]],["td",{},["code",{},"desktop-default"]]],["tr",{},["td",{},["code",{},"~/layouts/desktop-base/base.vue"]],["td",{},["code",{},"desktop-base"]]],["tr",{},["td",{},["code",{},"~/layouts/desktop/index.vue"]],["td",{},["code",{},"desktop"]]]]],["p",{},"For clarity, we recommend that the layout''s filename matches its name:"],["table",{},["thead",{},["tr",{},["th",{},"File"],["th",{},"Layout Name"]]],["tbody",{},["tr",{},["td",{},["code",{},"~/layouts/desktop/DesktopDefault.vue"]],["td",{},["code",{},"desktop-default"]]],["tr",{},["td",{},["code",{},"~/layouts/desktop-base/DesktopBase.vue"]],["td",{},["code",{},"desktop-base"]]],["tr",{},["td",{},["code",{},"~/layouts/desktop/Desktop.vue"]],["td",{},["code",{},"desktop"]]]]],["link-example",{"to":"/docs/examples/features/layouts"}],["h2",{"id":"changing-the-layout-dynamically"},"Changing the Layout Dynamically"],["p",{},"You can also use the ",["a",{"href":"/docs/api/utils/set-page-layout"},["code",{},"setPageLayout"]]," helper to change the layout dynamically:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nfunction enableCustomLayout () {\n  setPageLayout(''custom'')\n}\ndefinePageMeta({\n  layout: false,\n});\n</script>\n\n<template>\n  <div>\n    <button @click=\"enableCustomLayout\">Update layout</button>\n  </div>\n</template>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," enableCustomLayout"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  setPageLayout"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"custom"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  layout"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"enableCustomLayout"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Update layout"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["link-example",{"to":"/docs/examples/features/layouts"}],["h2",{"id":"overriding-a-layout-on-a-per-page-basis"},"Overriding a Layout on a Per-page Basis"],["p",{},"If you are using pages, you can take full control by setting ",["code",{},"layout: false"]," and then using the ",["code",{},"<NuxtLayout>"]," component within the page."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  layout: false,\n})\n</script>\n\n<template>\n  <div>\n    <NuxtLayout name=\"custom\">\n      <template #header> Some header template content. </template>\n\n      The rest of the page\n    </NuxtLayout>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  layout"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"custom"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"}," #"],["span",{"class":"smZ93"},"header"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"}," Some header template content. "],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"      The rest of the page\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <header>\n      <slot name=\"header\">\n        Default header content\n      </slot>\n    </header>\n    <main>\n      <slot />\n    </main>\n  </div>\n</template>\n","filename":"app/layouts/custom.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"header"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"        Default header content\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"main"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"main"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["important",{},["p",{},"If you use ",["code",{},"<NuxtLayout>"]," within your pages, make sure it is not the root element (or ",["a",{"href":"/docs/getting-started/transitions#disable-transitions"},"disable layout/page transitions"],")."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"enable-layouts","depth":2,"text":"Enable Layouts"},{"id":"default-layout","depth":2,"text":"Default Layout"},{"id":"named-layout","depth":2,"text":"Named Layout"},{"id":"changing-the-layout-dynamically","depth":2,"text":"Changing the Layout Dynamically"},{"id":"overriding-a-layout-on-a-per-page-basis","depth":2,"text":"Overriding a Layout on a Per-page Basis"}]}}', 'Nuxt provides a layouts framework to extract common UI patterns into reusable layouts.', 'md', NULL, '{"head":{"title":"layouts/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/layouts', '{"title":"layouts","description":"Nuxt provides a layouts framework to extract common UI patterns into reusable layouts."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.layouts', NULL, '0j83p59st6TdrbNQ9mgFQil44M4ZGgDSyMEyUP5DRlQ'); -- 0j83p59st6TdrbNQ9mgFQil44M4ZGgDSyMEyUP5DRlQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.middleware.md', 'middleware', '{"type":"minimark","value":[["p",{},"Nuxt provides a customizable ",["strong",{},"route middleware"]," framework you can use throughout your application, ideal for extracting code that you want to run before navigating to a particular route."],["p",{},"There are three kinds of route middleware:"],["ol",{},["li",{},"Anonymous (or inline) route middleware are defined directly within the page."],["li",{},"Named route middleware, placed in the ",["code",{},"app/middleware/"]," and automatically loaded via asynchronous import when used on a page."],["li",{},"Global route middleware, placed in the ",["code",{},"app/middleware/"]," with a ",["code",{},".global"]," suffix and is run on every route change."]],["p",{},"The first two kinds of route middleware can be defined in ",["a",{"href":"/docs/api/utils/define-page-meta"},["code",{},"definePageMeta"]],"."],["note",{},["p",{},"Name of middleware are normalized to kebab-case: ",["code",{},"myMiddleware"]," becomes ",["code",{},"my-middleware"],"."]],["note",{},["p",{},"Route middleware run within the Vue part of your Nuxt app. Despite the similar name, they are completely different from ",["a",{"href":"/docs/guide/directory-structure/server#server-middleware"},"server middleware"],", which are run in the Nitro server part of your app."]],["video-accordion",{"platform":"vimeo","title":"Watch a video from Vue School on all 3 kinds of middleware","video-id":"761471577"}],["h2",{"id":"usage"},"Usage"],["p",{},"Route middleware are navigation guards that receive the current route and the next route as arguments."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtRouteMiddleware((to, from) => {\n  if (to.params.id === ''1'') {\n    return abortNavigation()\n  }\n  // In a real app you would probably not redirect every route to `/`\n  // however it is important to check `to.path` before redirecting or you\n  // might get an infinite redirect loop\n  if (to.path !== ''/'') {\n    return navigateTo(''/'')\n  }\n})\n","filename":"middleware/my-middleware.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtRouteMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"to"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," from"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"    return"],["span",{"class":"s3cPz"}," abortNavigation"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  // In a real app you would probably not redirect every route to `/`\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // however it is important to check `to.path` before redirecting or you\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"  // might get an infinite redirect loop\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"path"],["span",{"class":"sDfIl"}," !=="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"    return"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Nuxt provides two globally available helpers that can be returned directly from the middleware."],["ol",{},["li",{},["a",{"href":"/docs/api/utils/navigate-to"},["code",{},"navigateTo"]]," - Redirects to the given route"],["li",{},["a",{"href":"/docs/api/utils/abort-navigation"},["code",{},"abortNavigation"]]," - Aborts the navigation, with an optional error message."]],["p",{},"Unlike ",["a",{"href":"https://router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards","rel":["nofollow"]},"navigation guards"]," from ",["code",{},"vue-router"],", a third ",["code",{},"next()"]," argument is not passed, and ",["strong",{},"redirect or route cancellation is handled by returning a value from the middleware"],"."],["p",{},"Possible return values are:"],["ul",{},["li",{},"nothing (a simple ",["code",{},"return"]," or no return at all) - does not block navigation and will move to the next middleware function, if any, or complete the route navigation"],["li",{},["code",{},"return navigateTo(''/'')"]," - redirects to the given path and will set the redirect code to ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302","rel":["nofollow"]},["code",{},"302"]," Found"]," if the redirect happens on the server side"],["li",{},["code",{},"return navigateTo(''/'', { redirectCode: 301 })"]," - redirects to the given path and will set the redirect code to ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/301","rel":["nofollow"]},["code",{},"301"]," Moved Permanently"]," if the redirect happens on the server side"],["li",{},["code",{},"return abortNavigation()"]," - stops the current navigation"],["li",{},["code",{},"return abortNavigation(error)"]," - rejects the current navigation with an error"]],["read-more",{"to":"/docs/api/utils/navigate-to"}],["read-more",{"to":"/docs/api/utils/abort-navigation"}],["important",{},["p",{},"We recommend using the helper functions above for performing redirects or stopping navigation. Other possible return values described in ",["a",{"href":"https://router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards","rel":["nofollow"]},"the vue-router docs"]," may work but there may be breaking changes in future."]],["h2",{"id":"middleware-order"},"Middleware Order"],["p",{},"Middleware runs in the following order:"],["ol",{},["li",{},"Global Middleware"],["li",{},"Page defined middleware order (if there are multiple middleware declared with the array syntax)"]],["p",{},"For example, assuming you have the following middleware and component:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| middleware/\n---| analytics.global.ts\n---| setup.global.ts\n---| auth.ts\n","filename":"app/middleware/ directory","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," middleware/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," analytics.global.ts\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," setup.global.ts\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," auth.ts\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: [\n    function (to, from) {\n      // Custom inline middleware\n    },\n    ''auth'',\n  ],\n});\n</script>\n","filename":"pages/profile.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  middleware"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"    function"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"to"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," from"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"      // Custom inline middleware\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"auth"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"  ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"You can expect the middleware to be run in the following order:"],["ol",{},["li",{},["code",{},"analytics.global.ts"]],["li",{},["code",{},"setup.global.ts"]],["li",{},"Custom inline middleware"],["li",{},["code",{},"auth.ts"]]],["h3",{"id":"ordering-global-middleware"},"Ordering Global Middleware"],["p",{},"By default, global middleware is executed alphabetically based on the filename."],["p",{},"However, there may be times you want to define a specific order. For example, in the last scenario, ",["code",{},"setup.global.ts"]," may need to run before ",["code",{},"analytics.global.ts"],". In that case, we recommend prefixing global middleware with ''alphabetical'' numbering."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| middleware/\n---| 01.setup.global.ts\n---| 02.analytics.global.ts\n---| auth.ts\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," middleware/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," 01.setup.global.ts\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," 02.analytics.global.ts\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," auth.ts\n"]]]],["note",{},["p",{},"In case you''re new to ''alphabetical'' numbering, remember that filenames are sorted as strings, not as numeric values. For example, ",["code",{},"10.new.global.ts"]," would come before ",["code",{},"2.new.global.ts"],". This is why the example prefixes single digit numbers with ",["code",{},"0"],"."]],["h2",{"id":"when-middleware-runs"},"When Middleware Runs"],["p",{},"If your site is server-rendered or generated, middleware for the initial page will be executed both when the page is rendered and then again on the client. This might be needed if your middleware needs a browser environment, such as if you have a generated site, aggressively cache responses, or want to read a value from local storage."],["p",{},"However, if you want to avoid this behaviour you can do so:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtRouteMiddleware(to => {\n  // skip middleware on server\n  if (import.meta.server) return\n  // skip middleware on client side entirely\n  if (import.meta.client) return\n  // or only skip middleware on initial client load\n  const nuxtApp = useNuxtApp()\n  if (import.meta.client && nuxtApp.isHydrating && nuxtApp.payload.serverRendered) return\n})\n","filename":"middleware/example.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtRouteMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"to"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // skip middleware on server\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"server"],["span",{"class":"sRlkE"},") "],["span",{"class":"s8R28"},"return\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // skip middleware on client side entirely\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"client"],["span",{"class":"sRlkE"},") "],["span",{"class":"s8R28"},"return\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // or only skip middleware on initial client load\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"client"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"isHydrating"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"payload"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"serverRendered"],["span",{"class":"sRlkE"},") "],["span",{"class":"s8R28"},"return\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This is true even if you throw an error in your middleware on the server, and an error page is rendered. The middleware will still run again in the browser."],["note",{},["p",{},"Rendering an error page is an entirely separate page load, meaning any registered middleware will run again. You can use ",["a",{"href":"/docs/getting-started/error-handling#useerror"},["code",{},"useError"]]," in middleware to check if an error is being handled."]],["h2",{"id":"accessing-route-in-middleware"},"Accessing Route in Middleware"],["p",{},"Always use the ",["code",{},"to"]," and ",["code",{},"from"]," parameters in your middleware to access the next and previous routes. Avoid using the ",["a",{"href":"/docs/api/composables/use-route"},["code",{},"useRoute()"]]," composable in this context altogether.\nThere is ",["strong",{},"no concept of a \"current route\" in middleware"],", as middleware can abort a navigation or redirect to a different route. The ",["code",{},"useRoute()"]," composable will always be inaccurate in this context."],["warning",{},["p",{},"Sometimes, you might call a composable that uses ",["code",{},"useRoute()"]," internally, which can trigger this warning even if there is no direct call in your middleware.\nThis leads to the ",["strong",{},"same issue as above"],", so you should structure your functions to accept the route as an argument instead when they are used in middleware."]],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @errors: 2304\nexport default defineNuxtRouteMiddleware(to => {\n  // passing the route to the function to avoid calling `useRoute()` in middleware\n  doSomethingWithRoute(to)\n    \n  // ❌ this will output a warning and is NOT recommended\n  callsRouteInternally()\n})\n","filename":"middleware/access-route.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtRouteMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"to"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // passing the route to the function to avoid calling `useRoute()` in middleware\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  doSomethingWithRoute"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"to"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    \n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  // ❌ this will output a warning and is NOT recommended\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"  callsRouteInternally"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// providing the route as an argument so that it can be used in middleware correctly\nexport function doSomethingWithRoute(route = useRoute()) {\n  // ...\n}\n","filename":"utils/handle-route.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// providing the route as an argument so that it can be used in middleware correctly\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," doSomethingWithRoute"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"route"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // ...\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// ❌ this function is not suitable for use in middleware\nexport function callsRouteInternally() {\n    const route = useRoute()\n  // ...\n}\n","filename":"utils/dont-do-this.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// ❌ this function is not suitable for use in middleware\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," callsRouteInternally"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," route"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // ...\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]]]]],["h2",{"id":"adding-middleware-dynamically"},"Adding Middleware Dynamically"],["p",{},"It is possible to add global or named route middleware manually using the ",["a",{"href":"/docs/api/utils/add-route-middleware"},["code",{},"addRouteMiddleware()"]]," helper function, such as from within a plugin."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin(() => {\n  addRouteMiddleware(''global-test'', () => {\n    console.log(''this global middleware was added in a plugin and will be run on every route change'')\n  }, { global: true })\n\n  addRouteMiddleware(''named-test'', () => {\n    console.log(''this named middleware was added in a plugin and would override any existing middleware of the same name'')\n  })\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"  addRouteMiddleware"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"global-test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"this global middleware was added in a plugin and will be run on every route change"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  },"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," global"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"  addRouteMiddleware"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"named-test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"this named middleware was added in a plugin and would override any existing middleware of the same name"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"example"},"Example"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| middleware/\n---| auth.ts\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," middleware/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," auth.ts\n"]]]],["p",{},"In your page file, you can reference this route middleware:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: [\"auth\"]\n  // or middleware: ''auth''\n})\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  middleware"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"auth"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // or middleware: ''auth''\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Now, before navigation to that page can complete, the ",["code",{},"auth"]," route middleware will be run."],["link-example",{"to":"/docs/examples/routing/middleware"}],["h2",{"id":"setting-middleware-at-build-time"},"Setting Middleware at Build Time"],["p",{},"Instead of using ",["code",{},"definePageMeta"]," on each page, you can add named route middleware within the ",["code",{},"pages:extend"]," hook."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { NuxtPage } from ''nuxt/schema''\n\nexport default defineNuxtConfig({\n  hooks: {\n    ''pages:extend'' (pages) {\n      function setMiddleware (pages: NuxtPage[]) {\n        for (const page of pages) {\n          if (/* some condition */ true) {\n            page.meta ||= {}\n            // Note that this will override any middleware set in `definePageMeta` in the page\n            page.meta.middleware = [''named'']\n          }\n          if (page.children) {\n            setMiddleware(page.children)\n          }\n        }\n      }\n      setMiddleware(pages)\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," NuxtPage"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/schema"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"pages:extend"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"pages"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"      function"],["span",{"class":"s3cPz"}," setMiddleware"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"pages"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," NuxtPage"],["span",{"class":"sRlkE"},"[]"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"        for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"}," of"],["span",{"class":"sZSNi"}," pages"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"          if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sWuyu"},"/* some condition */"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"            page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"}," ||="],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"            // Note that this will override any middleware set in `definePageMeta` in the page\n"]],["span",{"class":"line","line":11},["span",{"class":"sZSNi"},"            page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"middleware"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sRlkE"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"named"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"]\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"          }\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"          if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"children"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":14},["span",{"class":"s3cPz"},"            setMiddleware"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"children"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"          }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":18},["span",{"class":"s3cPz"},"      setMiddleware"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"pages"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"},{"id":"middleware-order","depth":2,"text":"Middleware Order","children":[{"id":"ordering-global-middleware","depth":3,"text":"Ordering Global Middleware"}]},{"id":"when-middleware-runs","depth":2,"text":"When Middleware Runs"},{"id":"accessing-route-in-middleware","depth":2,"text":"Accessing Route in Middleware"},{"id":"adding-middleware-dynamically","depth":2,"text":"Adding Middleware Dynamically"},{"id":"example","depth":2,"text":"Example"},{"id":"setting-middleware-at-build-time","depth":2,"text":"Setting Middleware at Build Time"}]}}', 'Nuxt provides middleware to run code before navigating to a particular route.', 'md', NULL, '{"head":{"title":"middleware/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/middleware', '{"title":"middleware","description":"Nuxt provides middleware to run code before navigating to a particular route."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.middleware', NULL, 'GL4ikdGp9CCqiaFo6AAIp9Ex1HaD3MOWZp2WPGGkemo'); -- GL4ikdGp9CCqiaFo6AAIp9Ex1HaD3MOWZp2WPGGkemo
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.pages.md', 'pages', '{"type":"minimark","value":[["note",{},["p",{},"To reduce your application''s bundle size, this directory is ",["strong",{},"optional"],", meaning that ",["a",{"href":"https://router.vuejs.org","rel":["nofollow"]},["code",{},"vue-router"]]," won''t be included if you only use ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]],". To force the pages system, set ",["code",{},"pages: true"]," in ",["code",{},"nuxt.config"]," or have a ",["a",{"href":"/docs/guide/recipes/custom-routing#using-approuteroptions"},["code",{},"router.options.ts"]],"."]],["h2",{"id":"usage"},"Usage"],["p",{},"Pages are Vue components and can have any ",["a",{"href":"/docs/api/configuration/nuxt-config#extensions"},"valid extension"]," that Nuxt supports (by default ",["code",{},".vue"],", ",["code",{},".js"],", ",["code",{},".jsx"],", ",["code",{},".mjs"],", ",["code",{},".ts"]," or ",["code",{},".tsx"],")."],["p",{},"Nuxt will automatically create a route for every page in your ",["code",{},"~/pages/"]," directory."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <h1>Index page</h1>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Index page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// https://vuejs.org/guide/extras/render-function.html\nexport default defineComponent({\n  render () {\n    return h(''h1'', ''Index page'')\n  }\n})\n","filename":"pages/index.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// https://vuejs.org/guide/extras/render-function.html\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  render"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"    return"],["span",{"class":"s3cPz"}," h"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"h1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Index page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-tsx shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// https://nuxt.com/docs/examples/advanced/jsx\n// https://vuejs.org/guide/extras/render-function.html#jsx-tsx\nexport default defineComponent({\n  render () {\n    return <h1>Index page</h1>\n  }\n})\n","filename":"pages/index.tsx","language":"tsx","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"// https://nuxt.com/docs/examples/advanced/jsx\n"]],["span",{"class":"line","line":2},["span",{},"// https://vuejs.org/guide/extras/render-function.html#jsx-tsx\n"]],["span",{"class":"line","line":3},["span",{},"export default defineComponent({\n"]],["span",{"class":"line","line":4},["span",{},"  render () {\n"]],["span",{"class":"line","line":5},["span",{},"    return <h1>Index page</h1>\n"]],["span",{"class":"line","line":6},["span",{},"  }\n"]],["span",{"class":"line","line":7},["span",{},"})\n"]]]]],["p",{},"The ",["code",{},"app/pages/index.vue"]," file will be mapped to the ",["code",{},"/"]," route of your application."],["p",{},"If you are using ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]],", make sure to use the ",["a",{"href":"/docs/api/components/nuxt-page"},["code",{},"<NuxtPage/>"]]," component to display the current page:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <!-- Markup shared across all pages, ex: NavBar -->\n    <NuxtPage />\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    <!-- Markup shared across all pages, ex: NavBar -->\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Pages ",["strong",{},"must have a single root element"]," to allow ",["a",{"href":"/docs/getting-started/transitions"},"route transitions"]," between pages. HTML comments are considered elements as well."],["p",{},"This means that when the route is server-rendered, or statically generated, you will be able to see its contents correctly, but when you navigate towards that route during client-side navigation the transition between routes will fail and you''ll see that the route will not be rendered."],["p",{},"Here are some examples to illustrate what a page with a single root element looks like:"],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <!-- This page correctly has only one single root element -->\n    Page content\n  </div>\n</template>\n","filename":"app/pages/working.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    <!-- This page correctly has only one single root element -->\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    Page content\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <!-- This page will not render when route changes during client side navigation, because of this comment -->\n  <div>Page content</div>\n</template>\n","filename":"app/pages/bad-1.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  <!-- This page will not render when route changes during client side navigation, because of this comment -->\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Page content"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>This page</div>\n  <div>Has more than one root element</div>\n  <div>And will not render when route changes during client side navigation</div>\n</template>\n","filename":"app/pages/bad-2.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"This page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Has more than one root element"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"And will not render when route changes during client side navigation"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["h2",{"id":"dynamic-routes"},"Dynamic Routes"],["p",{},"If you place anything within square brackets, it will be turned into a ",["a",{"href":"https://router.vuejs.org/guide/essentials/dynamic-matching.html","rel":["nofollow"]},"dynamic route"]," parameter. You can mix and match multiple parameters and even non-dynamic text within a file name or directory."],["p",{},"If you want a parameter to be ",["em",{},"optional"],", you must enclose it in double square brackets - for example, ",["code",{},"~/pages/[[slug]]/index.vue"]," or ",["code",{},"~/pages/[[slug]].vue"]," will match both ",["code",{},"/"]," and ",["code",{},"/test"],"."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| pages/\n---| index.vue\n---| users-[group]/\n-----| [id].vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," pages/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," index.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," users-[group]/\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"sDfIl"}," ["],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"]"],["span",{"class":"s52Pk"},".vue\n"]]]],["p",{},"Given the example above, you can access group/id within your component via the ",["code",{},"$route"]," object:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <p>{{ $route.params.group }} - {{ $route.params.id }}</p>\n</template>\n","filename":"app/pages/users-[group]/[id].vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ $route.params.group }} - {{ $route.params.id }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Navigating to ",["code",{},"/users-admins/123"]," would render:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<p>admins - 123</p>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"admins - 123"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you want to access the route using Composition API, there is a global ",["a",{"href":"/docs/api/composables/use-route"},["code",{},"useRoute"]]," function that will allow you to access the route just like ",["code",{},"this.$route"]," in the Options API."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst route = useRoute()\n\nif (route.params.group === ''admins'' && !route.params.id) {\n  console.log(''Warning! Make sure user is authenticated!'')\n}\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"if"],["span",{"class":"sZSNi"}," (route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"group "],["span",{"class":"sDfIl"},"==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"admins"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sDfIl"}," !"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Warning! Make sure user is authenticated!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Named parent routes will take priority over nested dynamic routes. For the ",["code",{},"/foo/hello"]," route, ",["code",{},"~/pages/foo.vue"]," will take priority over ",["code",{},"~/pages/foo/[slug].vue"],". ",["br",{}]," Use ",["code",{},"~/pages/foo/index.vue"]," and ",["code",{},"~/pages/foo/[slug].vue"]," to match ",["code",{},"/foo"]," and ",["code",{},"/foo/hello"]," with different pages,."]],["video-accordion",{"platform":"vimeo","title":"Watch a video from Vue School on dynamic routes","video-id":"754465699"}],["h2",{"id":"catch-all-route"},"Catch-all Route"],["p",{},"If you need a catch-all route, you create it by using a file named like ",["code",{},"[...slug].vue"],". This will match ",["em",{},"all"]," routes under that path."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <p>{{ $route.params.slug }}</p>\n</template>\n","filename":"app/pages/[...slug].vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ $route.params.slug }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Navigating to ",["code",{},"/hello/world"]," would render:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<p>[\"hello\", \"world\"]</p>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"[\"hello\", \"world\"]"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"nested-routes"},"Nested Routes"],["p",{},"It is possible to display ",["a",{"href":"https://next.router.vuejs.org/guide/essentials/nested-routes.html","rel":["nofollow"]},"nested routes"]," with ",["code",{},"<NuxtPage>"],"."],["p",{},"Example:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| pages/\n---| parent/\n-----| child.vue\n---| parent.vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," pages/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," parent/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," child.vue\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," parent.vue\n"]]]],["p",{},"This file tree will generate these routes:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"[\n  {\n    path: ''/parent'',\n    component: ''~/pages/parent.vue'',\n    name: ''parent'',\n    children: [\n      {\n        path: ''child'',\n        component: ''~/pages/parent/child.vue'',\n        name: ''parent-child''\n      }\n    ]\n  }\n]\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"[\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/parent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    component"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/pages/parent.vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"parent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    children"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"        path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"child"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"        component"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/pages/parent/child.vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"        name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"parent-child"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"    ]\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":14},["span",{"class":"sZSNi"},"]\n"]]]],["p",{},"To display the ",["code",{},"child.vue"]," component, you have to insert the ",["code",{},"<NuxtPage>"]," component inside ",["code",{},"app/pages/parent.vue"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>I am the parent view</h1>\n    <NuxtPage :foobar=\"123\" />\n  </div>\n</template>\n","filename":"pages/parent.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"I am the parent view"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"smZ93"}," :foobar"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"123"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst props = defineProps([''foobar''])\n\nconsole.log(props.foobar)\n</script>\n","filename":"pages/parent/child.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," props "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," defineProps"],["span",{"class":"sZSNi"},"(["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"foobar"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"])\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(props"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"foobar)\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"child-route-keys"},"Child Route Keys"],["p",{},"If you want more control over when the ",["code",{},"<NuxtPage>"]," component is re-rendered (for example, for transitions), you can either pass a string or function via the ",["code",{},"pageKey"]," prop, or you can define a ",["code",{},"key"]," value via ",["code",{},"definePageMeta"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>I am the parent view</h1>\n    <NuxtPage :page-key=\"route => route.fullPath\" />\n  </div>\n</template>\n","filename":"pages/parent.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"I am the parent view"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"smZ93"}," :page-key"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"route => route.fullPath"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Or alternatively:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  key: route => route.fullPath\n})\n</script>\n","filename":"pages/parent/child.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  key"],["span",{"class":"sDfIl"},":"],["span",{"class":"s1nJG"}," route"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"fullPath\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["link-example",{"to":"/docs/examples/routing/pages"}],["h2",{"id":"route-groups"},"Route Groups"],["p",{},"In some cases, you may want to group a set of routes together in a way which doesn''t affect file-based routing. For this purpose, you can put files in a folder which is wrapped in parentheses - ",["code",{},"("]," and ",["code",{},")"],"."],["p",{},"For example:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| pages/\n---| index.vue\n---| (marketing)/\n-----| about.vue\n-----| contact.vue\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," pages/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," index.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s52Pk"},"marketing"],["span",{"class":"sDfIl"},")"],["span",{"class":"s52Pk"},"/\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," about.vue\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," contact.vue\n"]]]],["p",{},"This will produce ",["code",{},"/"],", ",["code",{},"/about"]," and ",["code",{},"/contact"]," pages in your app. The ",["code",{},"marketing"]," group is ignored for purposes of your URL structure."],["h2",{"id":"page-metadata"},"Page Metadata"],["p",{},"You might want to define metadata for each route in your app. You can do this using the ",["code",{},"definePageMeta"]," macro, which will work both in ",["code",{},"<script>"]," and in ",["code",{},"<script setup>"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  title: ''My home page''\n})\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"My home page"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"This data can then be accessed throughout the rest of your app from the ",["code",{},"route.meta"]," object."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst route = useRoute()\n\nconsole.log(route.meta.title) // My home page\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"title) "],["span",{"class":"sWuyu"},"// My home page\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you are using nested routes, the page metadata from all these routes will be merged into a single object. For more on route meta, see the ",["a",{"href":"https://router.vuejs.org/guide/advanced/meta.html#route-meta-fields","rel":["nofollow"]},"vue-router docs"],"."],["p",{},"Much like ",["code",{},"defineEmits"]," or ",["code",{},"defineProps"]," (see ",["a",{"href":"https://vuejs.org/api/sfc-script-setup.html#defineprops-defineemits","rel":["nofollow"]},"Vue docs"],"), ",["code",{},"definePageMeta"]," is a ",["strong",{},"compiler macro"],". It will be compiled away so you cannot reference it within your component. Instead, the metadata passed to it will be hoisted out of the component.\nTherefore, the page meta object cannot reference the component. However, it can reference imported bindings, as well as locally defined ",["strong",{},"pure functions"],"."],["warning",{},["p",{},"Make sure not to reference any reactive data or functions that cause side effects. This can lead to unexpected behavior."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport { someData } from ''~/utils/example''\n\nfunction validateIdParam(route) {\n  return route.params.id && !isNaN(Number(route.params.id))\n}\n\nconst title = ref('''')\n\ndefinePageMeta({\n  validate: validateIdParam,\n  someData,\n  title,    // do not do this, the ref will be hoisted out of the component\n})\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," someData"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/utils/example"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," validateIdParam"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"route"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sDfIl"}," !"],["span",{"class":"s3cPz"},"isNaN"],["span",{"class":"sRlkE"},"("],["span",{"class":"s3cPz"},"Number"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," title "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"  validate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," validateIdParam"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"  someData"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":13},["span",{"class":"sZSNi"},"  title"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"    // do not do this, the ref will be hoisted out of the component\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"special-metadata"},"Special Metadata"],["p",{},"Of course, you are welcome to define metadata for your own use throughout your app. But some metadata defined with ",["code",{},"definePageMeta"]," has a particular purpose:"],["h4",{"id":"alias"},["code",{},"alias"]],["p",{},"You can define page aliases. They allow you to access the same page from different paths. It can be either a string or an array of strings as defined ",["a",{"href":"https://router.vuejs.org/guide/essentials/redirect-and-alias.html#Alias","rel":["nofollow"]},"in the vue-router documentation"],"."],["h4",{"id":"keepalive"},["code",{},"keepalive"]],["p",{},"Nuxt will automatically wrap your page in ",["a",{"href":"https://vuejs.org/guide/built-ins/keep-alive.html#keepalive","rel":["nofollow"]},"the Vue ",["code",{},"<KeepAlive>"]," component"]," if you set ",["code",{},"keepalive: true"]," in your ",["code",{},"definePageMeta"],". This might be useful to do, for example, in a parent route that has dynamic child routes, if you want to preserve page state across route changes."],["p",{},"When your goal is to preserve state for parent routes use this syntax: ",["code",{},"<NuxtPage keepalive />"],". You can also set props to be passed to ",["code",{},"<KeepAlive>"]," (see ",["a",{"href":"https://vuejs.org/api/built-in-components.html#keepalive","rel":["nofollow"]},"a full list"],")."],["p",{},"You can set a default value for this property ",["a",{"href":"/docs/api/nuxt-config#keepalive"},"in your ",["code",{},"nuxt.config"]],"."],["h4",{"id":"key"},["code",{},"key"]],["p",{},["a",{"href":"#child-route-keys"},"See above"],"."],["h4",{"id":"layout"},["code",{},"layout"]],["p",{},"You can define the layout used to render the route. This can be either false (to disable any layout), a string or a ref/computed, if you want to make it reactive in some way. ",["a",{"href":"/docs/guide/directory-structure/app/layouts"},"More about layouts"],"."],["h4",{"id":"layouttransition-and-pagetransition"},["code",{},"layoutTransition"]," and ",["code",{},"pageTransition"]],["p",{},"You can define transition properties for the ",["code",{},"<transition>"]," component that wraps your pages and layouts, or pass ",["code",{},"false"]," to disable the ",["code",{},"<transition>"]," wrapper for that route. You can see ",["a",{"href":"https://vuejs.org/api/built-in-components.html#transition","rel":["nofollow"]},"a list of options that can be passed"]," or read ",["a",{"href":"https://vuejs.org/guide/built-ins/transition.html#transition","rel":["nofollow"]},"more about how transitions work"],"."],["p",{},"You can set default values for these properties ",["a",{"href":"/docs/api/nuxt-config#layouttransition"},"in your ",["code",{},"nuxt.config"]],"."],["h4",{"id":"middleware"},["code",{},"middleware"]],["p",{},"You can define middleware to apply before loading this page. It will be merged with all the other middleware used in any matching parent/child routes. It can be a string, a function (an anonymous/inlined middleware function following ",["a",{"href":"https://router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards","rel":["nofollow"]},"the global before guard pattern"],"), or an array of strings/functions. ",["a",{"href":"/docs/guide/directory-structure/app/middleware"},"More about named middleware"],"."],["h4",{"id":"name"},["code",{},"name"]],["p",{},"You may define a name for this page''s route."],["h4",{"id":"path"},["code",{},"path"]],["p",{},"You may define a path matcher, if you have a more complex pattern than can be expressed with the file name. See ",["a",{"href":"https://router.vuejs.org/guide/essentials/route-matching-syntax.html#custom-regex-in-params","rel":["nofollow"]},"the ",["code",{},"vue-router"]," docs"]," for more information."],["h4",{"id":"props"},["code",{},"props"]],["p",{},"Allows accessing the route ",["code",{},"params"]," as props passed to the page component. See ",["a",{"href":"https://router.vuejs.org/guide/essentials/passing-props","rel":["nofollow"]},"the ",["code",{},"vue-router"]," docs"]," for more information."],["h3",{"id":"typing-custom-metadata"},"Typing Custom Metadata"],["p",{},"If you add custom metadata for your pages, you may wish to do so in a type-safe way. It is possible to augment the type of the object accepted by ",["code",{},"definePageMeta"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"declare module ''#app'' {\n  interface PageMeta {\n    pageType?: string\n  }\n}\n\n// It is always important to ensure you import/export something when augmenting a type\nexport {}\n","filename":"index.d.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#app"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," PageMeta"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    pageType"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"// It is always important to ensure you import/export something when augmenting a type\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {}\n"]]]],["h2",{"id":"navigation"},"Navigation"],["p",{},"To navigate between pages of your app, you should use the ",["a",{"href":"/docs/api/components/nuxt-link"},["code",{},"<NuxtLink>"]]," component."],["p",{},"This component is included with Nuxt and therefore you don''t have to import it as you do with other components."],["p",{},"A simple link to the ",["code",{},"index.vue"]," page in your ",["code",{},"app/pages"]," folder:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtLink to=\"/\">Home page</NuxtLink>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Home page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/components/nuxt-link"},["p",{},"Learn more about ",["code",{},"<NuxtLink>"]," usage."]],["h2",{"id":"programmatic-navigation"},"Programmatic Navigation"],["p",{},"Nuxt allows programmatic navigation through the ",["code",{},"navigateTo()"]," utility method. Using this utility method, you will be able to programmatically navigate the user in your app. This is great for taking input from the user and navigating them dynamically throughout your application. In this example, we have a simple method called ",["code",{},"navigate()"]," that gets called when the user submits a search form."],["note",{},["p",{},"Make sure to always ",["code",{},"await"]," on ",["code",{},"navigateTo"]," or chain its result by returning from functions."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst name = ref('''');\nconst type = ref(1);\n\nfunction navigate(){\n  return navigateTo({\n    path: ''/search'',\n    query: {\n      name: name.value,\n      type: type.value\n    }\n  })\n}\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," name "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," type "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," navigate"],["span",{"class":"sDfIl"},"(){\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/search"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    query"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," name"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      type"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," type"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"client-only-pages"},"Client-Only Pages"],["p",{},"You can define a page as ",["a",{"href":"/docs/guide/directory-structure/app/components#client-components"},"client only"]," by giving it a ",["code",{},".client.vue"]," suffix. None of the content of this page will be rendered on the server."],["h2",{"id":"server-only-pages"},"Server-Only Pages"],["p",{},"You can define a page as ",["a",{"href":"/docs/guide/directory-structure/app/components#server-components"},"server only"]," by giving it a ",["code",{},".server.vue"]," suffix. While you will be able to navigate to the page using client-side navigation, controlled by ",["code",{},"vue-router"],", it will be rendered with a server component automatically, meaning the code required to render the page will not be in your client-side bundle."],["warning",{},["p",{},"Server-only pages must have a single root element. (HTML comments are considered elements as well.)"]],["h2",{"id":"custom-routing"},"Custom Routing"],["p",{},"As your app gets bigger and more complex, your routing might require more flexibility. For this reason, Nuxt directly exposes the router, routes and router options for customization in different ways."],["read-more",{"to":"/docs/guide/recipes/custom-routing"}],["h2",{"id":"multiple-pages-directories"},"Multiple Pages Directories"],["p",{},"By default, all your pages should be in one ",["code",{},"app/pages"]," directory at the root of your project."],["p",{},"However, you can use ",["a",{"href":"/docs/getting-started/layers"},"Nuxt Layers"]," to create groupings of your app''s pages:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| some-app/\n---| nuxt.config.ts\n---| pages/\n-----| app-page.vue\n-| nuxt.config.ts\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," some-app/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," nuxt.config.ts\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," pages/\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," app-page.vue\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," nuxt.config.ts\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// some-app/nuxt.config.ts\nexport default defineNuxtConfig({\n})\n","filename":"some-app/nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// some-app/nuxt.config.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [''./some-app''],\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./some-app"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/going-further/layers"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"},{"id":"dynamic-routes","depth":2,"text":"Dynamic Routes"},{"id":"catch-all-route","depth":2,"text":"Catch-all Route"},{"id":"nested-routes","depth":2,"text":"Nested Routes","children":[{"id":"child-route-keys","depth":3,"text":"Child Route Keys"}]},{"id":"route-groups","depth":2,"text":"Route Groups"},{"id":"page-metadata","depth":2,"text":"Page Metadata","children":[{"id":"special-metadata","depth":3,"text":"Special Metadata"},{"id":"typing-custom-metadata","depth":3,"text":"Typing Custom Metadata"}]},{"id":"navigation","depth":2,"text":"Navigation"},{"id":"programmatic-navigation","depth":2,"text":"Programmatic Navigation"},{"id":"client-only-pages","depth":2,"text":"Client-Only Pages"},{"id":"server-only-pages","depth":2,"text":"Server-Only Pages"},{"id":"custom-routing","depth":2,"text":"Custom Routing"},{"id":"multiple-pages-directories","depth":2,"text":"Multiple Pages Directories"}]}}', 'Nuxt provides file-based routing to create routes within your web application.', 'md', NULL, '{"head":{"title":"pages/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/pages', '{"title":"pages","description":"Nuxt provides file-based routing to create routes within your web application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.pages', NULL, 'MD0GWeSGRCNE4kUfMBHtUw7WJ2-9rLteT9zU_CuluBI'); -- MD0GWeSGRCNE4kUfMBHtUw7WJ2-9rLteT9zU_CuluBI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.plugins.md', 'plugins', '{"type":"minimark","value":[["p",{},"Nuxt automatically reads the files in the ",["code",{},"app/plugins/"]," directory and loads them at the creation of the Vue application."],["note",{},["p",{},"All plugins inside are auto-registered, you don''t need to add them to your ",["code",{},"nuxt.config"]," separately."]],["note",{},["p",{},"You can use ",["code",{},".server"]," or ",["code",{},".client"]," suffix in the file name to load a plugin only on the server or client side."]],["h2",{"id":"registered-plugins"},"Registered Plugins"],["p",{},"Only files at the top level of the directory (or index files within any subdirectories) will be auto-registered as plugins."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| plugins/\n---| foo.ts      // scanned\n---| bar/\n-----| baz.ts    // not scanned\n-----| foz.vue   // not scanned\n-----| index.ts  // currently scanned but deprecated\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," plugins/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," foo.ts"],["span",{"class":"sGFVr"},"      //"],["span",{"class":"sGFVr"}," scanned\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," bar/\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," baz.ts"],["span",{"class":"sGFVr"},"    //"],["span",{"class":"sGFVr"}," not"],["span",{"class":"sGFVr"}," scanned\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," foz.vue"],["span",{"class":"sGFVr"},"   //"],["span",{"class":"sGFVr"}," not"],["span",{"class":"sGFVr"}," scanned\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," index.ts"],["span",{"class":"sGFVr"},"  //"],["span",{"class":"sGFVr"}," currently"],["span",{"class":"sGFVr"}," scanned"],["span",{"class":"sGFVr"}," but"],["span",{"class":"sGFVr"}," deprecated\n"]]]],["p",{},"Only ",["code",{},"foo.ts"]," and ",["code",{},"bar/index.ts"]," would be registered."],["p",{},"To add plugins in subdirectories, you can use the ",["a",{"href":"/docs/api/nuxt-config#plugins-1"},["code",{},"app/plugins"]]," option in ",["code",{},"nuxt.config.ts"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  plugins: [\n    ''~/plugins/bar/baz'',\n    ''~/plugins/bar/foz''\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  plugins"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"~/plugins/bar/baz"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"~/plugins/bar/foz"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"creating-plugins"},"Creating Plugins"],["p",{},"The only argument passed to a plugin is ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"nuxtApp"]],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin(nuxtApp => {\n  // Doing something with nuxtApp\n})\n","filename":"plugins/hello.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // Doing something with nuxtApp\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"object-syntax-plugins"},"Object Syntax Plugins"],["p",{},"It is also possible to define a plugin using an object syntax, for more advanced use cases. For example:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin({\n  name: ''my-plugin'',\n  enforce: ''pre'', // or ''post''\n  async setup (nuxtApp) {\n    // this is the equivalent of a normal functional plugin\n  },\n  hooks: {\n    // You can directly register Nuxt app runtime hooks here\n    ''app:created''() {\n      const nuxtApp = useNuxtApp()\n      // do something in the hook\n    }\n  },\n  env: {\n    // Set this value to `false` if you don''t want the plugin to run when rendering server-only or island components.\n    islands: true\n  }\n})\n","filename":"plugins/hello.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  enforce"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"pre"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // or ''post''\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // this is the equivalent of a normal functional plugin\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"    // You can directly register Nuxt app runtime hooks here\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"app:created"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"      // do something in the hook\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":14},["span",{"class":"sRlkE"},"  env"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"    // Set this value to `false` if you don''t want the plugin to run when rendering server-only or island components.\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"    islands"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["video-accordion",{"title":"Watch a video from Alexander Lichter about the Object Syntax for Nuxt plugins","video-id":"2aXZyXB1QGQ"}],["note",{},["p",{},"If you are using the object-syntax, the properties are statically analyzed to produce a more optimized build. So you should not define them at runtime. ",["br",{}],"\nFor example, setting ",["code",{},"enforce: import.meta.server ? ''pre'' : ''post''"]," would defeat any future optimization Nuxt is able to do for your plugins.\nNuxt does statically pre-load any hook listeners when using object-syntax, allowing you to define hooks without needing to worry about order of plugin registration."]],["h2",{"id":"registration-order"},"Registration Order"],["p",{},"You can control the order in which plugins are registered by prefixing with ''alphabetical'' numbering to the file names."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"plugins/\n | - 01.myPlugin.ts\n | - 02.myOtherPlugin.ts\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"plugins/\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"}," |"],["span",{"class":"s52Pk"}," -"],["span",{"class":"sGFVr"}," 01.myPlugin.ts\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"}," |"],["span",{"class":"s52Pk"}," -"],["span",{"class":"sGFVr"}," 02.myOtherPlugin.ts\n"]]]],["p",{},"In this example, ",["code",{},"02.myOtherPlugin.ts"]," will be able to access anything that was injected by ",["code",{},"01.myPlugin.ts"],"."],["p",{},"This is useful in situations where you have a plugin that depends on another plugin."],["note",{},["p",{},"In case you''re new to ''alphabetical'' numbering, remember that filenames are sorted as strings, not as numeric values. For example, ",["code",{},"10.myPlugin.ts"]," would come before ",["code",{},"2.myOtherPlugin.ts"],". This is why the example prefixes single digit numbers with ",["code",{},"0"],"."]],["h2",{"id":"loading-strategy"},"Loading Strategy"],["h3",{"id":"parallel-plugins"},"Parallel Plugins"],["p",{},"By default, Nuxt loads plugins sequentially. You can define a plugin as ",["code",{},"parallel"]," so Nuxt won''t wait until the end of the plugin''s execution before loading the next plugin."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin({\n  name: ''my-plugin'',\n  parallel: true,\n  async setup (nuxtApp) {\n    // the next plugin will be executed immediately\n  }\n})\n","filename":"plugins/my-plugin.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  parallel"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // the next plugin will be executed immediately\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"plugins-with-dependencies"},"Plugins With Dependencies"],["p",{},"If a plugin needs to wait for another plugin before it runs, you can add the plugin''s name to the ",["code",{},"dependsOn"]," array."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin({\n  name: ''depends-on-my-plugin'',\n  dependsOn: [''my-plugin''],\n  async setup (nuxtApp) {\n    // this plugin will wait for the end of `my-plugin`''s execution before it runs\n  }\n})\n","filename":"plugins/depending-on-my-plugin.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"depends-on-my-plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  dependsOn"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my-plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // this plugin will wait for the end of `my-plugin`''s execution before it runs\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"using-composables"},"Using Composables"],["p",{},"You can use ",["a",{"href":"/docs/guide/directory-structure/app/composables"},"composables"]," as well as ",["a",{"href":"/docs/guide/directory-structure/app/utils"},"utils"]," within Nuxt plugins:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin((nuxtApp) => {\n  const foo = useFoo()\n})\n","filename":"app/plugins/hello.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," foo"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useFoo"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"However, keep in mind there are some limitations and differences:"],["important",{},["p",{},["strong",{},"If a composable depends on another plugin registered later, it might not work."]," ",["br",{}]],["p",{},"Plugins are called in order sequentially and before everything else. You might use a composable that depends on another plugin which has not been called yet."]],["important",{},["p",{},["strong",{},"If a composable depends on the Vue.js lifecycle, it won''t work."]," ",["br",{}]],["p",{},"Normally, Vue.js composables are bound to the current component instance while plugins are only bound to ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"nuxtApp"]]," instance."]],["h2",{"id":"providing-helpers"},"Providing Helpers"],["p",{},"If you would like to provide a helper on the ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"NuxtApp"]]," instance, return it from the plugin under a ",["code",{},"provide"]," key."],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin(() => {\n  return {\n    provide: {\n      hello: (msg: string) => `Hello ${msg}!`\n    }\n  }\n})\n","filename":"plugins/hello.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    provide"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"      hello"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"msg"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Hello "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"msg"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"},"!"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin({\n  name: ''hello'',\n  setup () {\n    return {\n      provide: {\n        hello: (msg: string) => `Hello ${msg}!`\n      }\n    }\n  }\n})\n","filename":"plugins/hello-object-syntax.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      provide"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"        hello"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"msg"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Hello "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"msg"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"},"!"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["p",{},"You can then use the helper in your components:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n// alternatively, you can also use it here\nconst { $hello } = useNuxtApp()\n</script>\n\n<template>\n  <div>\n    {{ $hello(''world'') }}\n  </div>\n</template>\n","filename":"app/components/Hello.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// alternatively, you can also use it here\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," $hello "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"    {{ $hello(''world'') }}\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["important",{},["p",{},"Note that we highly recommend using ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"composables"]]," instead of providing helpers to avoid polluting the global namespace and keep your main bundle entry small."]],["warning",{},["p",{},["strong",{},"If your plugin provides a ",["code",{},"ref"]," or ",["code",{},"computed"],", it will not be unwrapped in a component ",["code",{},"<template>"],"."]," ",["br",{}],"\nThis is due to how Vue works with refs that aren''t top-level to the template. You can read more about it ",["a",{"href":"https://vuejs.org/guide/essentials/reactivity-fundamentals.html#caveat-when-unwrapping-in-templates","rel":["nofollow"]},"in the Vue documentation"],"."]],["h2",{"id":"typing-plugins"},"Typing Plugins"],["p",{},"If you return your helpers from the plugin, they will be typed automatically; you''ll find them typed for the return of ",["code",{},"useNuxtApp()"]," and within your templates."],["note",{},["p",{},"If you need to use a provided helper ",["em",{},"within"]," another plugin, you can call ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"useNuxtApp()"]]," to get the typed version. But in general, this should be avoided unless you are certain of the plugins'' order."]],["p",{},"For advanced use-cases, you can declare the type of injected properties like this:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"declare module ''#app'' {\n  interface NuxtApp {\n    $hello (msg: string): string\n  }\n}\n\ndeclare module ''vue'' {\n  interface ComponentCustomProperties {\n    $hello (msg: string): string\n  }\n}\n\nexport {}\n","filename":"index.d.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#app"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," NuxtApp"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    $hello "],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"msg"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},"):"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," ComponentCustomProperties"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"    $hello "],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"msg"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},"):"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {}\n"]]]],["note",{},["p",{},"If you are using WebStorm, you may need to augment ",["code",{},"@vue/runtime-core"]," until ",["a",{"href":"https://youtrack.jetbrains.com/issue/WEB-59818/VUE-TypeScript-WS-PS-does-not-correctly-display-type-of-globally-injected-properties","rel":["nofollow"]},"this issue"]," is resolved."]],["h2",{"id":"vue-plugins"},"Vue Plugins"],["p",{},"If you want to use Vue plugins, like ",["a",{"href":"https://github.com/MatteoGabriele/vue-gtag","rel":["nofollow"]},"vue-gtag"]," to add Google Analytics tags, you can use a Nuxt plugin to do so."],["p",{},"First, install the Vue plugin dependency:"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install --save-dev vue-gtag-next\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," --save-dev"],["span",{"class":"sGFVr"}," vue-gtag-next\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add --dev vue-gtag-next\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," vue-gtag-next\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add -D vue-gtag-next\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," vue-gtag-next\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add -D vue-gtag-next\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," vue-gtag-next\n"]]]]],["p",{},"Then create a plugin file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import VueGtag, { trackRouter } from ''vue-gtag-next''\n\nexport default defineNuxtPlugin((nuxtApp) => {\n  nuxtApp.vueApp.use(VueGtag, {\n    property: {\n      id: ''GA_MEASUREMENT_ID''\n    }\n  })\n  trackRouter(useRouter())\n})\n","filename":"app/plugins/vue-gtag.client.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," VueGtag"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," trackRouter"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vue-gtag-next"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"vueApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"use"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"VueGtag"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    property"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      id"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"GA_MEASUREMENT_ID"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"  trackRouter"],["span",{"class":"sRlkE"},"("],["span",{"class":"s3cPz"},"useRouter"],["span",{"class":"sRlkE"},"())\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"vue-directives"},"Vue Directives"],["p",{},"Similarly, you can register a custom Vue directive in a plugin."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin((nuxtApp) => {\n  nuxtApp.vueApp.directive(''focus'', {\n    mounted (el) {\n      el.focus()\n    },\n    getSSRProps (binding, vnode) {\n      // you can provide SSR-specific props here\n      return {}\n    }\n  })\n})\n","filename":"plugins/my-directive.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"vueApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"directive"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"focus"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    mounted "],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"el"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"      el"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"focus"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    getSSRProps "],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"binding"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," vnode"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"      // you can provide SSR-specific props here\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"If you register a Vue directive, you ",["em",{},"must"]," register it on both client and server side unless you are only using it when rendering one side. If the directive only makes sense from a client side, you can always move it to ",["code",{},"~/plugins/my-directive.client.ts"]," and provide a ''stub'' directive for the server in ",["code",{},"~/plugins/my-directive.server.ts"],"."]],["read-more",{"icon":"i-simple-icons-vuedotjs","target":"_blank","title":"Custom Directives on Vue Docs","to":"https://vuejs.org/guide/reusability/custom-directives.html"}],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"registered-plugins","depth":2,"text":"Registered Plugins"},{"id":"creating-plugins","depth":2,"text":"Creating Plugins","children":[{"id":"object-syntax-plugins","depth":3,"text":"Object Syntax Plugins"}]},{"id":"registration-order","depth":2,"text":"Registration Order"},{"id":"loading-strategy","depth":2,"text":"Loading Strategy","children":[{"id":"parallel-plugins","depth":3,"text":"Parallel Plugins"},{"id":"plugins-with-dependencies","depth":3,"text":"Plugins With Dependencies"}]},{"id":"using-composables","depth":2,"text":"Using Composables"},{"id":"providing-helpers","depth":2,"text":"Providing Helpers"},{"id":"typing-plugins","depth":2,"text":"Typing Plugins"},{"id":"vue-plugins","depth":2,"text":"Vue Plugins"},{"id":"vue-directives","depth":2,"text":"Vue Directives"}]}}', 'Nuxt has a plugins system to use Vue plugins and more at the creation of your Vue application.', 'md', NULL, '{"head":{"title":"plugins/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/plugins', '{"title":"plugins","description":"Nuxt has a plugins system to use Vue plugins and more at the creation of your Vue application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.plugins', NULL, '9U2Tuetfq4A49qDg4CP3L1uowFXbAMNeiTCpOV3GSMY'); -- 9U2Tuetfq4A49qDg4CP3L1uowFXbAMNeiTCpOV3GSMY
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.utils.md', 'utils', '{"type":"minimark","value":[["p",{},"The main purpose of the ",["a",{"href":"/docs/guide/directory-structure/app/utils"},["code",{},"app/utils/"]," directory"]," is to allow a semantic distinction between your Vue composables and other auto-imported utility functions."],["h2",{"id":"usage"},"Usage"],["p",{},["strong",{},"Method 1:"]," Using named export"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const { format: formatNumber } = Intl.NumberFormat(''en-GB'', {\n  notation: ''compact'',\n  maximumFractionDigits: 1\n})\n","filename":"utils/index.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," format"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," formatNumber "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," Intl"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"NumberFormat"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"en-GB"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  notation"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"compact"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  maximumFractionDigits"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 1\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},["strong",{},"Method 2:"]," Using default export"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// It will be available as randomEntry() (camelCase of file name without extension)\nexport default function (arr: Array<any>) {\n  return arr[Math.floor(Math.random() * arr.length)]\n}\n","filename":"utils/random-entry.ts or utils/randomEntry.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// It will be available as randomEntry() (camelCase of file name without extension)\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"smZ93"}," function"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"arr"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," Array"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"any"],["span",{"class":"sDfIl"},">)"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," arr"],["span",{"class":"sRlkE"},"["],["span",{"class":"sZSNi"},"Math"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"floor"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"Math"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"random"],["span",{"class":"sRlkE"},"() "],["span",{"class":"sDfIl"},"*"],["span",{"class":"sZSNi"}," arr"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"length"],["span",{"class":"sRlkE"},")]\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"You can now use auto imported utility functions in ",["code",{},".js"],", ",["code",{},".ts"]," and ",["code",{},".vue"]," files"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <p>{{ formatNumber(1234) }}</p>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ formatNumber(1234) }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/concepts/auto-imports"}],["link-example",{"to":"/docs/examples/features/auto-imports"}],["tip",{},["p",{},"The way ",["code",{},"app/utils/"]," auto-imports work and are scanned is identical to the ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/"]]," directory."]],["important",{},["p",{},"These utils are only available within the Vue part of your app. ",["br",{}],"\nOnly ",["code",{},"server/utils"]," are auto-imported in the ",["a",{"href":"/docs/guide/directory-structure/server#server-utilities"},["code",{},"server/"]]," directory."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"}]}}', 'Use the utils/ directory to auto-import your utility functions throughout your application.', 'md', NULL, '{"head":{"title":"utils/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/utils', '{"title":"utils","description":"Use the utils/ directory to auto-import your utility functions throughout your application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.utils', NULL, 'tlQ6gxCn20Nh_u3bOzkb2MbtjYOfMYR--Rjj3dyb6Tg'); -- tlQ6gxCn20Nh_u3bOzkb2MbtjYOfMYR--Rjj3dyb6Tg
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/3.app-config.md', 'app.config.ts', '{"type":"minimark","value":[["p",{},"Nuxt provides an ",["code",{},"app.config"]," config file to expose reactive configuration within your application with the ability to update it at runtime within lifecycle or using a nuxt plugin and editing it with HMR (hot-module-replacement)."],["p",{},"You can easily provide runtime app configuration using ",["code",{},"app.config.ts"]," file. It can have either of ",["code",{},".ts"],", ",["code",{},".js"],", or ",["code",{},".mjs"]," extensions."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineAppConfig({\n  foo: ''bar''\n})\n","filename":"app.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineAppConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  foo"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bar"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["caution",{},["p",{},"Do not put any secret values inside ",["code",{},"app.config"]," file. It is exposed to the user client bundle."]],["note",{},["p",{},"When configuring a custom ",["a",{"href":"/docs/api/nuxt-config#srcdir"},["code",{},"srcDir"]],", make sure to place the ",["code",{},"app.config"]," file at the root of the new ",["code",{},"srcDir"]," path."]],["h2",{"id":"usage"},"Usage"],["p",{},"To expose config and environment variables to the rest of your app, you will need to define configuration in ",["code",{},"app.config"]," file."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineAppConfig({\n  theme: {\n    primaryColor: ''#ababab''\n  }\n})\n","filename":"app.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineAppConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  theme"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    primaryColor"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#ababab"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"We can now universally access ",["code",{},"theme"]," both when server-rendering the page and in the browser using ",["a",{"href":"/docs/api/composables/use-app-config"},["code",{},"useAppConfig"]]," composable."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst appConfig = useAppConfig()\n\nconsole.log(appConfig.theme)\n</script>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," appConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useAppConfig"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(appConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"theme)\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"The ",["a",{"href":"/docs/api/utils/update-app-config"},["code",{},"updateAppConfig"]]," utility can be used to update the ",["code",{},"app.config"]," at runtime."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nconst appConfig = useAppConfig() // { foo: ''bar'' }\n\nconst newAppConfig = { foo: ''baz'' }\n\nupdateAppConfig(newAppConfig)\n\nconsole.log(appConfig) // { foo: ''baz'' }\n</script>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," appConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useAppConfig"],["span",{"class":"sZSNi"},"() "],["span",{"class":"sWuyu"},"// { foo: ''bar'' }\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," newAppConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," foo"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"baz"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"updateAppConfig"],["span",{"class":"sZSNi"},"(newAppConfig)\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(appConfig) "],["span",{"class":"sWuyu"},"// { foo: ''baz'' }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/utils/update-app-config"},["p",{},"Read more about the ",["code",{},"updateAppConfig"]," utility."]],["h2",{"id":"typing-app-config"},"Typing App Config"],["p",{},"Nuxt tries to automatically generate a TypeScript interface from provided app config so you won''t have to type it yourself."],["p",{},"However, there are some cases where you might want to type it yourself. There are two possible things you might want to type."],["h3",{"id":"app-config-input"},"App Config Input"],["p",{},["code",{},"AppConfigInput"]," might be used by module authors who are declaring what valid ",["em",{},"input"]," options are when setting app config. This will not affect the type of ",["code",{},"useAppConfig()"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"declare module ''nuxt/schema'' {\n  interface AppConfigInput {\n    /** Theme configuration */\n    theme?: {\n      /** Primary app color */\n      primaryColor?: string\n    }\n  }\n}\n\n// It is always important to ensure you import/export something when augmenting a type\nexport {}\n","filename":"index.d.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/schema"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," AppConfigInput"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    /** Theme configuration */\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    theme"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"      /** Primary app color */\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      primaryColor"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"// It is always important to ensure you import/export something when augmenting a type\n"]],["span",{"class":"line","line":12},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {}\n"]]]],["h3",{"id":"app-config-output"},"App Config Output"],["p",{},"If you want to type the result of calling ",["a",{"href":"/docs/api/composables/use-app-config"},["code",{},"useAppConfig()"]],", then you will want to extend ",["code",{},"AppConfig"],"."],["warning",{},["p",{},"Be careful when typing ",["code",{},"AppConfig"]," as you will overwrite the types Nuxt infers from your actually defined app config."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"declare module ''nuxt/schema'' {\n  interface AppConfig {\n    // This will entirely replace the existing inferred `theme` property\n    theme: {\n      // You might want to type this value to add more specific types than Nuxt can infer,\n      // such as string literal types\n      primaryColor?: ''red'' | ''blue''\n    }\n  }\n}\n\n// It is always important to ensure you import/export something when augmenting a type\nexport {}\n","filename":"index.d.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/schema"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," AppConfig"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // This will entirely replace the existing inferred `theme` property\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    theme"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"      // You might want to type this value to add more specific types than Nuxt can infer,\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      // such as string literal types\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      primaryColor"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"red"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"blue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"// It is always important to ensure you import/export something when augmenting a type\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {}\n"]]]],["h2",{"id":"merging-strategy"},"Merging Strategy"],["p",{},"Nuxt uses a custom merging strategy for the ",["code",{},"AppConfig"]," within ",["a",{"href":"/docs/getting-started/layers"},"the layers"]," of your application."],["p",{},"This strategy is implemented using a ",["a",{"href":"https://github.com/unjs/defu#function-merger","rel":["nofollow"]},"Function Merger"],", which allows defining a custom merging strategy for every key in ",["code",{},"app.config"]," that has an array as value."],["note",{},["p",{},"The function merger can only be used in the extended layers and not the main ",["code",{},"app.config"]," in project."]],["p",{},"Here''s an example of how you can use:"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineAppConfig({\n  // Default array value\n  array: [''hello''],\n})\n","filename":"layer/app.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineAppConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // Default array value\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  array"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineAppConfig({\n  // Overwrite default array value by using a merger function\n  array: () => [''bonjour''],\n})\n","filename":"app.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineAppConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // Overwrite default array value by using a merger function\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  array"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"bonjour"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["h2",{"id":"known-limitations"},"Known Limitations"],["p",{},"As of Nuxt v3.3, the ",["code",{},"app.config.ts"]," file is shared with Nitro, which results in the following limitations:"],["ol",{},["li",{},"You cannot import Vue components directly in ",["code",{},"app.config.ts"],"."],["li",{},"Some auto-imports are not available in the Nitro context."]],["p",{},"These limitations occur because Nitro processes the app config without full Vue component support."],["p",{},"While it''s possible to use Vite plugins in the Nitro config as a workaround, this approach is not recommended:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  nitro: {\n    vite: {\n      plugins: [vue()]\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      plugins"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"s3cPz"},"vue"],["span",{"class":"sZSNi"},"()]\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"Using this workaround may lead to unexpected behavior and bugs. The Vue plugin is one of many that are not available in the Nitro context."]],["p",{},"Related issues:"],["ul",{},["li",{},["a",{"href":"https://github.com/nuxt/nuxt/issues/19858","rel":["nofollow"]},"Issue #19858"]],["li",{},["a",{"href":"https://github.com/nuxt/nuxt/issues/19854","rel":["nofollow"]},"Issue #19854"]]],["note",{},["p",{},"Nitro v3 will resolve these limitations by removing support for the app config.\nYou can track the progress in ",["a",{"href":"https://github.com/nitrojs/nitro/pull/2521","rel":["nofollow"]},"this pull request"],"."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"},{"id":"typing-app-config","depth":2,"text":"Typing App Config","children":[{"id":"app-config-input","depth":3,"text":"App Config Input"},{"id":"app-config-output","depth":3,"text":"App Config Output"}]},{"id":"merging-strategy","depth":2,"text":"Merging Strategy"},{"id":"known-limitations","depth":2,"text":"Known Limitations"}]}}', 'Expose reactive configuration within your application with the App Config file.', 'md', NULL, '{"head":{"title":"app.config.ts"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/app-config', '{"title":"app.config.ts","description":"Expose reactive configuration within your application with the App Config file."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/3.app-config', NULL, 'OwWjxm7H73H983c1B60GdYHBPIvog1PtTUzL-uErSfI'); -- OwWjxm7H73H983c1B60GdYHBPIvog1PtTUzL-uErSfI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/3.app.md', 'app.vue', '{"type":"minimark","value":[["tip",{},["p",{},"If you have a ",["code",{},"app/pages/"]," directory, the ",["code",{},"app.vue"]," file is optional. Nuxt will automatically include a default ",["code",{},"app.vue"],", but you can still add your own to customize the structure and content as needed."]],["h2",{"id":"usage"},"Usage"],["h3",{"id":"minimal-usage"},"Minimal Usage"],["p",{},"With Nuxt, the ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]]," directory is optional. If it is not present, Nuxt will not include the ",["a",{"href":"https://router.vuejs.org","rel":["nofollow"]},"vue-router"]," dependency. This is useful when building a landing page or an application that does not require routing."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <h1>Hello World!</h1>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Hello World!"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["link-example",{"to":"/docs/examples/hello-world"}],["h3",{"id":"usage-with-pages"},"Usage with Pages"],["p",{},"When you have a ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]]," directory, you need to use the ",["a",{"href":"/docs/api/components/nuxt-page"},["code",{},"<NuxtPage>"]]," component to display the current page:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtPage />\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"You can also define the common structure of your application directly in ",["code",{},"app.vue"],". This is useful when you want to include global elements such as a header or footer:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <header>\n    Header content\n  </header>\n  <NuxtPage />\n  <footer>\n    Footer content\n  </footer>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    Header content\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"footer"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    Footer content\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"footer"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Remember that ",["code",{},"app.vue"]," acts as the main component of your Nuxt application. Anything you add to it (JS and CSS) will be global and included in every page."]],["read-more",{"to":"/docs/guide/directory-structure/app/pages"},["p",{},"Learn more about how to structure your pages using the ",["code",{},"app/pages/"]," directory."]],["h3",{"id":"usage-with-layouts"},"Usage with Layouts"],["p",{},"When your application requires different layouts for different pages, you can use the ",["code",{},"app/layouts/"]," directory with the ",["a",{"href":"/docs/api/components/nuxt-layout"},["code",{},"<NuxtLayout>"]]," component. This allows you to define multiple layouts and apply them per page."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtLayout>\n    <NuxtPage />\n  </NuxtLayout>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/app/layouts"},["p",{},"Learn more about how to structure your layouts using the ",["code",{},"app/layouts/"]," directory."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage","children":[{"id":"minimal-usage","depth":3,"text":"Minimal Usage"},{"id":"usage-with-pages","depth":3,"text":"Usage with Pages"},{"id":"usage-with-layouts","depth":3,"text":"Usage with Layouts"}]}]}}', 'The app.vue file is the main component of your Nuxt application.', 'md', NULL, '{"head":{"title":"app.vue"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/app', '{"title":"app.vue","description":"The app.vue file is the main component of your Nuxt application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/3.app', NULL, 'FP5p75tp1bxyrw7XVx1LozHuVERIWRRIsDoPFpqpdI0'); -- FP5p75tp1bxyrw7XVx1LozHuVERIWRRIsDoPFpqpdI0
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/3.error.md', 'error.vue', '{"type":"minimark","value":[["p",{},"During the lifespan of your application, some errors may appear unexpectedly at runtime. In such case, we can use the ",["code",{},"error.vue"]," file to override the default error files and display the error nicely."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport type { NuxtError } from ''#app''\n\nconst props = defineProps({\n  error: Object as () => NuxtError\n})\n</script>\n\n<template>\n  <div>\n    <h1>{{ error.statusCode }}</h1>\n    <NuxtLink to=\"/\">Go back home</NuxtLink>\n  </div>\n</template>\n","filename":"error.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," NuxtError"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#app"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," props "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," defineProps"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  error"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," Object "],["span",{"class":"s8R28"},"as"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," NuxtError\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ error.statusCode }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Go back home"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Although it is called an ''error page'' it''s not a route and shouldn''t be placed in your ",["code",{},"~/pages"]," directory. For the same reason, you shouldn''t use ",["code",{},"definePageMeta"]," within this page. That being said, you can still use layouts in the error file, by utilizing the ",["a",{"href":"/docs/api/components/nuxt-layout"},["code",{},"NuxtLayout"]]," component and specifying the name of the layout."]],["p",{},"The error page has a single prop - ",["code",{},"error"]," which contains an error for you to handle."],["p",{},"The ",["code",{},"error"]," object provides the following fields:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  statusCode: number\n  fatal: boolean\n  unhandled: boolean\n  statusMessage?: string\n  data?: unknown\n  cause?: unknown\n}\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"  statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," number\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"  fatal"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," boolean\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"  unhandled"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," boolean\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  statusMessage"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"sZSNi"}," string\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  data"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"sZSNi"}," unknown\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  cause"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"sZSNi"}," unknown\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"If you have an error with custom fields they will be lost; you should assign them to ",["code",{},"data"]," instead:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"throw createError({\n  statusCode: 404,\n  statusMessage: ''Page Not Found'',\n  data: {\n    myCustomField: true\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"throw"],["span",{"class":"s3cPz"}," createError"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 404"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  statusMessage"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Page Not Found"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    myCustomField"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'The error.vue file is the error page in your Nuxt application.', 'md', NULL, '{"head":{"title":"error.vue"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/error', '{"title":"error.vue","description":"The error.vue file is the error page in your Nuxt application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/3.error', NULL, 'A8V9DW-rE3pwi_pJNIO3GEHtigbg5H-0OPp-OxaFP2o'); -- A8V9DW-rE3pwi_pJNIO3GEHtigbg5H-0OPp-OxaFP2o
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.content.md', 'content', '{"type":"minimark","value":[["p",{},["a",{"href":"https://content.nuxt.com","rel":["nofollow"]},"Nuxt Content"]," reads the ",["a",{"href":"/docs/guide/directory-structure/content"},["code",{},"content/"]," directory"]," in your project and parses ",["code",{},".md"],", ",["code",{},".yml"],", ",["code",{},".csv"]," and ",["code",{},".json"]," files to create a file-based CMS for your application."],["ul",{},["li",{},"Render your content with built-in components."],["li",{},"Query your content with a MongoDB-like API."],["li",{},"Use your Vue components in Markdown files with the MDC syntax."],["li",{},"Automatically generate your navigation."]],["read-more",{"target":"_blank","to":"https://content.nuxt.com"},["p",{},"Learn more in ",["strong",{},"Nuxt Content"]," documentation."]],["h2",{"id":"enable-nuxt-content"},"Enable Nuxt Content"],["p",{},"Install the ",["code",{},"@nuxt/content"]," module in your project as well as adding it to your ",["code",{},"nuxt.config.ts"]," with one command:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt module add content\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," content\n"]]]],["h2",{"id":"create-content"},"Create Content"],["p",{},"Place your markdown files inside the ",["code",{},"content/"]," directory:"],["pre",{"className":"language-md shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"# Hello Content\n","filename":"content/index.md","language":"md","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"# Hello Content\n"]]]],["p",{},"The module automatically loads and parses them."],["h2",{"id":"render-content"},"Render Content"],["p",{},"To render content pages, add a ",["a",{"href":"/docs/guide/directory-structure/app/pages/#catch-all-route"},"catch-all route"]," using the ",["a",{"href":"https://content.nuxt.com/docs/components/content-renderer","rel":["nofollow"]},["code",{},"<ContentRenderer>"]]," component:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script lang=\"ts\" setup>\nconst route = useRoute()\nconst { data: page } = await useAsyncData(route.path, () => {\n  return queryCollection(''content'').path(route.path).first()\n})\n</script>\n\n<template>\n  <div>\n    <header><!-- ... --></header>\n\n    <ContentRenderer v-if=\"page\" :value=\"page\" />\n\n    <footer><!-- ... --></footer>\n  </div>\n</template>\n","filename":"app/pages/[...slug].vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," page "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"path"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," queryCollection"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"content"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"path"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"path"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"first"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">"],["span",{"class":"sWuyu"},"<!-- ... -->"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"ContentRenderer"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"page"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," :value"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"page"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"footer"],["span",{"class":"sDfIl"},">"],["span",{"class":"sWuyu"},"<!-- ... -->"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"footer"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"documentation"},"Documentation"],["tip",{"icon":"i-lucide-book"},["p",{},"Head over to ",["a",{"href":"https://content.nuxt.com","rel":["nofollow"]},"https://content.nuxt.com"]," to learn more about the Content module features, such as how to build queries and use Vue components in your Markdown files with the MDC syntax."]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"enable-nuxt-content","depth":2,"text":"Enable Nuxt Content"},{"id":"create-content","depth":2,"text":"Create Content"},{"id":"render-content","depth":2,"text":"Render Content"},{"id":"documentation","depth":2,"text":"Documentation"}]}}', 'Use the content/ directory to create a file-based CMS for your application.', 'md', NULL, '{"head":{"title":"content/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/content', '{"title":"content","description":"Use the content/ directory to create a file-based CMS for your application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.content', NULL, 'SyTnwd4_WdYSfYKPfkUmUs6fBwugCvmzpWJ8TcLDWGs'); -- SyTnwd4_WdYSfYKPfkUmUs6fBwugCvmzpWJ8TcLDWGs
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.modules.md', 'modules', '{"type":"minimark","value":[["p",{},"It is a good place to place any local modules you develop while building your application."],["p",{},"The auto-registered files patterns are:"],["ul",{},["li",{},["code",{},"modules/*/index.ts"]],["li",{},["code",{},"modules/*.ts"]]],["p",{},"You don''t need to add those local modules to your ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," separately."],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// `nuxt/kit` is a helper subpath import you can use when defining local modules\n// that means you do not need to add `@nuxt/kit` to your project''s dependencies\nimport { createResolver, defineNuxtModule, addServerHandler } from ''nuxt/kit''\n\nexport default defineNuxtModule({\n  meta: {\n    name: ''hello''\n  },\n  setup () {\n    const resolver = createResolver(import.meta.url)\n\n    // Add an API route\n    addServerHandler({\n      route: ''/api/hello'',\n      handler: resolver.resolve(''./runtime/api-route'')\n    })\n  }\n})\n","filename":"modules/hello/index.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// `nuxt/kit` is a helper subpath import you can use when defining local modules\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// that means you do not need to add `@nuxt/kit` to your project''s dependencies\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addServerHandler"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"    // Add an API route\n"]],["span",{"class":"line","line":13},["span",{"class":"s3cPz"},"    addServerHandler"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":14},["span",{"class":"sRlkE"},"      route"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/api/hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":15},["span",{"class":"sRlkE"},"      handler"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/api-route"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(() => {\n  return { hello: ''world'' }\n})\n","filename":"modules/hello/runtime/api-route.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," hello"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"world"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["p",{},"When starting Nuxt, the ",["code",{},"hello"]," module will be registered and the ",["code",{},"/api/hello"]," route will be available."],["p",{},"Modules are executed in the following sequence:"],["ul",{},["li",{},"First, the modules defined in ",["a",{"href":"/docs/api/nuxt-config#modules-1"},["code",{},"nuxt.config.ts"]]," are loaded."],["li",{},"Then, modules found in the ",["code",{},"modules/"]," directory are executed, and they load in alphabetical order."]],["p",{},"You can change the order of local module by adding a number to the front of each directory name:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"modules/\n  1.first-module/\n    index.ts\n  2.second-module.ts\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"modules/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"  1.first-module/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"    index.ts\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"  2.second-module.ts\n"]]]],["read-more",{"to":"/docs/guide/going-further/modules"}],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://vueschool.io/lessons/creating-your-first-module-from-scratch?friend=nuxt"},["p",{},"Watch Vue School video about Nuxt private modules."]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Use the modules/ directory to automatically register local modules within your application.', 'md', NULL, '{"head":{"title":"modules/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/modules', '{"title":"modules","description":"Use the modules/ directory to automatically register local modules within your application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.modules', NULL, 'lW2kewsSnD5ZC1Uz6TY0ehyCtbB_CJIuaa78veDKc94'); -- lW2kewsSnD5ZC1Uz6TY0ehyCtbB_CJIuaa78veDKc94
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.node_modules.md', 'node_modules', '{"type":"minimark","value":[["p",{},"The package manager (",["a",{"href":"https://docs.npmjs.com/cli/commands/npm","rel":["nofollow"]},["code",{},"npm"]]," or ",["a",{"href":"https://yarnpkg.com","rel":["nofollow"]},["code",{},"yarn"]]," or ",["a",{"href":"https://pnpm.io/cli/install","rel":["nofollow"]},["code",{},"pnpm"]]," or ",["a",{"href":"https://bun.sh/package-manager","rel":["nofollow"]},["code",{},"bun"]],") creates this directory to store the dependencies of your project."],["important",{},["p",{},"This directory should be added to your ",["a",{"href":"/docs/guide/directory-structure/gitignore"},["code",{},".gitignore"]]," file to avoid pushing the dependencies to your repository."]]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'The package manager stores the dependencies of your project in the node_modules/ directory.', 'md', NULL, '{"head":{"title":"node_modules/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/node_modules', '{"title":"node_modules","description":"The package manager stores the dependencies of your project in the node_modules/ directory."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.node_modules', NULL, 'kdwr4V5aX9nH094wcacfwsQPrXQR-LlunJbIv-tathM'); -- kdwr4V5aX9nH094wcacfwsQPrXQR-LlunJbIv-tathM
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.public.md', 'public', '{"type":"minimark","value":[["p",{},"Files contained within the ",["code",{},"public/"]," directory are served at the root and are not modified by the build process. This is suitable for files that have to keep their names (e.g. ",["code",{},"robots.txt"],") ",["em",{},"or"]," likely won''t change (e.g. ",["code",{},"favicon.ico"],")."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| public/\n---| favicon.ico\n---| og-image.png\n---| robots.txt\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," public/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," favicon.ico\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," og-image.png\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," robots.txt\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseSeoMeta({\n  ogImage: ''/og-image.png''\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useSeoMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  ogImage"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/og-image.png"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["tip",{"target":"_blank","to":"https://v2.nuxt.com/docs/directory-structure/static"},["p",{},"This is known as the ",["span",{},["code",{},"static/"]]," directory in Nuxt 2."]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'The public/ directory is used to serve your website''s static assets.', 'md', NULL, '{"head":{"title":"public/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/public', '{"title":"public","description":"The public/ directory is used to serve your website''s static assets."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.public', NULL, 'UQK9U8aVyF8Qro2WVIfzo6K3nlFsSNyVzOlr8GoveZc'); -- UQK9U8aVyF8Qro2WVIfzo6K3nlFsSNyVzOlr8GoveZc
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.server.md', 'server', '{"type":"minimark","value":[["p",{},"Nuxt automatically scans files inside these directories to register API and server handlers with Hot Module Replacement (HMR) support."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| server/\n---| api/\n-----| hello.ts      # /api/hello\n---| routes/\n-----| bonjour.ts    # /bonjour\n---| middleware/\n-----| log.ts        # log all requests\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," server/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," api/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," hello.ts"],["span",{"class":"sWuyu"},"      # /api/hello\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," routes/\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," bonjour.ts"],["span",{"class":"sWuyu"},"    # /bonjour\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," middleware/\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," log.ts"],["span",{"class":"sWuyu"},"        # log all requests\n"]]]],["p",{},"Each file should export a default function defined with ",["code",{},"defineEventHandler()"]," or ",["code",{},"eventHandler()"]," (alias)."],["p",{},"The handler can directly return JSON data, a ",["code",{},"Promise"],", or use ",["code",{},"event.node.res.end()"]," to send a response."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  return {\n    hello: ''world''\n  }\n})\n","filename":"server/api/hello.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    hello"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"world"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can now universally call this API in your pages and components:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data } = await useFetch(''/api/hello'')\n</script>\n\n<template>\n  <pre>{{ data }}</pre>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"pre"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ data }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"pre"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"server-routes"},"Server Routes"],["p",{},"Files inside the ",["code",{},"~/server/api"]," are automatically prefixed with ",["code",{},"/api"]," in their route."],["video-accordion",{"platform":"vimeo","title":"Watch a video from Vue School on API routes","video-id":"761468863"}],["p",{},"To add server routes without ",["code",{},"/api"]," prefix, put them into ",["code",{},"~/server/routes"]," directory."],["p",{},["strong",{},"Example:"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(() => ''Hello World!'')\n","filename":"server/routes/hello.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Hello World!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Given the example above, the ",["code",{},"/hello"]," route will be accessible at ",["a",{"href":"http://localhost:3000/hello","rel":["nofollow"]},"http://localhost:3000/hello"],"."],["note",{},["p",{},"Note that currently server routes do not support the full functionality of dynamic routes as ",["a",{"href":"/docs/guide/directory-structure/app/pages#dynamic-routes"},"pages"]," do."]],["h2",{"id":"server-middleware"},"Server Middleware"],["p",{},"Nuxt will automatically read in any file in the ",["code",{},"~/server/middleware"]," to create server middleware for your project."],["p",{},"Middleware handlers will run on every request before any other server route to add or check headers, log requests, or extend the event''s request object."],["note",{},["p",{},"Middleware handlers should not return anything (nor close or respond to the request) and only inspect or extend the request context or throw an error."]],["p",{},["strong",{},"Examples:"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  console.log(''New request: '' + getRequestURL(event))\n})\n","filename":"server/middleware/log.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"New request: "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," +"],["span",{"class":"s3cPz"}," getRequestURL"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  event.context.auth = { user: 123 }\n})\n","filename":"server/middleware/auth.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  event"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"context"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"auth"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," user"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 123"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"server-plugins"},"Server Plugins"],["p",{},"Nuxt will automatically read any files in the ",["code",{},"~/server/plugins"]," directory and register them as Nitro plugins. This allows extending Nitro''s runtime behavior and hooking into lifecycle events."],["p",{},["strong",{},"Example:"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNitroPlugin((nitroApp) => {\n  console.log(''Nitro plugin'', nitroApp)\n})\n","filename":"server/plugins/nitroPlugin.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNitroPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nitroApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Nitro plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," nitroApp"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://nitro.build/guide/plugins","target":"_blank","title":"Nitro Plugins"}],["h2",{"id":"server-utilities"},"Server Utilities"],["p",{},"Server routes are powered by ",["a",{"href":"https://github.com/h3js/h3","rel":["nofollow"]},"h3js/h3"]," which comes with a handy set of helpers."],["read-more",{"to":"https://www.jsdocs.io/package/h3#package-index-functions","target":"_blank","title":"Available H3 Request Helpers"}],["p",{},"You can add more helpers yourself inside the ",["code",{},"~/server/utils"]," directory."],["p",{},"For example, you can define a custom handler utility that wraps the original handler and performs additional operations before returning the final response."],["p",{},["strong",{},"Example:"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { EventHandler, EventHandlerRequest } from ''h3''\n\nexport const defineWrappedResponseHandler = <T extends EventHandlerRequest, D> (\n  handler: EventHandler<T, D>\n): EventHandler<T, D> =>\n  defineEventHandler<T>(async event => {\n    try {\n      // do something before the route handler\n      const response = await handler(event)\n      // do something after the route handler\n      return { response }\n    } catch (err) {\n      // Error handling\n      return { err }\n    }\n  })\n","filename":"server/utils/handler.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," EventHandler"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," EventHandlerRequest"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"h3"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," defineWrappedResponseHandler "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," <"],["span",{"class":"s52Pk"},"T"],["span",{"class":"smZ93"}," extends"],["span",{"class":"s52Pk"}," EventHandlerRequest"],["span",{"class":"sDfIl"},","],["span",{"class":"s52Pk"}," D"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"}," (\n"]],["span",{"class":"line","line":4},["span",{"class":"s1nJG"},"  handler"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," EventHandler"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},","],["span",{"class":"s52Pk"}," D"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," EventHandler"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},","],["span",{"class":"s52Pk"}," D"],["span",{"class":"sDfIl"},">"],["span",{"class":"smZ93"}," =>\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"  defineEventHandler"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"s1nJG"}," event"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"    try"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"      // do something before the route handler\n"]],["span",{"class":"line","line":9},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," response"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," handler"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"      // do something after the route handler\n"]],["span",{"class":"line","line":11},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," response"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }"],["span",{"class":"s8R28"}," catch"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"err"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"      // Error handling\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," err"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"server-types"},"Server Types"],["tip",{},["p",{},"This feature is available from Nuxt >= 3.5"]],["h2",{"id":"recipes"},"Recipes"],["h3",{"id":"route-parameters"},"Route Parameters"],["p",{},"Server routes can use dynamic parameters within brackets in the file name like ",["code",{},"/api/hello/[name].ts"]," and be accessed via ",["code",{},"event.context.params"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  const name = getRouterParam(event, ''name'')\n\n  return `Hello, ${name}!`\n})\n","filename":"server/api/hello/[name].ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," name"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," getRouterParam"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"name"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Hello, "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"name"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"},"!"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{"to":"https://h3.dev/examples/validate-data#validate-params"},["p",{},"Alternatively, use ",["code",{},"getValidatedRouterParams"]," with a schema validator such as Zod for runtime and type safety."]],["p",{},"You can now universally call this API on ",["code",{},"/api/hello/nuxt"]," and get ",["code",{},"Hello, nuxt!"],"."],["h3",{"id":"matching-http-method"},"Matching HTTP Method"],["p",{},"Handle file names can be suffixed with ",["code",{},".get"],", ",["code",{},".post"],", ",["code",{},".put"],", ",["code",{},".delete"],", ... to match request''s ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods","rel":["nofollow"]},"HTTP Method"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(() => ''Test get handler'')\n","filename":"server/api/test.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Test get handler"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(() => ''Test post handler'')\n","filename":"server/api/test.post.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Test post handler"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Given the example above, fetching ",["code",{},"/test"]," with:"],["ul",{},["li",{},["strong",{},"GET"]," method: Returns ",["code",{},"Test get handler"]],["li",{},["strong",{},"POST"]," method: Returns ",["code",{},"Test post handler"]],["li",{},"Any other method: Returns 405 error"]],["p",{},"You can also use ",["code",{},"index.[method].ts"]," inside a directory for structuring your code differently, this is useful to create API namespaces."],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  // handle GET requests for the `api/foo` endpoint\n})\n","filename":"server/api/foo/index.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // handle GET requests for the `api/foo` endpoint\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  // handle POST requests for the `api/foo` endpoint\n})\n","filename":"server/api/foo/index.post.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // handle POST requests for the `api/foo` endpoint\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  // handle GET requests for the `api/foo/bar` endpoint\n})\n","filename":"server/api/foo/bar.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // handle GET requests for the `api/foo/bar` endpoint\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["h3",{"id":"catch-all-route"},"Catch-all Route"],["p",{},"Catch-all routes are helpful for fallback route handling."],["p",{},"For example, creating a file named ",["code",{},"~/server/api/foo/[...].ts"]," will register a catch-all route for all requests that do not match any route handler, such as ",["code",{},"/api/foo/bar/baz"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  // event.context.path to get the route path: ''/api/foo/bar/baz''\n  // event.context.params._ to get the route segment: ''bar/baz''\n  return `Default foo handler`\n})\n","filename":"server/api/foo/[...].ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // event.context.path to get the route path: ''/api/foo/bar/baz''\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // event.context.params._ to get the route segment: ''bar/baz''\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Default foo handler"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can set a name for the catch-all route by using ",["code",{},"~/server/api/foo/[...slug].ts"]," and access it via ",["code",{},"event.context.params.slug"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  // event.context.params.slug to get the route segment: ''bar/baz''\n  return `Default foo handler`\n})\n","filename":"server/api/foo/[...slug].ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // event.context.params.slug to get the route segment: ''bar/baz''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Default foo handler"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"body-handling"},"Body Handling"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  const body = await readBody(event)\n  return { body }\n})\n","filename":"server/api/submit.post.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," body"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," readBody"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," body"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{"to":"https://unjs.io/blog/2023-08-15-h3-towards-the-edge-of-the-web#runtime-type-safe-request-utils"},["p",{},"Alternatively, use ",["code",{},"readValidatedBody"]," with a schema validator such as Zod for runtime and type safety."]],["p",{},"You can now universally call this API using:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nasync function submit() {\n  const { body } = await $fetch(''/api/submit'', {\n    method: ''post'',\n    body: { test: 123 }\n  })\n}\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," submit"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," body"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/submit"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"post"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    body"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 123"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"We are using ",["code",{},"submit.post.ts"]," in the filename only to match requests with ",["code",{},"POST"]," method that can accept the request body. When using ",["code",{},"readBody"]," within a GET request, ",["code",{},"readBody"]," will throw a ",["code",{},"405 Method Not Allowed"]," HTTP error."]],["h3",{"id":"query-parameters"},"Query Parameters"],["p",{},"Sample query ",["code",{},"/api/query?foo=bar&baz=qux"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  const query = getQuery(event)\n\n  return { a: query.foo, b: query.baz }\n})\n","filename":"server/api/query.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," query"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," getQuery"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," a"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," query"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"foo"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," b"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," query"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"baz"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{"to":"https://unjs.io/blog/2023-08-15-h3-towards-the-edge-of-the-web#runtime-type-safe-request-utils"},["p",{},"Alternatively, use ",["code",{},"getValidatedQuery"]," with a schema validator such as Zod for runtime and type safety."]],["h3",{"id":"error-handling"},"Error Handling"],["p",{},"If no errors are thrown, a status code of ",["code",{},"200 OK"]," will be returned."],["p",{},"Any uncaught errors will return a ",["code",{},"500 Internal Server Error"]," HTTP Error."],["p",{},"To return other error codes, throw an exception with ",["a",{"href":"/docs/api/utils/create-error"},["code",{},"createError"]],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  const id = parseInt(event.context.params.id) as number\n\n  if (!Number.isInteger(id)) {\n    throw createError({\n      statusCode: 400,\n      statusMessage: ''ID should be an integer'',\n    })\n  }\n  return ''All good''\n})\n","filename":"server/api/validation/[id].ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," id"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," parseInt"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"context"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sRlkE"},") "],["span",{"class":"s8R28"},"as"],["span",{"class":"s52Pk"}," number\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sDfIl"},"!"],["span",{"class":"sZSNi"},"Number"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"isInteger"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"id"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"    throw"],["span",{"class":"s3cPz"}," createError"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 400"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      statusMessage"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"ID should be an integer"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"All good"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"status-codes"},"Status Codes"],["p",{},"To return other status codes, use the ",["a",{"href":"/docs/api/utils/set-response-status"},["code",{},"setResponseStatus"]]," utility."],["p",{},"For example, to return ",["code",{},"202 Accepted"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  setResponseStatus(event, 202)\n})\n","filename":"server/api/validation/[id].ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"  setResponseStatus"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 202"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"runtime-config"},"Runtime Config"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  const config = useRuntimeConfig(event)\n\n  const repo = await $fetch(''https://api.github.com/repos/nuxt/nuxt'', {\n    headers: {\n      Authorization: `token ${config.githubToken}`\n    }\n  })\n\n  return repo\n})\n","filename":"server/api/foo.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," config"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," repo"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"https://api.github.com/repos/nuxt/nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    headers"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      Authorization"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"token "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"config"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"githubToken"],["span",{"class":"sDfIl"},"}`\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," repo\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  runtimeConfig: {\n    githubToken: ''''\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  runtimeConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    githubToken"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ini shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"NUXT_GITHUB_TOKEN=''<my-super-token>''\n","filename":".env","language":"ini","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sRlkE"},"NUXT_GITHUB_TOKEN"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"<my-super-token>"],["span",{"class":"sDfIl"},"''\n"]]]]],["note",{},["p",{},"Giving the ",["code",{},"event"]," as argument to ",["code",{},"useRuntimeConfig"]," is optional, but it is recommended to pass it to get the runtime config overwritten by ",["a",{"href":"/docs/guide/going-further/runtime-config#environment-variables"},"environment variables"]," at runtime for server routes."]],["h3",{"id":"request-cookies"},"Request Cookies"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  const cookies = parseCookies(event)\n\n  return { cookies }\n})\n","filename":"server/api/cookies.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," cookies"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," parseCookies"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," cookies"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"forwarding-context-headers"},"Forwarding Context & Headers"],["p",{},"By default, neither the headers from the incoming request nor the request context are forwarded when\nmaking fetch requests in server routes. You can use ",["code",{},"event.$fetch"]," to forward the request context and headers when making fetch requests in server routes."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  return event.$fetch(''/api/forwarded'')\n})\n","filename":"server/api/forward.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," event"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"$fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/forwarded"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"Headers that are ",["strong",{},"not meant to be forwarded"]," will ",["strong",{},"not be included"]," in the request. These headers include, for example:\n",["code",{},"transfer-encoding"],", ",["code",{},"connection"],", ",["code",{},"keep-alive"],", ",["code",{},"upgrade"],", ",["code",{},"expect"],", ",["code",{},"host"],", ",["code",{},"accept"]]],["h3",{"id":"awaiting-promises-after-response"},"Awaiting Promises After Response"],["p",{},"When handling server requests, you might need to perform asynchronous tasks that shouldn''t block the response to the client (for example, caching and logging). You can use ",["code",{},"event.waitUntil"]," to await a promise in the background without delaying the response."],["p",{},"The ",["code",{},"event.waitUntil"]," method accepts a promise that will be awaited before the handler terminates, ensuring the task is completed even if the server would otherwise terminate the handler right after the response is sent. This integrates with runtime providers to leverage their native capabilities for handling asynchronous operations after the response is sent."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const timeConsumingBackgroundTask = async () => {\n  await new Promise((resolve) => setTimeout(resolve, 1000))\n};\n\nexport default eventHandler((event) => {\n  // schedule a background task without blocking the response\n  event.waitUntil(timeConsumingBackgroundTask())\n\n  // immediately send the response to the client\n  return ''done''\n});\n","filename":"server/api/background-task.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," timeConsumingBackgroundTask "],["span",{"class":"sDfIl"},"="],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  await"],["span",{"class":"sDfIl"}," new"],["span",{"class":"s52Pk"}," Promise"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"resolve"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," setTimeout"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"resolve"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 1000"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"};\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," eventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // schedule a background task without blocking the response\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  event"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"waitUntil"],["span",{"class":"sRlkE"},"("],["span",{"class":"s3cPz"},"timeConsumingBackgroundTask"],["span",{"class":"sRlkE"},"())\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"  // immediately send the response to the client\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"done"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["h2",{"id":"advanced-usage"},"Advanced Usage"],["h3",{"id":"nitro-config"},"Nitro Config"],["p",{},"You can use ",["code",{},"nitro"]," key in ",["code",{},"nuxt.config"]," to directly set ",["a",{"href":"https://nitro.build/config","rel":["nofollow"]},"Nitro configuration"],"."],["warning",{},["p",{},"This is an advanced option. Custom config can affect production deployments, as the configuration interface might change over time when Nitro is upgraded in semver-minor versions of Nuxt."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  // https://nitro.build/config\n  nitro: {}\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // https://nitro.build/config\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/concepts/server-engine"}],["h3",{"id":"nested-router"},"Nested Router"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { createRouter, defineEventHandler, useBase } from ''h3''\n\nconst router = createRouter()\n\nrouter.get(''/test'', defineEventHandler(() => ''Hello World''))\n\nexport default useBase(''/api/hello'', router.handler)\n","filename":"server/api/hello/[...slug].ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," createRouter"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," defineEventHandler"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," useBase"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"h3"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," router "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," createRouter"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"router"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"get"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Hello World"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," useBase"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," router"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"handler)\n"]]]],["h3",{"id":"sending-streams"},"Sending Streams"],["tip",{},["p",{},"This is an experimental feature and is available in all environments."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import fs from ''node:fs''\nimport { sendStream } from ''h3''\n\nexport default defineEventHandler((event) => {\n  return sendStream(event, fs.createReadStream(''/path/to/file''))\n})\n","filename":"server/api/foo.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," fs "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node:fs"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," sendStream"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"h3"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," sendStream"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," fs"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"createReadStream"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/path/to/file"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"sending-redirect"},"Sending Redirect"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  await sendRedirect(event, ''/path/redirect/to'', 302)\n})\n","filename":"server/api/foo.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," sendRedirect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/path/redirect/to"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 302"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"legacy-handler-or-middleware"},"Legacy Handler or Middleware"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default fromNodeMiddleware((req, res) => {\n  res.end(''Legacy handler'')\n})\n","filename":"server/api/legacy.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," fromNodeMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"req"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," res"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  res"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"end"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Legacy handler"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["important",{},["p",{},"Legacy support is possible using ",["a",{"href":"https://github.com/h3js/h3","rel":["nofollow"]},"h3js/h3"],", but it is advised to avoid legacy handlers as much as you can."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default fromNodeMiddleware((req, res, next) => {\n  console.log(''Legacy middleware'')\n  next()\n})\n","filename":"server/middleware/legacy.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," fromNodeMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"req"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," res"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," next"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Legacy middleware"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  next"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"Never combine ",["code",{},"next()"]," callback with a legacy middleware that is ",["code",{},"async"]," or returns a ",["code",{},"Promise"],"."]],["h3",{"id":"server-storage"},"Server Storage"],["p",{},"Nitro provides a cross-platform ",["a",{"href":"https://nitro.build/guide/storage","rel":["nofollow"]},"storage layer"],". In order to configure additional storage mount points, you can use ",["code",{},"nitro.storage"],", or ",["a",{"href":"#server-plugins"},"server plugins"],"."],["p",{},["strong",{},"Example of adding a Redis storage:"]],["p",{},"Using ",["code",{},"nitro.storage"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  nitro: {\n    storage: {\n      redis: {\n        driver: ''redis'',\n        /* redis connector options */\n        port: 6379, // Redis port\n        host: \"127.0.0.1\", // Redis host\n        username: \"\", // needs Redis >= 6\n        password: \"\",\n        db: 0, // Defaults to 0\n        tls: {} // tls/ssl\n      }\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    storage"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      redis"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        driver"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"redis"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"        /* redis connector options */\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"        port"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 6379"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // Redis port\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"        host"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"127.0.0.1"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // Redis host\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"        username"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \"\""],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // needs Redis >= 6\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"        password"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"        db"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // Defaults to 0\n"]],["span",{"class":"line","line":12},["span",{"class":"sRlkE"},"        tls"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {}"],["span",{"class":"sWuyu"}," // tls/ssl\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Then in your API handler:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  // List all keys with\n  const keys = await useStorage(''redis'').getKeys()\n\n  // Set a key with\n  await useStorage(''redis'').setItem(''foo'', ''bar'')\n\n  // Remove a key with\n  await useStorage(''redis'').removeItem(''foo'')\n\n  return {}\n})\n","filename":"server/api/storage/test.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // List all keys with\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," keys"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useStorage"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"redis"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getKeys"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  // Set a key with\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," useStorage"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"redis"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"setItem"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"foo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bar"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"  // Remove a key with\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," useStorage"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"redis"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"removeItem"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"foo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://nitro.build/guide/storage","target":"_blank"},["p",{},"Read more about Nitro Storage Layer."]],["p",{},"Alternatively, you can create a storage mount point using a server plugin and runtime config:"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import redisDriver from ''unstorage/drivers/redis''\n\nexport default defineNitroPlugin(() => {\n  const storage = useStorage()\n\n  // Dynamically pass in credentials from runtime configuration, or other sources\n  const driver = redisDriver({\n      base: ''redis'',\n      host: useRuntimeConfig().redis.host,\n      port: useRuntimeConfig().redis.port,\n      /* other redis connector options */\n    })\n\n  // Mount driver\n  storage.mount(''redis'', driver)\n})\n","filename":"server/plugins/storage.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," redisDriver "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"unstorage/drivers/redis"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNitroPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," storage"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useStorage"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // Dynamically pass in credentials from runtime configuration, or other sources\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," driver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," redisDriver"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      base"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"redis"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      host"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"redis"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"host"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      port"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"redis"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"port"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"      /* other redis connector options */\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"  // Mount driver\n"]],["span",{"class":"line","line":15},["span",{"class":"sZSNi"},"  storage"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"mount"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"redis"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," driver"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  runtimeConfig: {\n    redis: { // Default values\n      host: '''',\n      port: 0,\n      /* other redis connector options */\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  runtimeConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    redis"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sWuyu"}," // Default values\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      host"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      port"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      /* other redis connector options */\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"server-routes","depth":2,"text":"Server Routes"},{"id":"server-middleware","depth":2,"text":"Server Middleware"},{"id":"server-plugins","depth":2,"text":"Server Plugins"},{"id":"server-utilities","depth":2,"text":"Server Utilities"},{"id":"server-types","depth":2,"text":"Server Types"},{"id":"recipes","depth":2,"text":"Recipes","children":[{"id":"route-parameters","depth":3,"text":"Route Parameters"},{"id":"matching-http-method","depth":3,"text":"Matching HTTP Method"},{"id":"catch-all-route","depth":3,"text":"Catch-all Route"},{"id":"body-handling","depth":3,"text":"Body Handling"},{"id":"query-parameters","depth":3,"text":"Query Parameters"},{"id":"error-handling","depth":3,"text":"Error Handling"},{"id":"status-codes","depth":3,"text":"Status Codes"},{"id":"runtime-config","depth":3,"text":"Runtime Config"},{"id":"request-cookies","depth":3,"text":"Request Cookies"},{"id":"forwarding-context-headers","depth":3,"text":"Forwarding Context & Headers"},{"id":"awaiting-promises-after-response","depth":3,"text":"Awaiting Promises After Response"}]},{"id":"advanced-usage","depth":2,"text":"Advanced Usage","children":[{"id":"nitro-config","depth":3,"text":"Nitro Config"},{"id":"nested-router","depth":3,"text":"Nested Router"},{"id":"sending-streams","depth":3,"text":"Sending Streams"},{"id":"sending-redirect","depth":3,"text":"Sending Redirect"},{"id":"legacy-handler-or-middleware","depth":3,"text":"Legacy Handler or Middleware"},{"id":"server-storage","depth":3,"text":"Server Storage"}]}]}}', 'The server/ directory is used to register API and server handlers to your application.', 'md', NULL, '{"head":{"title":"server/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/server', '{"title":"server","description":"The server/ directory is used to register API and server handlers to your application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.server', NULL, 'IjWu14zI8IF6hLsGjdEVKPiWGfd5plKdKMEG54omU1g'); -- IjWu14zI8IF6hLsGjdEVKPiWGfd5plKdKMEG54omU1g
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.shared.md', 'shared', '{"type":"minimark","value":[["p",{},"The ",["code",{},"shared/"]," directory allows you to share code that can be used in both the Vue app and the Nitro server."],["note",{},["p",{},"The ",["code",{},"shared/"]," directory is available in Nuxt v3.14+."]],["important",{},["p",{},"Code in the ",["code",{},"shared/"]," directory cannot import any Vue or Nitro code."]],["video-accordion",{"title":"Watch a video from Vue School on sharing utils and types between app and server","video-id":"nnAR-MO3q5M"}],["h2",{"id":"usage"},"Usage"],["p",{},["strong",{},"Method 1:"]," Named export"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const capitalize = (input: string) => {\n  return input[0] ? input[0].toUpperCase() + input.slice(1) : ''''\n}\n","filename":"shared/utils/capitalize.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," capitalize "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"input"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," input"],["span",{"class":"sRlkE"},"["],["span",{"class":"sYRBq"},"0"],["span",{"class":"sRlkE"},"] "],["span",{"class":"sDfIl"},"?"],["span",{"class":"sZSNi"}," input"],["span",{"class":"sRlkE"},"["],["span",{"class":"sYRBq"},"0"],["span",{"class":"sRlkE"},"]"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toUpperCase"],["span",{"class":"sRlkE"},"() "],["span",{"class":"sDfIl"},"+"],["span",{"class":"sZSNi"}," input"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"slice"],["span",{"class":"sRlkE"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},["strong",{},"Method 2:"]," Default export"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default function (input: string) {\n  return input[0] ? input[0].toUpperCase() + input.slice(1) : ''''\n}\n","filename":"shared/utils/capitalize.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"smZ93"}," function"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"input"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," input"],["span",{"class":"sRlkE"},"["],["span",{"class":"sYRBq"},"0"],["span",{"class":"sRlkE"},"] "],["span",{"class":"sDfIl"},"?"],["span",{"class":"sZSNi"}," input"],["span",{"class":"sRlkE"},"["],["span",{"class":"sYRBq"},"0"],["span",{"class":"sRlkE"},"]"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toUpperCase"],["span",{"class":"sRlkE"},"() "],["span",{"class":"sDfIl"},"+"],["span",{"class":"sZSNi"}," input"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"slice"],["span",{"class":"sRlkE"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"You can now use ",["a",{"href":"/docs/guide/directory-structure/shared#auto-imports"},"auto-imported"]," utilities in your Nuxt app and ",["code",{},"server/"]," directory."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst hello = capitalize(''hello'')\n</script>\n\n<template>\n  <div>\n    {{ hello }}\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," hello "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," capitalize"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    {{ hello }}\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler((event) => {\n  return {\n    hello: capitalize(''hello'')\n  }\n})\n","filename":"server/api/hello.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    hello"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," capitalize"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"how-files-are-scanned"},"How Files Are Scanned"],["p",{},"Only files in the ",["code",{},"shared/utils/"]," and ",["code",{},"shared/types/"]," directories will be auto-imported. Files nested within subdirectories of these directories will not be auto-imported unless you add these directories to ",["code",{},"imports.dirs"]," and ",["code",{},"nitro.imports.dirs"],"."],["tip",{},["p",{},"The way ",["code",{},"shared/utils"]," and ",["code",{},"shared/types"]," auto-imports work and are scanned is identical to the ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/"]]," and ",["a",{"href":"/docs/guide/directory-structure/app/utils"},["code",{},"app/utils/"]]," directories."]],["read-more",{"to":"/docs/guide/directory-structure/app/composables#how-files-are-scanned"}],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| shared/\n---| capitalize.ts        # Not auto-imported\n---| formatters\n-----| lower.ts           # Not auto-imported\n---| utils/\n-----| lower.ts           # Auto-imported\n-----| formatters\n-------| upper.ts         # Not auto-imported\n---| types/\n-----| bar.d.ts           # Auto-imported\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," shared/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," capitalize.ts"],["span",{"class":"sWuyu"},"        # Not auto-imported\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," formatters\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," lower.ts"],["span",{"class":"sWuyu"},"           # Not auto-imported\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," utils/\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," lower.ts"],["span",{"class":"sWuyu"},"           # Auto-imported\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," formatters\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"-------"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," upper.ts"],["span",{"class":"sWuyu"},"         # Not auto-imported\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," types/\n"]],["span",{"class":"line","line":10},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," bar.d.ts"],["span",{"class":"sWuyu"},"           # Auto-imported\n"]]]],["p",{},"Any other files you create in the ",["code",{},"shared/"]," folder must be manually imported using the ",["code",{},"#shared"]," alias (automatically configured by Nuxt):"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// For files directly in the shared directory\nimport capitalize from ''#shared/capitalize''\n\n// For files in nested directories\nimport lower from ''#shared/formatters/lower''\n\n// For files nested in a folder within utils\nimport upper from ''#shared/utils/formatters/upper''\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// For files directly in the shared directory\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," capitalize "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#shared/capitalize"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// For files in nested directories\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," lower "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#shared/formatters/lower"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"// For files nested in a folder within utils\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," upper "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#shared/utils/formatters/upper"],["span",{"class":"sDfIl"},"''\n"]]]],["p",{},"This alias ensures consistent imports across your application, regardless of the importing file''s location."],["read-more",{"to":"/docs/guide/concepts/auto-imports"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"},{"id":"how-files-are-scanned","depth":2,"text":"How Files Are Scanned"}]}}', 'Use the shared/ directory to share functionality between the Vue app and the Nitro server.', 'md', NULL, '{"head":{"title":"shared/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/shared', '{"title":"shared","description":"Use the shared/ directory to share functionality between the Vue app and the Nitro server."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.shared', NULL, '14Ym5Hsd44Ild5HiH0U8CGJrbpOCLOqz_reCPetQ_JU'); -- 14Ym5Hsd44Ild5HiH0U8CGJrbpOCLOqz_reCPetQ_JU
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/2.env.md', '.env', '{"type":"minimark","value":[["important",{},["p",{},"This file should be added to your ",["a",{"href":"/docs/guide/directory-structure/gitignore"},["code",{},".gitignore"]]," file to avoid pushing secrets to your repository."]],["h2",{"id":"dev-build-and-generate-time"},"Dev, Build and Generate Time"],["p",{},"Nuxt CLI has built-in ",["a",{"href":"https://github.com/motdotla/dotenv","rel":["nofollow"]},"dotenv"]," support in development mode and when running ",["a",{"href":"/docs/api/commands/build"},["code",{},"nuxt build"]]," and ",["a",{"href":"/docs/api/commands/generate"},["code",{},"nuxt generate"]],"."],["p",{},"In addition to any process environment variables, if you have a ",["code",{},".env"]," file in your project root directory, it will be automatically loaded ",["strong",{},"at dev, build and generate time"],". Any environment variables set there will be accessible within your ",["code",{},"nuxt.config"]," file and modules."],["pre",{"className":"language-ini shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"MY_ENV_VARIABLE=hello\n","filename":".env","language":"ini","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sRlkE"},"MY_ENV_VARIABLE"],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"},"hello\n"]]]],["note",{},["p",{},"Note that removing a variable from ",["code",{},".env"]," or removing the ",["code",{},".env"]," file entirely will not unset values that have already been set."]],["h2",{"id":"custom-file"},"Custom File"],["p",{},"If you want to use a different file - for example, to use ",["code",{},".env.local"]," or ",["code",{},".env.production"]," - you can do so by passing the ",["code",{},"--dotenv"]," flag when using the Nuxt CLI."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt dev --dotenv .env.local\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," --dotenv"],["span",{"class":"sGFVr"}," .env.local\n"]]]],["p",{},"When updating ",["code",{},".env"]," in development mode, the Nuxt instance is automatically restarted to apply new values to the ",["code",{},"process.env"],"."],["important",{},["p",{},"In your application code, you should use ",["a",{"href":"/docs/guide/going-further/runtime-config"},"Runtime Config"]," instead of plain env variables."]],["h2",{"id":"production"},"Production"],["p",{},["strong",{},"After your server is built"],", you are responsible for setting environment variables when you run the server."],["p",{},"Your ",["code",{},".env"]," files will not be read at this point. How you do this is different for every environment."],["p",{},"This design decision was made to ensure compatibility across various deployment environments, some of which may not have a traditional file system available, such as serverless platforms or edge networks like Cloudflare Workers."],["p",{},"Since ",["code",{},".env"]," files are not used in production, you must explicitly set environment variables using the tools and methods provided by your hosting environment. Here are some common approaches:"],["ul",{},["li",{},"You can pass the environment variables as arguments using the terminal:",["br",{}],["code",{},"$ DATABASE_HOST=mydatabaseconnectionstring node .output/server/index.mjs"]],["li",{},"You can set environment variables in shell configuration files like ",["code",{},".bashrc"]," or ",["code",{},".profile"],"."],["li",{},"Many cloud service providers, such as Vercel, Netlify, and AWS, provide interfaces for setting environment variables via their dashboards, CLI tools or configuration files."]],["important",{},["p",{},["code",{},"runtimeConfig"]," ",["span",{},"won''t pick up environment variables that don''t start with ",["code",{},"NUXT_"]," in production"]," (",["a",{"href":"https://nuxt.com/docs/guide/going-further/runtime-config#environment-variables","rel":["nofollow"]},"https://nuxt.com/docs/guide/going-further/runtime-config#environment-variables"],")."]],["h2",{"id":"production-preview"},"Production Preview"],["p",{},"For local production preview purpose, we recommend using ",["a",{"href":"/docs/api/commands/preview"},["code",{},"nuxt preview"]]," since using this command, the ",["code",{},".env"]," file will be loaded into ",["code",{},"process.env"]," for convenience. Note that this command requires dependencies to be installed in the package directory."],["p",{},"Or you could pass the environment variables as arguments using the terminal. For example, on Linux or macOS:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"DATABASE_HOST=mydatabaseconnectionstring node .output/server/index.mjs\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"DATABASE_HOST"],["span",{"class":"sDfIl"},"="],["span",{"class":"sGFVr"},"mydatabaseconnectionstring"],["span",{"class":"s52Pk"}," node"],["span",{"class":"sGFVr"}," .output/server/index.mjs\n"]]]],["p",{},"Note that for a purely static site, it is not possible to set runtime configuration config after your project is prerendered."],["read-more",{"to":"/docs/guide/going-further/runtime-config"}],["note",{},["p",{},"If you want to use environment variables set at build time but do not care about updating these down the line (or only need to update them reactively ",["em",{},"within"]," your app) then ",["code",{},"appConfig"]," may be a better choice. You can define ",["code",{},"appConfig"]," both within your ",["code",{},"nuxt.config"]," (using environment variables) and also within an ",["code",{},"~/app.config.ts"]," file in your project."],["read-more",{"to":"/docs/guide/directory-structure/app-config"}]],["style",{},"html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"dev-build-and-generate-time","depth":2,"text":"Dev, Build and Generate Time"},{"id":"custom-file","depth":2,"text":"Custom File"},{"id":"production","depth":2,"text":"Production"},{"id":"production-preview","depth":2,"text":"Production Preview"}]}}', 'A .env file specifies your build/dev-time environment variables.', 'md', NULL, '{"head":{"title":".env"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/env', '{"title":".env","description":"A .env file specifies your build/dev-time environment variables."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/2.env', NULL, '-SCldZzBpJhYYzBYqO206vfZ6-djP8jaHGt0kzpvXYQ'); -- -SCldZzBpJhYYzBYqO206vfZ6-djP8jaHGt0kzpvXYQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/2.gitignore.md', '.gitignore', '{"type":"minimark","value":[["p",{},"A ",["code",{},".gitignore"]," file specifies intentionally untracked files that git should ignore."],["read-more",{"icon":"i-simple-icons-git","target":"_blank","title":"the git documentation","to":"https://git-scm.com/docs/gitignore"}],["p",{},"We recommend having a ",["code",{},".gitignore"]," file that has ",["strong",{},"at least"]," the following entries present:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"# Nuxt dev/build outputs\n.output\n.data\n.nuxt\n.nitro\n.cache\ndist\n\n# Node dependencies\nnode_modules\n\n# Logs\nlogs\n*.log\n\n# Misc\n.DS_Store\n\n# Local env files\n.env\n.env.*\n!.env.example\n","filename":".gitignore","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"# Nuxt dev/build outputs\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},".output\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},".data\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},".nuxt\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},".nitro\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},".cache\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"dist\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"# Node dependencies\n"]],["span",{"class":"line","line":10},["span",{"class":"s52Pk"},"node_modules\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"# Logs\n"]],["span",{"class":"line","line":13},["span",{"class":"s52Pk"},"logs\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"*"],["span",{"class":"sZSNi"},".log\n"]],["span",{"class":"line","line":15},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":16},["span",{"class":"sWuyu"},"# Misc\n"]],["span",{"class":"line","line":17},["span",{"class":"s52Pk"},".DS_Store\n"]],["span",{"class":"line","line":18},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":19},["span",{"class":"sWuyu"},"# Local env files\n"]],["span",{"class":"line","line":20},["span",{"class":"s52Pk"},".env\n"]],["span",{"class":"line","line":21},["span",{"class":"s52Pk"},".env.*\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"!"],["span",{"class":"s52Pk"},".env.example\n"]]]],["style",{},"html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'A .gitignore file specifies intentionally untracked files that git should ignore.', 'md', NULL, '{"head":{"title":".gitignore"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/gitignore', '{"title":".gitignore","description":"A .gitignore file specifies intentionally untracked files that git should ignore."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/2.gitignore', NULL, 'UjlDIue7jJozosAOt8Ken8E3B6VcJ3TFy3v1ZmMscOI'); -- UjlDIue7jJozosAOt8Ken8E3B6VcJ3TFy3v1ZmMscOI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/2.nuxtignore.md', '.nuxtignore', '{"type":"minimark","value":[["p",{},"The ",["code",{},".nuxtignore"]," file tells Nuxt to ignore files in your project’s root directory (",["a",{"href":"/docs/api/nuxt-config#rootdir"},["code",{},"rootDir"]],") during the build phase."],["p",{},"It is subject to the same specification as ",["a",{"href":"/docs/guide/directory-structure/gitignore"},["code",{},".gitignore"]]," and ",["code",{},".eslintignore"]," files, in which each line is a glob pattern indicating which files should be ignored."],["tip",{},["p",{},"You can also configure ",["a",{"href":"/docs/api/nuxt-config#ignoreoptions"},["code",{},"ignoreOptions"]],", ",["a",{"href":"/docs/api/nuxt-config#ignoreprefix"},["code",{},"ignorePrefix"]]," and ",["a",{"href":"/docs/api/nuxt-config#ignore"},["code",{},"ignore"]]," in your ",["code",{},"nuxt.config"]," file."]],["h2",{"id":"usage"},"Usage"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"# ignore layout foo.vue\napp/layouts/foo.vue\n# ignore layout files whose name ends with -ignore.vue\napp/layouts/*-ignore.vue\n\n# ignore page bar.vue\napp/pages/bar.vue\n# ignore page inside ignore folder\napp/pages/ignore/*.vue\n\n# ignore route middleware files under foo folder except foo/bar.js\napp/middleware/foo/*.js\n!app/middleware/foo/bar.js\n","filename":".nuxtignore","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"# ignore layout foo.vue\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"app/layouts/foo.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"# ignore layout files whose name ends with -ignore.vue\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"app/layouts/*-ignore.vue\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"# ignore page bar.vue\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"app/pages/bar.vue\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"# ignore page inside ignore folder\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"app/pages/ignore/*.vue\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"# ignore route middleware files under foo folder except foo/bar.js\n"]],["span",{"class":"line","line":12},["span",{"class":"s52Pk"},"app/middleware/foo/*.js\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"!"],["span",{"class":"s52Pk"},"app/middleware/foo/bar.js\n"]]]],["read-more",{"icon":"i-simple-icons-git","target":"_blank","title":"the git documentation","to":"https://git-scm.com/docs/gitignore"},["p",{},"More details about the spec are in the ",["strong",{},"gitignore documentation"],"."]],["style",{},"html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"}]}}', 'The .nuxtignore file lets Nuxt ignore files in your project’s root directory during the build phase.', 'md', NULL, '{"head":{"title":".nuxtignore"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/nuxtignore', '{"title":".nuxtignore","description":"The .nuxtignore file lets Nuxt ignore files in your project’s root directory during the build phase."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/2.nuxtignore', NULL, 'FmhqWjAyCBJnRL8Iaubw2wwlS2RtMinmKDQs4r8zIps'); -- FmhqWjAyCBJnRL8Iaubw2wwlS2RtMinmKDQs4r8zIps
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/2.nuxtrc.md', '.nuxtrc', '{"type":"minimark","value":[["p",{},"The ",["code",{},".nuxtrc"]," file can be used to configure Nuxt with a flat syntax. It is based on ",["a",{"href":"https://github.com/unjs/rc9","rel":["nofollow"]},["code",{},"unjs/rc9"]],"."],["tip",{},["p",{},"For more advanced configurations, use ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config"]],"."]],["h2",{"id":"usage"},"Usage"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"# Disable SSR\nssr=false\n\n# Configuration for `@nuxt/devtools`\ndevtools.enabled=true\n\n# Add Nuxt modules\nmodules[]=@nuxt/image\nmodules[]=nuxt-security\n","filename":".nuxtrc","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"# Disable SSR\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"ssr"],["span",{"class":"sDfIl"},"="],["span",{"class":"sGFVr"},"false\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"# Configuration for `@nuxt/devtools`\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"devtools.enabled"],["span",{"class":"sGFVr"},"="],["span",{"class":"s3cPz"},"true\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"# Add Nuxt modules\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"modules[]"],["span",{"class":"sGFVr"},"=@nuxt/image\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"modules[]"],["span",{"class":"sGFVr"},"=nuxt-security\n"]]]],["p",{},"If present, the properties in the ",["code",{},"nuxt.config"]," file will overwrite the properties in ",["code",{},".nuxtrc"]," file."],["note",{},["p",{},"Nuxt automatically adds a ",["code",{},"setups"]," section to track module installation and upgrade state. This is used internally for ",["a",{"href":"/docs/api/kit/modules#using-lifecycle-hooks-for-module-installation-and-upgrade"},"module lifecycle hooks"]," and should not be modified manually."]],["read-more",{"to":"/docs/api/configuration/nuxt-config"},["p",{},"Discover all the available options in the ",["strong",{},"Nuxt configuration"]," documentation."]],["h2",{"id":"global-nuxtrc-file"},"Global ",["code",{},".nuxtrc"]," File"],["p",{},"You can also create a global ",["code",{},".nuxtrc"]," file in your home directory to apply configurations globally."],["ul",{},["li",{},"On macOS/Linux, this file is located at:",["pre",{"className":"language-md shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"~/.nuxtrc\n","language":"md","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"~/.nuxtrc\n"]]]]],["li",{},"On Windows, it is located at:",["pre",{"className":"language-md shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"C:\\Users\\{username}\\.nuxtrc\n","language":"md","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"C:\\Users\\{username}\\.nuxtrc\n"]]]]]],["p",{},"This global ",["code",{},".nuxtrc"]," file allows you to define default settings that apply to all Nuxt projects on your system. However, project-level ",["code",{},".nuxtrc"]," files will override these global settings, and ",["code",{},"nuxt.config"]," will take precedence over both."],["style",{},"html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage"},{"id":"global-nuxtrc-file","depth":2,"text":"Global .nuxtrc File"}]}}', 'The .nuxtrc file allows you to define nuxt configurations in a flat syntax.', 'md', NULL, '{"head":{"title":".nuxtrc"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/nuxtrc', '{"title":".nuxtrc","description":"The .nuxtrc file allows you to define nuxt configurations in a flat syntax."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/2.nuxtrc', NULL, 'ot2hoilA3OHLGjSySR_zTR6Ti5K9_0KMOWxH1hJVcyE'); -- ot2hoilA3OHLGjSySR_zTR6Ti5K9_0KMOWxH1hJVcyE
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/3.nuxt-config.md', 'nuxt.config.ts', '{"type":"minimark","value":[["p",{},"The ",["code",{},"nuxt.config"]," file extension can either be ",["code",{},".js"],", ",["code",{},".ts"]," or ",["code",{},".mjs"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  // My Nuxt config\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // My Nuxt config\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{},["p",{},["code",{},"defineNuxtConfig"]," helper is globally available without import."]],["p",{},"You can explicitly import ",["code",{},"defineNuxtConfig"]," from ",["code",{},"nuxt/config"]," if you prefer:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtConfig } from ''nuxt/config''\n\nexport default defineNuxtConfig({\n  // My Nuxt config\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/config"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // My Nuxt config\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/configuration/nuxt-config"},["p",{},"Discover all the available options in the ",["strong",{},"Nuxt configuration"]," documentation."]],["p",{},"To ensure your configuration is up to date, Nuxt will make a full restart when detecting changes in the main configuration file, the ",["a",{"href":"/docs/guide/directory-structure/env"},["code",{},".env"]],", ",["a",{"href":"/docs/guide/directory-structure/nuxtignore"},["code",{},".nuxtignore"]]," and ",["a",{"href":"/docs/guide/directory-structure/nuxtrc"},["code",{},".nuxtrc"]]," dotfiles."],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Nuxt can be easily configured with a single nuxt.config file.', 'md', NULL, '{"head":{"title":"nuxt.config.ts"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/nuxt-config', '{"title":"nuxt.config.ts","description":"Nuxt can be easily configured with a single nuxt.config file."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/3.nuxt-config', NULL, 'WaiVIrGGh8flHwZ-KtKzshj8vPtjhESd6AYhU8mT_5g'); -- WaiVIrGGh8flHwZ-KtKzshj8vPtjhESd6AYhU8mT_5g
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/3.package.md', 'package.json', '{"type":"minimark","value":[["p",{},"The minimal ",["code",{},"package.json"]," of your Nuxt application should looks like:"],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"name\": \"nuxt-app\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"build\": \"nuxt build\",\n    \"dev\": \"nuxt dev\",\n    \"generate\": \"nuxt generate\",\n    \"preview\": \"nuxt preview\",\n    \"postinstall\": \"nuxt prepare\"\n  },\n  \"dependencies\": {\n    \"nuxt\": \"latest\",\n    \"vue\": \"latest\",\n    \"vue-router\": \"latest\"\n  }\n}\n","filename":"package.json","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"name"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt-app"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"private"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," true,\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"type"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"module"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"scripts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"build"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt build"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"dev"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt dev"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"generate"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt generate"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"preview"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt preview"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"postinstall"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt prepare"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"dependencies"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"latest"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"vue"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"latest"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"vue-router"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"latest"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"}\n"]]]],["read-more",{"icon":"i-simple-icons-npm","target":"_blank","to":"https://docs.npmjs.com/cli/configuring-npm/package-json"},["p",{},"Read more about the ",["code",{},"package.json"]," file."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'The package.json file contains all the dependencies and scripts for your application.', 'md', NULL, '{"head":{"title":"package.json"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/package', '{"title":"package.json","description":"The package.json file contains all the dependencies and scripts for your application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/3.package', NULL, 'jZ7lwoyQF_I9_bC8_ayMccQstJerr5MDuMmtVZGQyNQ'); -- jZ7lwoyQF_I9_bC8_ayMccQstJerr5MDuMmtVZGQyNQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/3.tsconfig.md', 'tsconfig.json', '{"type":"minimark","value":[["p",{},"Nuxt ",["a",{"href":"/docs/guide/concepts/typescript"},"automatically generates"]," multiple TypeScript configuration files (",["code",{},".nuxt/tsconfig.app.json"],", ",["code",{},".nuxt/tsconfig.server.json"],", ",["code",{},".nuxt/tsconfig.node.json"]," and ",["code",{},".nuxt/tsconfig.shared.json"],") with the resolved aliases you are using in your Nuxt project, as well as with other sensible defaults."],["p",{},"You can benefit from this by creating a ",["code",{},"tsconfig.json"]," in the root of your project with the following content:"],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"files\": [],\n  \"references\": [\n    {\n      \"path\": \"./.nuxt/tsconfig.app.json\"\n    },\n    {\n      \"path\": \"./.nuxt/tsconfig.server.json\"\n    },\n    {\n      \"path\": \"./.nuxt/tsconfig.shared.json\"\n    },\n    {\n      \"path\": \"./.nuxt/tsconfig.node.json\"\n    }\n  ]\n}\n","filename":"tsconfig.json","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"files"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," [],\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"references"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.app.json"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.server.json"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.shared.json"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.node.json"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  ]\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"}\n"]]]],["note",{},["p",{},"As you need to, you can customize the contents of this file. However, it is recommended that you don''t overwrite ",["code",{},"target"],", ",["code",{},"module"]," and ",["code",{},"moduleResolution"],"."]],["note",{},["p",{},"If you need to customize your ",["code",{},"paths"],", this will override the auto-generated path aliases. Instead, we recommend that you add any path aliases you need to the ",["a",{"href":"/docs/api/nuxt-config#alias"},["code",{},"alias"]]," property within your ",["code",{},"nuxt.config"],", where they will get picked up and added to the auto-generated ",["code",{},"tsconfig"],"."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Nuxt generates multiple TypeScript configuration files with sensible defaults and your aliases.', 'md', NULL, '{"head":{"title":"tsconfig.json"}}', '{"icon":"i-lucide-file"}', '/nuxt/nuxtcore/live/guide/directory-structure/tsconfig', '{"title":"tsconfig.json","description":"Nuxt generates multiple TypeScript configuration files with sensible defaults and your aliases."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/3.tsconfig', NULL, 'CM5tMFebvd0SU2Plyn-vF6fBy6NOUdqAlVn6LHtZ2cI'); -- CM5tMFebvd0SU2Plyn-vF6fBy6NOUdqAlVn6LHtZ2cI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/.navigation.yml', 'Going Further', '{"title":"Going Further","titleTemplate":"%s · Nuxt Advanced","icon":"i-lucide-star"}', NULL, 'yml', NULL, '{"icon":"i-lucide-star"}', 'true', '/nuxt/nuxtcore/live/guide/going-further/.navigation', '{"title":"Going Further"}', 'nuxt/nuxtcore/live/2.guide/3.going-further/.navigation', '%s · Nuxt Advanced', 'FYdwgV8Yy9yKNYOhpxWxgL5NG_b8fiI7cRTX3xbLZZk'); -- FYdwgV8Yy9yKNYOhpxWxgL5NG_b8fiI7cRTX3xbLZZk
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/1.events.md', 'Events', '{"type":"minimark","value":[["h1",{"id":"events"},"Events"],["p",{},"Using events is a great way to decouple your application and allow for more flexible and modular communication between different parts of your code. Events can have multiple listeners that do not depend on each other. For example, you may wish to send an email to your user each time an order has shipped. Instead of coupling your order processing code to your email code, you can emit an event which a listener can receive and use to dispatch an email."],["p",{},"The Nuxt event system is powered by ",["a",{"href":"https://github.com/unjs/hookable","rel":["nofollow"]},"unjs/hookable"],", which is the same library that powers the Nuxt hooks system."],["h2",{"id":"creating-events-and-listeners"},"Creating Events and Listeners"],["p",{},"You can create your own custom events using the ",["code",{},"hook"]," method:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const nuxtApp = useNuxtApp()\n\nnuxtApp.hook(''app:user:registered'', payload => {\n  console.log(''A new user has registered!'', payload)\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," nuxtApp "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"app:user:registered"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," payload"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"A new user has registered!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," payload"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"To emit an event and notify any listeners, use ",["code",{},"callHook"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const nuxtApp = useNuxtApp()\n\nawait nuxtApp.callHook(''app:user:registered'', {\n  id: 1,\n  name: ''John Doe'',\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," nuxtApp "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"await"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"callHook"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"app:user:registered"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  id"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"John Doe"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can also use the payload object to enable two-way communication between the emitter and listeners. Since the payload is passed by reference, a listener can modify it to send data back to the emitter."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const nuxtApp = useNuxtApp()\n\nnuxtApp.hook(''app:user:registered'', payload => {\n  payload.message = ''Welcome to our app!''\n})\n\nconst payload = {\n  id: 1,\n  name: ''John Doe'',\n}\n\nawait nuxtApp.callHook(''app:user:registered'', {\n  id: 1,\n  name: ''John Doe'',\n})\n\n// payload.message will be ''Welcome to our app!''\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," nuxtApp "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"app:user:registered"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," payload"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  payload"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"message"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Welcome to our app!"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," payload "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"  id"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"John Doe"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"s8R28"},"await"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"callHook"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"app:user:registered"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"sRlkE"},"  id"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":14},["span",{"class":"sRlkE"},"  name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"John Doe"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":16},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":17},["span",{"class":"sWuyu"},"// payload.message will be ''Welcome to our app!''\n"]]]],["tip",{},["p",{},"You can inspect all events using the ",["strong",{},"Nuxt DevTools"]," Hooks panel."]],["read-more",{"to":"/docs/guide/going-further/hooks"},["p",{},"Learn more about Nuxt''s built-in hooks and how to extend them"]],["style",{},"html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"creating-events-and-listeners","depth":2,"text":"Creating Events and Listeners"}]}}', 'Nuxt provides a powerful event system powered by hookable.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/events', '{"title":"Events","description":"Nuxt provides a powerful event system powered by hookable."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/1.events', NULL, 'BIV9s4yaNF3NIoeSw15rpiduri385aBwN_C52g5peRU'); -- BIV9s4yaNF3NIoeSw15rpiduri385aBwN_C52g5peRU
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/1.experimental-features.md', 'Experimental Features', '{"type":"minimark","value":[["p",{},"Nuxt includes experimental features that you can enable in your configuration file."],["p",{},"Internally, Nuxt uses ",["code",{},"@nuxt/schema"]," to define these experimental features. You can refer to the ",["a",{"href":"/docs/api/configuration/nuxt-config#experimental"},"API documentation"]," or the ",["a",{"href":"https://github.com/nuxt/nuxt/blob/main/packages/schema/src/config/experimental.ts","rel":["nofollow"]},"source code"]," for more information."],["note",{},["p",{},"Note that these features are experimental and could be removed or modified in the future."]],["h2",{"id":"asynccontext"},"asyncContext"],["p",{},"Enable native async context to be accessible for nested composables in Nuxt and in Nitro. This opens the possibility to use composables inside async composables and reduce the chance to get the ",["code",{},"Nuxt instance is unavailable"]," error."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    asyncContext: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    asyncContext"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://github.com/nuxt/nuxt/pull/20918","icon":"i-simple-icons-github","target":"_blank"},["p",{},"See full explanation on the GitHub pull-request."]],["h2",{"id":"asyncentry"},"asyncEntry"],["p",{},"Enables generation of an async entry point for the Vue bundle, aiding module federation support."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    asyncEntry: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    asyncEntry"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"externalvue"},"externalVue"],["p",{},"Externalizes ",["code",{},"vue"],", ",["code",{},"@vue/*"]," and ",["code",{},"vue-router"]," when building."],["p",{},["em",{},"Enabled by default."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    externalVue: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    externalVue"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"This feature will likely be removed in a near future."]],["h2",{"id":"emitroutechunkerror"},"emitRouteChunkError"],["p",{},"Emits ",["code",{},"app:chunkError"]," hook when there is an error loading vite/webpack chunks. Default behavior is to perform a reload of the new route on navigation to a new route when a chunk fails to load."],["p",{},"If you set this to ",["code",{},"''automatic-immediate''"]," Nuxt will reload the current route immediately, instead of waiting for a navigation. This is useful for chunk errors that are not triggered by navigation, e.g., when your Nuxt app fails to load a ",["a",{"href":"/docs/guide/directory-structure/app/components#dynamic-imports"},"lazy component"],". A potential downside of this behavior is undesired reloads, e.g., when your app does not need the chunk that caused the error."],["p",{},"You can disable automatic handling by setting this to ",["code",{},"false"],", or handle chunk errors manually by setting it to ",["code",{},"manual"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    emitRouteChunkError: ''automatic'' // or ''automatic-immediate'', ''manual'' or false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    emitRouteChunkError"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"automatic"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sWuyu"}," // or ''automatic-immediate'', ''manual'' or false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"restorestate"},"restoreState"],["p",{},"Allows Nuxt app state to be restored from ",["code",{},"sessionStorage"]," when reloading the page after a chunk error or manual ",["a",{"href":"/docs/api/utils/reload-nuxt-app"},["code",{},"reloadNuxtApp()"]]," call."],["p",{},"To avoid hydration errors, it will be applied only after the Vue app has been mounted, meaning there may be a flicker on initial load."],["important",{},["p",{},"Consider carefully before enabling this as it can cause unexpected behavior,\nand consider providing explicit keys to ",["a",{"href":"/docs/api/composables/use-state"},["code",{},"useState"]]," as auto-generated keys may not match across builds."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    restoreState: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    restoreState"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"inlinerouterules"},"inlineRouteRules"],["p",{},"Define route rules at the page level using ",["a",{"href":"/docs/api/utils/define-route-rules"},["code",{},"defineRouteRules"]],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    inlineRouteRules: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    inlineRouteRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Matching route rules will be created, based on the page''s ",["code",{},"path"],"."],["read-more",{"to":"/docs/api/utils/define-route-rules","icon":"i-lucide-square-function"},["p",{},"Read more in ",["code",{},"defineRouteRules"]," utility."]],["read-more",{"to":"/docs/guide/concepts/rendering#hybrid-rendering","icon":"i-lucide-medal"}],["h2",{"id":"renderjsonpayloads"},"renderJsonPayloads"],["p",{},"Allows rendering of JSON payloads with support for revivifying complex types."],["p",{},["em",{},"Enabled by default."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    renderJsonPayloads: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    renderJsonPayloads"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"novueserver"},"noVueServer"],["p",{},"Disables Vue server renderer endpoint within Nitro."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    noVueServer: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    noVueServer"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"payloadextraction"},"payloadExtraction"],["p",{},"Enables extraction of payloads of pages generated with ",["code",{},"nuxt generate"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    payloadExtraction: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    payloadExtraction"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"clientfallback"},"clientFallback"],["p",{},"Enables the experimental ",["a",{"href":"/docs/api/components/nuxt-client-fallback"},["code",{},"<NuxtClientFallback>"]]," component for rendering content on the client if there''s an error in SSR."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    clientFallback: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    clientFallback"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"crossoriginprefetch"},"crossOriginPrefetch"],["p",{},"Enables cross-origin prefetch using the Speculation Rules API."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    crossOriginPrefetch: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    crossOriginPrefetch"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://wicg.github.io/nav-speculation/prefetch.html","icon":"i-simple-icons-w3c","target":"_blank"},["p",{},"Read more about the ",["strong",{},"Speculation Rules API"],"."]],["h2",{"id":"viewtransition"},"viewTransition"],["p",{},"Enables View Transition API integration with client-side router."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    viewTransition: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    viewTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["link-example",{"target":"_blank","to":"https://stackblitz.com/edit/nuxt-view-transitions?file=app.vue"}],["read-more",{"to":"https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API","icon":"i-simple-icons-mdnwebdocs","target":"_blank"},["p",{},"Read more about the ",["strong",{},"View Transition API"],"."]],["h2",{"id":"writeearlyhints"},"writeEarlyHints"],["p",{},"Enables writing of early hints when using node server."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    writeEarlyHints: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    writeEarlyHints"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"componentislands"},"componentIslands"],["p",{},"Enables experimental component islands support with ",["a",{"href":"/docs/api/components/nuxt-island"},["code",{},"<NuxtIsland>"]]," and ",["code",{},".island.vue"]," files."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    componentIslands: true // false or ''local+remote''\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    componentIslands"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sWuyu"}," // false or ''local+remote''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/app/components#server-components"}],["read-more",{"to":"https://github.com/nuxt/nuxt/issues/19772","icon":"i-simple-icons-github","target":"_blank"},["p",{},"You can follow the server components roadmap on GitHub."]],["h2",{"id":"locallayeraliases"},"localLayerAliases"],["p",{},"Resolve ",["code",{},"~"],", ",["code",{},"~~"],", ",["code",{},"@"]," and ",["code",{},"@@"]," aliases located within layers with respect to their layer source and root directories."],["p",{},["em",{},"Enabled by default."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    localLayerAliases: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    localLayerAliases"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"typedpages"},"typedPages"],["p",{},"Enable the new experimental typed router using ",["a",{"href":"https://github.com/posva/unplugin-vue-router","rel":["nofollow"]},["code",{},"unplugin-vue-router"]],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    typedPages: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    typedPages"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Out of the box, this will enable typed usage of ",["a",{"href":"/docs/api/utils/navigate-to"},["code",{},"navigateTo"]],", ",["a",{"href":"/docs/api/components/nuxt-link"},["code",{},"<NuxtLink>"]],", ",["a",{"href":"/docs/api/composables/use-router"},["code",{},"router.push()"]]," and more."],["p",{},"You can even get typed params within a page by using ",["code",{},"const route = useRoute(''route-name'')"],"."],["important",{},["p",{},"If you use ",["code",{},"pnpm"]," without ",["code",{},"shamefully-hoist=true"],", you will need to have ",["code",{},"unplugin-vue-router"]," installed as a devDependency in order for this feature to work."]],["video-accordion",{"title":"Watch a video from Daniel Roe explaining type-safe routing in Nuxt","video-id":"SXk-L19gTZk"}],["h2",{"id":"watcher"},"watcher"],["p",{},"Set an alternative watcher that will be used as the watching service for Nuxt."],["p",{},"Nuxt uses ",["code",{},"chokidar-granular"]," by default, which will ignore top-level directories\n(like ",["code",{},"node_modules"]," and ",["code",{},".git"],") that are excluded from watching."],["p",{},"You can set this instead to ",["code",{},"parcel"]," to use ",["code",{},"@parcel/watcher"],", which may improve\nperformance in large projects or on Windows platforms."],["p",{},"You can also set this to ",["code",{},"chokidar"]," to watch all files in your source directory."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    watcher: ''chokidar-granular'' // ''chokidar'' or ''parcel'' are also options\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    watcher"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"chokidar-granular"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sWuyu"}," // ''chokidar'' or ''parcel'' are also options\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"sharedprerenderdata"},"sharedPrerenderData"],["p",{},"Nuxt automatically shares payload ",["em",{},"data"]," between pages that are prerendered. This can result in a significant performance improvement when prerendering sites that use ",["code",{},"useAsyncData"]," or ",["code",{},"useFetch"]," and fetch the same data in different pages."],["p",{},"You can disable this feature if needed."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    sharedPrerenderData: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    sharedPrerenderData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["video-accordion",{"title":"Watch a video from Alexander Lichter about the experimental sharedPrerenderData","video-id":"1jUupYHVvrU"}],["p",{},"It is particularly important when enabling this feature to make sure that any unique key of your data\nis always resolvable to the same data. For example, if you are using ",["code",{},"useAsyncData"]," to fetch\ndata related to a particular page, you should provide a key that uniquely matches that data. (",["code",{},"useFetch"],"\nshould do this automatically for you.)"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// This would be unsafe in a dynamic page (e.g. `[slug].vue`) because the route slug makes a difference\n// to the data fetched, but Nuxt can''t know that because it''s not reflected in the key.\nconst route = useRoute()\nconst { data } = await useAsyncData(async () => {\n  return await $fetch(`/api/my-page/${route.params.slug}`)\n})\n// Instead, you should use a key that uniquely identifies the data fetched.\nconst { data } = await useAsyncData(route.params.slug, async () => {\n  return await $fetch(`/api/my-page/${route.params.slug}`)\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// This would be unsafe in a dynamic page (e.g. `[slug].vue`) because the route slug makes a difference\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// to the data fetched, but Nuxt can''t know that because it''s not reflected in the key.\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/api/my-page/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"// Instead, you should use a key that uniquely identifies the data fetched.\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"  return"],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/api/my-page/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"clientnodecompat"},"clientNodeCompat"],["p",{},"With this feature, Nuxt will automatically polyfill Node.js imports in the client build using ",["a",{"href":"https://github.com/unjs/unenv","rel":["nofollow"]},["code",{},"unenv"]],"."],["note",{},["p",{},"To make globals like ",["code",{},"Buffer"]," work in the browser, you need to manually inject them."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { Buffer } from ''node:buffer''\n\nglobalThis.Buffer = globalThis.Buffer || Buffer\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," Buffer"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node:buffer"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"globalThis"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"Buffer "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," globalThis"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"Buffer "],["span",{"class":"sDfIl"},"||"],["span",{"class":"sZSNi"}," Buffer\n"]]]]],["h2",{"id":"scanpagemeta"},"scanPageMeta"],["p",{},"Nuxt exposing some route metadata defined in ",["code",{},"definePageMeta"]," at build-time to modules (specifically ",["code",{},"alias"],", ",["code",{},"name"],", ",["code",{},"path"],", ",["code",{},"redirect"],", ",["code",{},"props"]," and ",["code",{},"middleware"],")."],["p",{},"This only works with static or strings/arrays rather than variables or conditional assignment. See ",["a",{"href":"https://github.com/nuxt/nuxt/issues/24770","rel":["nofollow"]},"original issue"]," for more information and context."],["p",{},"By default page metadata is only scanned after all routes have been registered in ",["code",{},"pages:extend"],". Then another hook, ",["code",{},"pages:resolved"]," will be called."],["p",{},"You can disable this feature if it causes issues in your project."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    scanPageMeta: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    scanPageMeta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"cookiestore"},"cookieStore"],["p",{},"Enables CookieStore support to listen for cookie updates (if supported by the browser) and refresh ",["code",{},"useCookie"]," ref values."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    cookieStore: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    cookieStore"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://developer.mozilla.org/en-US/docs/Web/API/CookieStore","icon":"i-simple-icons-mdnwebdocs","target":"_blank"},["p",{},"Read more about the ",["strong",{},"CookieStore"],"."]],["h2",{"id":"buildcache"},"buildCache"],["p",{},"Caches Nuxt build artifacts based on a hash of the configuration and source files."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    buildCache: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    buildCache"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"When enabled, changes to the following files will trigger a full rebuild:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":".nuxtrc\n.npmrc\npackage.json\npackage-lock.json\nyarn.lock\npnpm-lock.yaml\ntsconfig.json\nbun.lock\nbun.lockb\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},".nuxtrc\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},".npmrc\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"package.json\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"package-lock.json\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"yarn.lock\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"pnpm-lock.yaml\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"tsconfig.json\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"bun.lock\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"bun.lockb\n"]]]],["p",{},"In addition, any changes to files within ",["code",{},"srcDir"]," will trigger a rebuild of the Vue client/server bundle. Nitro will always be rebuilt (though work is in progress to allow Nitro to announce its cacheable artifacts and their hashes)."],["note",{},["p",{},"A maximum of 10 cache tarballs are kept."]],["h2",{"id":"extrapagemetaextractionkeys"},"extraPageMetaExtractionKeys"],["p",{},"The ",["code",{},"definePageMeta()"]," macro is a useful way to collect build-time meta about pages. Nuxt itself provides a set list of supported keys which is used to power some of the internal features such as redirects, page aliases and custom paths."],["p",{},"This option allows passing additional keys to extract from the page metadata when using ",["code",{},"scanPageMeta"],"."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script lang=\"ts\" setup>\ndefinePageMeta({\n  foo: ''bar''\n})\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  foo"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bar"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    extraPageMetaExtractionKeys: [''foo''],\n  },\n  hooks: {\n    ''pages:resolved'' (ctx) {\n      // ✅ foo is available\n    },\n  },\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    extraPageMetaExtractionKeys"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"foo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"pages:resolved"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"ctx"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"      // ✅ foo is available\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This allows modules to access additional metadata from the page metadata in the build context. If you are using this within a module, it''s recommended also to ",["a",{"href":"/docs/guide/directory-structure/app/pages#typing-custom-metadata"},"augment the ",["code",{},"NuxtPage"]," types with your keys"],"."],["h2",{"id":"normalizecomponentnames"},"normalizeComponentNames"],["p",{},"Nuxt updates auto-generated Vue component names to match the full component name you would use to auto-import the component."],["p",{},"If you encounter issues, you can disable this feature."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    normalizeComponentNames: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    normalizeComponentNames"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"By default, if you haven''t set it manually, Vue will assign a component name that matches\nthe filename of the component."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"├─ components/\n├─── SomeFolder/\n├───── MyComponent.vue\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"├─"],["span",{"class":"sGFVr"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"├───"],["span",{"class":"sGFVr"}," SomeFolder/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"├─────"],["span",{"class":"sGFVr"}," MyComponent.vue\n"]]]],["p",{},"In this case, the component name would be ",["code",{},"MyComponent"],", as far as Vue is concerned. If you wanted to use ",["code",{},"<KeepAlive>"]," with it, or identify it in the Vue DevTools, you would need to use this component."],["p",{},"But in order to auto-import it, you would need to use ",["code",{},"SomeFolderMyComponent"],"."],["p",{},"By setting ",["code",{},"experimental.normalizeComponentNames"],", these two values match, and Vue will generate a component name that matches the Nuxt pattern for component naming."],["h2",{"id":"spaloadingtemplatelocation"},"spaLoadingTemplateLocation"],["p",{},"When rendering a client-only page (with ",["code",{},"ssr: false"],"), we optionally render a loading screen (from ",["code",{},"~/spa-loading-template.html"],")."],["p",{},"It can be set to ",["code",{},"within"],", which will render it like this:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<div id=\"__nuxt\">\n  <!-- spa loading template -->\n</div>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," id"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"__nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  <!-- spa loading template -->\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Alternatively, you can render the template alongside the Nuxt app root by setting it to ",["code",{},"body"],":"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<div id=\"__nuxt\"></div>\n<!-- spa loading template -->\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," id"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"__nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"<!-- spa loading template -->\n"]]]],["p",{},"This avoids a white flash when hydrating a client-only page."],["h2",{"id":"browserdevtoolstiming"},"browserDevtoolsTiming"],["p",{},"Enables performance markers for Nuxt hooks in browser devtools. This adds performance markers that you can track in the Performance tab of Chromium-based browsers, which is useful for debugging and optimizing performance."],["p",{},"This is enabled by default in development mode. If you need to disable this feature, it is possible to do so:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    browserDevtoolsTiming: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    browserDevtoolsTiming"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://github.com/nuxt/nuxt/pull/29922","icon":"i-simple-icons-github","target":"_blank","color":"gray"},["p",{},"See PR #29922 for implementation details."]],["read-more",{"to":"https://developer.chrome.com/docs/devtools/performance/extension#tracks","icon":"i-simple-icons-googlechrome","target":"_blank","color":"gray"},["p",{},"Learn more about Chrome DevTools Performance API."]],["h2",{"id":"debugmodulemutation"},"debugModuleMutation"],["p",{},"Records mutations to ",["code",{},"nuxt.options"]," in module context, helping to debug configuration changes made by modules during the Nuxt initialization phase."],["p",{},"This is enabled by default when ",["code",{},"debug"]," mode is enabled. If you need to disable this feature, it is possible to do so:"],["p",{},"To enable it explicitly:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    debugModuleMutation: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    debugModuleMutation"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://github.com/nuxt/nuxt/pull/30555","icon":"i-simple-icons-github","target":"_blank","color":"gray"},["p",{},"See PR #30555 for implementation details."]],["h2",{"id":"lazyhydration"},"lazyHydration"],["p",{},"This enables hydration strategies for ",["code",{},"<Lazy>"]," components, which improves performance by deferring hydration of components until they''re needed."],["p",{},"Lazy hydration is enabled by default, but you can disable this feature:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    lazyHydration: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    lazyHydration"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/app/components#delayed-or-lazy-hydration","icon":"i-simple-icons-github","color":"gray"},["p",{},"Read more about lazy hydration."]],["h2",{"id":"templateimportresolution"},"templateImportResolution"],["p",{},"Controls how imports in Nuxt templates are resolved. By default, Nuxt attempts to resolve imports in templates relative to the module that added them."],["p",{},"This is enabled by default, so if you''re experiencing resolution conflicts in certain environments, you can disable this behavior:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    templateImportResolution: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    templateImportResolution"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://github.com/nuxt/nuxt/pull/31175","icon":"i-simple-icons-github","target":"_blank","color":"gray"},["p",{},"See PR #31175 for implementation details."]],["h2",{"id":"decorators"},"decorators"],["p",{},"This option enables enabling decorator syntax across your entire Nuxt/Nitro app, powered by ",["a",{"href":"https://github.com/evanw/esbuild/releases/tag/v0.21.3","rel":["nofollow"]},"esbuild"],"."],["p",{},"For a long time, TypeScript has had support for decorators via ",["code",{},"compilerOptions.experimentalDecorators"],". This implementation predated the TC39 standardization process. Now, decorators are a ",["a",{"href":"https://github.com/tc39/proposal-decorators","rel":["nofollow"]},"Stage 3 Proposal"],", and supported without special configuration in TS 5.0+ (see ",["a",{"href":"https://github.com/microsoft/TypeScript/pull/52582","rel":["nofollow"]},"https://github.com/microsoft/TypeScript/pull/52582"]," and ",["a",{"href":"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/#decorators","rel":["nofollow"]},"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/#decorators"],")."],["p",{},"Enabling ",["code",{},"experimental.decorators"]," enables support for the TC39 proposal, ",["strong",{},"NOT"]," for TypeScript''s previous ",["code",{},"compilerOptions.experimentalDecorators"]," implementation."],["warning",{},["p",{},"Note that there may be changes before this finally lands in the JS standard."]],["h3",{"id":"usage"},"Usage"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    decorators: true,\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    decorators"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"function something (_method: () => unknown) {\n  return () => ''decorated''\n}\n\nclass SomeClass {\n  @something\n  public someMethod () {\n    return ''initial''\n  }\n}\n\nconst value = new SomeClass().someMethod()\n// this will return ''decorated''\n","filename":"app/app.vue","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," something"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s3cPz"},"_method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," unknown"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"decorated"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"class"],["span",{"class":"s52Pk"}," SomeClass"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  @"],["span",{"class":"sZSNi"},"something\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"  public"],["span",{"class":"sRlkE"}," someMethod"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"initial"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," value "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," SomeClass"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"someMethod"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"// this will return ''decorated''\n"]]]],["h2",{"id":"purgecacheddata"},"purgeCachedData"],["p",{},"Nuxt will automatically purge cached data from ",["code",{},"useAsyncData"]," and ",["code",{},"nuxtApp.static.data"],". This helps prevent memory leaks\nand ensures fresh data is loaded when needed, but it is possible to disable it:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    purgeCachedData: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    purgeCachedData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://github.com/nuxt/nuxt/pull/31379","icon":"i-simple-icons-github","target":"_blank","color":"gray"},["p",{},"See PR #31379 for implementation details."]],["h2",{"id":"granularcacheddata"},"granularCachedData"],["p",{},"Whether to call and use the result from ",["code",{},"getCachedData"]," when refreshing data for ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]," (whether by ",["code",{},"watch"],", ",["code",{},"refreshNuxtData()"],", or a manual ",["code",{},"refresh()"]," call."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    granularCachedData: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    granularCachedData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"https://github.com/nuxt/nuxt/pull/31373","icon":"i-simple-icons-github","target":"_blank","color":"gray"},["p",{},"See PR #31373 for implementation details."]],["h2",{"id":"pendingwhenidle"},"pendingWhenIdle"],["p",{},"If set to ",["code",{},"false"],", the ",["code",{},"pending"]," object returned from ",["code",{},"useAsyncData"],", ",["code",{},"useFetch"],", ",["code",{},"useLazyAsyncData"]," and ",["code",{},"useLazyFetch"]," will be a computed property that is ",["code",{},"true"]," only when ",["code",{},"status"]," is also pending."],["p",{},"That means that when ",["code",{},"immediate: false"]," is passed, ",["code",{},"pending"]," will be ",["code",{},"false"]," until the first request is made."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    pendingWhenIdle: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    pendingWhenIdle"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"entryimportmap"},"entryImportMap"],["p",{},"By default, Nuxt improves chunk stability by using an import map to resolve the entry chunk of the bundle."],["p",{},"This injects an import map at the top of your ",["code",{},"<head>"]," tag:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script type=\"importmap\">{\"imports\":{\"#entry\":\"/_nuxt/DC5HVSK5.js\"}}</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"importmap"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{\"imports\":{\"#entry\":\"/_nuxt/DC5HVSK5.js\"}}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Within the script chunks emitted by Vite, imports will be from ",["code",{},"#entry"],". This means that changes to the entry will not invalidate chunks which are otherwise unchanged."],["note",{},["p",{},"Nuxt smartly disables this feature if you have configured ",["code",{},"vite.build.target"]," to include a browser that doesn''t support import maps, or if you have configured ",["code",{},"vite.build.rollupOptions.output.entryFileNames"]," to a value that does not include ",["code",{},"[hash]"],"."]],["p",{},"If you need to disable this feature you can do so:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    entryImportMap: false\n  },\n// or, better, simply tell vite your desired target\n  // which nuxt will respect\n  vite: {\n    build: {\n      target: ''safari13''\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    entryImportMap"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"// or, better, simply tell vite your desired target\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // which nuxt will respect\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    build"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      target"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"safari13"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"asynccontext","depth":2,"text":"asyncContext"},{"id":"asyncentry","depth":2,"text":"asyncEntry"},{"id":"externalvue","depth":2,"text":"externalVue"},{"id":"emitroutechunkerror","depth":2,"text":"emitRouteChunkError"},{"id":"restorestate","depth":2,"text":"restoreState"},{"id":"inlinerouterules","depth":2,"text":"inlineRouteRules"},{"id":"renderjsonpayloads","depth":2,"text":"renderJsonPayloads"},{"id":"novueserver","depth":2,"text":"noVueServer"},{"id":"payloadextraction","depth":2,"text":"payloadExtraction"},{"id":"clientfallback","depth":2,"text":"clientFallback"},{"id":"crossoriginprefetch","depth":2,"text":"crossOriginPrefetch"},{"id":"viewtransition","depth":2,"text":"viewTransition"},{"id":"writeearlyhints","depth":2,"text":"writeEarlyHints"},{"id":"componentislands","depth":2,"text":"componentIslands"},{"id":"locallayeraliases","depth":2,"text":"localLayerAliases"},{"id":"typedpages","depth":2,"text":"typedPages"},{"id":"watcher","depth":2,"text":"watcher"},{"id":"sharedprerenderdata","depth":2,"text":"sharedPrerenderData"},{"id":"clientnodecompat","depth":2,"text":"clientNodeCompat"},{"id":"scanpagemeta","depth":2,"text":"scanPageMeta"},{"id":"cookiestore","depth":2,"text":"cookieStore"},{"id":"buildcache","depth":2,"text":"buildCache"},{"id":"extrapagemetaextractionkeys","depth":2,"text":"extraPageMetaExtractionKeys"},{"id":"normalizecomponentnames","depth":2,"text":"normalizeComponentNames"},{"id":"spaloadingtemplatelocation","depth":2,"text":"spaLoadingTemplateLocation"},{"id":"browserdevtoolstiming","depth":2,"text":"browserDevtoolsTiming"},{"id":"debugmodulemutation","depth":2,"text":"debugModuleMutation"},{"id":"lazyhydration","depth":2,"text":"lazyHydration"},{"id":"templateimportresolution","depth":2,"text":"templateImportResolution"},{"id":"decorators","depth":2,"text":"decorators","children":[{"id":"usage","depth":3,"text":"Usage"}]},{"id":"purgecacheddata","depth":2,"text":"purgeCachedData"},{"id":"granularcacheddata","depth":2,"text":"granularCachedData"},{"id":"pendingwhenidle","depth":2,"text":"pendingWhenIdle"},{"id":"entryimportmap","depth":2,"text":"entryImportMap"}]}}', 'Enable Nuxt experimental features to unlock new possibilities.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/experimental-features', '{"title":"Experimental Features","description":"Enable Nuxt experimental features to unlock new possibilities."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/1.experimental-features', NULL, 'xAA3RkQuvFt3AbplieikFKr6fzUSKaCF5_Psc_cn78o'); -- xAA3RkQuvFt3AbplieikFKr6fzUSKaCF5_Psc_cn78o
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/1.features.md', 'Features', '{"type":"minimark","value":[["p",{},"Some features of Nuxt are available on an opt-in basis, or can be disabled based on your needs."],["h2",{"id":"features"},["code",{},"features"]],["h3",{"id":"inlinestyles"},"inlineStyles"],["p",{},"Inlines styles when rendering HTML. This is currently available only when using Vite."],["p",{},"You can also pass a function that receives the path of a Vue component and returns a boolean indicating whether to inline the styles for that component."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  features: {\n    inlineStyles: false // or a function to determine inlining\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  features"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    inlineStyles"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sWuyu"}," // or a function to determine inlining\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"noscripts"},"noScripts"],["p",{},"Disables rendering of Nuxt scripts and JS resource hints. Can also be configured granularly within ",["code",{},"routeRules"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  features: {\n    noScripts: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  features"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    noScripts"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"future"},["code",{},"future"]],["p",{},"There is also a ",["code",{},"future"]," namespace for early opting-in to new features that will become default in a future (possibly major) version of the framework."],["h3",{"id":"compatibilityversion"},"compatibilityVersion"],["p",{},"This is used for enabling early access to Nuxt features or flags."],["p",{},"It is not configurable yet in Nuxt 4, but once we begin merging breaking changes for v5, it will be possible to enable it."],["h3",{"id":"typescriptbundlerresolution"},"typescriptBundlerResolution"],["p",{},"This enables ''Bundler'' module resolution mode for TypeScript, which is the recommended setting\nfor frameworks like Nuxt and ",["a",{"href":"https://vite.dev/guide/performance.html#reduce-resolve-operations","rel":["nofollow"]},"Vite"],"."],["p",{},"It improves type support when using modern libraries with ",["code",{},"exports"],"."],["p",{},"See ",["a",{"href":"https://github.com/microsoft/TypeScript/pull/51669","rel":["nofollow"]},"the original TypeScript pull request"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  future: {\n    typescriptBundlerResolution: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  future"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    typescriptBundlerResolution"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"features","depth":2,"text":"features","children":[{"id":"inlinestyles","depth":3,"text":"inlineStyles"},{"id":"noscripts","depth":3,"text":"noScripts"}]},{"id":"future","depth":2,"text":"future","children":[{"id":"compatibilityversion","depth":3,"text":"compatibilityVersion"},{"id":"typescriptbundlerresolution","depth":3,"text":"typescriptBundlerResolution"}]}]}}', 'Enable or disable optional Nuxt features to unlock new possibilities.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/features', '{"title":"Features","description":"Enable or disable optional Nuxt features to unlock new possibilities."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/1.features', NULL, 'mZBhSueBTUcw9SA1SSQBZq3t9IwtPlECab3QQckbi0k'); -- mZBhSueBTUcw9SA1SSQBZq3t9IwtPlECab3QQckbi0k
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/1.internals.md', 'How Nuxt Works?', '{"type":"minimark","value":[["p",{},"This guide helps you better understand Nuxt internals to develop new solutions and module integrations on top of Nuxt."],["h2",{"id":"the-nuxt-interface"},"The Nuxt Interface"],["p",{},"When you start Nuxt in development mode with ",["a",{"href":"/docs/api/commands/dev"},["code",{},"nuxt dev"]]," or building a production application with ",["a",{"href":"/docs/api/commands/build"},["code",{},"nuxt build"]],",\na common context will be created, referred to as ",["code",{},"nuxt"]," internally. It holds normalized options merged with ",["code",{},"nuxt.config"]," file,\nsome internal state, and a powerful ",["a",{"href":"/docs/api/advanced/hooks"},"hooking system"]," powered by ",["a",{"href":"https://github.com/unjs/hookable","rel":["nofollow"]},"unjs/hookable"],"\nallowing different components to communicate with each other. You can think of it as ",["strong",{},"Builder Core"],"."],["p",{},"This context is globally available to be used with ",["a",{"href":"/docs/guide/going-further/kit"},"Nuxt Kit"]," composables.\nTherefore only one instance of Nuxt is allowed to run per process."],["p",{},"To extend the Nuxt interface and hook into different stages of the build process, we can use ",["a",{"href":"/docs/guide/going-further/modules"},"Nuxt Modules"],"."],["p",{},"For more details, check out ",["a",{"href":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/core/nuxt.ts","rel":["nofollow"]},"the source code"],"."],["h2",{"id":"the-nuxtapp-interface"},"The NuxtApp Interface"],["p",{},"When rendering a page in the browser or on the server, a shared context will be created, referred to as ",["code",{},"nuxtApp"],".\nThis context keeps vue instance, runtime hooks, and internal states like ssrContext and payload for hydration.\nYou can think of it as ",["strong",{},"Runtime Core"],"."],["p",{},"This context can be accessed using ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"useNuxtApp()"]]," composable within Nuxt plugins and ",["code",{},"<script setup>"]," and vue composables.\nGlobal usage is possible for the browser but not on the server, to avoid sharing context between users."],["p",{},"Since ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"useNuxtApp"]]," throws an exception if context is currently unavailable, if your composable does not always require ",["code",{},"nuxtApp"],", you can use ",["a",{"href":"/docs/api/composables/use-nuxt-app#tryusenuxtapp"},["code",{},"tryUseNuxtApp"]]," instead, which will return ",["code",{},"null"]," instead of throwing an exception."],["p",{},"To extend the ",["code",{},"nuxtApp"]," interface and hook into different stages or access contexts, we can use ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt Plugins"],"."],["p",{},"Check ",["a",{"href":"/docs/api/composables/use-nuxt-app"},"Nuxt App"]," for more information about this interface."],["p",{},["code",{},"nuxtApp"]," has the following properties:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const nuxtApp = {\n  vueApp, // the global Vue application: https://vuejs.org/api/application.html#application-api\n\n  versions, // an object containing Nuxt and Vue versions\n\n  // These let you call and add runtime NuxtApp hooks\n  // https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts#L18\n  hooks,\n  hook,\n  callHook,\n\n  // Only accessible on server-side\n  ssrContext: {\n    url,\n    req,\n    res,\n    runtimeConfig,\n    noSSR,\n  },\n\n  // This will be stringified and passed from server to client\n  payload: {\n    serverRendered: true,\n    data: {},\n    state: {}\n  }\n\n  provide: (name: string, value: any) => void\n}\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," nuxtApp "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  vueApp"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // the global Vue application: https://vuejs.org/api/application.html#application-api\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  versions"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // an object containing Nuxt and Vue versions\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // These let you call and add runtime NuxtApp hooks\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"  // https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts#L18\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"  hooks"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  hook"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"  callHook"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"  // Only accessible on server-side\n"]],["span",{"class":"line","line":13},["span",{"class":"sRlkE"},"  ssrContext"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"sZSNi"},"    url"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":15},["span",{"class":"sZSNi"},"    req"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":16},["span",{"class":"sZSNi"},"    res"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":17},["span",{"class":"sZSNi"},"    runtimeConfig"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":18},["span",{"class":"sZSNi"},"    noSSR"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":20},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":21},["span",{"class":"sWuyu"},"  // This will be stringified and passed from server to client\n"]],["span",{"class":"line","line":22},["span",{"class":"sRlkE"},"  payload"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":23},["span",{"class":"sRlkE"},"    serverRendered"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":24},["span",{"class":"sRlkE"},"    data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":25},["span",{"class":"sRlkE"},"    state"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":26},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":27},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":28},["span",{"class":"sZSNi"},"  provide: "],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"name"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," value"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," any"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," void\n"]],["span",{"class":"line","line":29},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"For more details, check out ",["a",{"href":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts","rel":["nofollow"]},"the source code"],"."],["h2",{"id":"runtime-context-vs-build-context"},"Runtime Context vs. Build Context"],["p",{},"Nuxt builds and bundles project using Node.js but also has a runtime side."],["p",{},"While both areas can be extended, that runtime context is isolated from build-time. Therefore, they are not supposed to share state, code, or context other than runtime configuration!"],["p",{},["code",{},"nuxt.config"]," and ",["a",{"href":"/docs/guide/going-further/modules"},"Nuxt Modules"]," can be used to extend the build context, and ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt Plugins"]," can be used to extend runtime."],["p",{},"When building an application for production, ",["code",{},"nuxt build"]," will generate a standalone build in the ",["code",{},".output"]," directory, independent of ",["code",{},"nuxt.config"]," and ",["a",{"href":"/docs/guide/going-further/modules"},"Nuxt modules"],"."],["style",{},"html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"the-nuxt-interface","depth":2,"text":"The Nuxt Interface"},{"id":"the-nuxtapp-interface","depth":2,"text":"The NuxtApp Interface"},{"id":"runtime-context-vs-build-context","depth":2,"text":"Runtime Context vs. Build Context"}]}}', 'Nuxt is a minimal but highly customizable framework to build web applications.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/internals', '{"title":"How Nuxt Works?","description":"Nuxt is a minimal but highly customizable framework to build web applications."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/1.internals', NULL, 'x8EFEelRKiBOuGIMx6eQC_AehhtWaDQ9cJuGXRz35bo'); -- x8EFEelRKiBOuGIMx6eQC_AehhtWaDQ9cJuGXRz35bo
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/10.runtime-config.md', 'Runtime Config', '{"type":"minimark","value":[["h2",{"id":"exposing"},"Exposing"],["p",{},"To expose config and environment variables to the rest of your app, you will need to define runtime configuration in your ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config"]]," file, using the ",["a",{"href":"/docs/api/nuxt-config#runtimeconfig"},["code",{},"runtimeConfig"]]," option."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  runtimeConfig: {\n    // The private keys which are only available within server-side\n    apiSecret: ''123'',\n    // Keys within public, will be also exposed to the client-side\n    public: {\n      apiBase: ''/api''\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  runtimeConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // The private keys which are only available within server-side\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    apiSecret"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"123"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Keys within public, will be also exposed to the client-side\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    public"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      apiBase"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/api"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"When adding ",["code",{},"apiBase"]," to the ",["code",{},"runtimeConfig.public"],", Nuxt adds it to each page payload. We can universally access ",["code",{},"apiBase"]," in both server and browser."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const runtimeConfig = useRuntimeConfig()\n\nconsole.log(runtimeConfig.apiSecret)\nconsole.log(runtimeConfig.public.apiBase)\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," runtimeConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(runtimeConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"apiSecret)\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(runtimeConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"public"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"apiBase)\n"]]]],["tip",{},["p",{},"Public runtime config is accessible in Vue templates with ",["code",{},"$config.public"],"."]],["h3",{"id":"serialization"},"Serialization"],["p",{},"Your runtime config will be serialized before being passed to Nitro. This means that anything that cannot be serialized and then deserialized (such as functions, Sets, Maps, and so on), should not be set in your ",["code",{},"nuxt.config"],"."],["p",{},"Instead of passing non-serializable objects or functions into your application from your ",["code",{},"nuxt.config"],", you can place this code in a Nuxt or Nitro plugin or middleware."],["h3",{"id":"environment-variables"},"Environment Variables"],["p",{},"The most common way to provide configuration is by using ",["a",{"href":"https://medium.com/chingu/an-introduction-to-environment-variables-and-how-to-use-them-f602f66d15fa","rel":["nofollow"]},"Environment Variables"],"."],["note",{},["p",{},"The Nuxt CLI has built-in support for reading your ",["code",{},".env"]," file in development, build and generate. But when you run your built server, ",["strong",{},"your ",["code",{},".env"]," file will not be read"],"."],["read-more",{"to":"/docs/guide/directory-structure/env"}]],["p",{},"Runtime config values are ",["strong",{},"automatically replaced by matching environment variables at runtime"],"."],["p",{},"There are two key requirements:"],["ol",{},["li",{},"Your desired variables must be defined in your ",["code",{},"nuxt.config"],". This ensures that arbitrary environment variables are not exposed to your application code."],["li",{},"Only a specially-named environment variable can override a runtime config property. That is, an uppercase environment variable starting with ",["code",{},"NUXT_"]," which uses ",["code",{},"_"]," to separate keys and case changes."]],["warning",{},["p",{},"Setting the default of ",["code",{},"runtimeConfig"]," values to ",["em",{},"differently named environment variables"]," (for example setting ",["code",{},"myVar"]," to ",["code",{},"process.env.OTHER_VARIABLE"],") will only work during build-time and will break on runtime.\nIt is advised to use environment variables that match the structure of your ",["code",{},"runtimeConfig"]," object."]],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://youtu.be/_FYV5WfiWvs"},["p",{},"Watch a video from Alexander Lichter showcasing the top mistake developers make using runtimeConfig."]],["h4",{"id":"example"},"Example"],["pre",{"className":"language-ini shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"NUXT_API_SECRET=api_secret_token\nNUXT_PUBLIC_API_BASE=https://nuxtjs.org\n","filename":".env","language":"ini","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sRlkE"},"NUXT_API_SECRET"],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"},"api_secret_token\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"NUXT_PUBLIC_API_BASE"],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"},"https://nuxtjs.org\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  runtimeConfig: {\n    apiSecret: '''', // can be overridden by NUXT_API_SECRET environment variable\n    public: {\n      apiBase: '''', // can be overridden by NUXT_PUBLIC_API_BASE environment variable\n    }\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  runtimeConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    apiSecret"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // can be overridden by NUXT_API_SECRET environment variable\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    public"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      apiBase"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // can be overridden by NUXT_PUBLIC_API_BASE environment variable\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"reading"},"Reading"],["h3",{"id":"vue-app"},"Vue App"],["p",{},"Within the Vue part of your Nuxt app, you will need to call ",["a",{"href":"/docs/api/composables/use-runtime-config"},["code",{},"useRuntimeConfig()"]]," to access the runtime config."],["important",{},["p",{},"The behavior is different between the client-side and server-side:"],["ul",{},["li",{},"On client-side, only keys in ",["code",{},"runtimeConfig.public"]," and ",["code",{},"runtimeConfig.app"]," (which is used by Nuxt internally) are available, and the object is both writable and reactive."],["li",{},"On server-side, the entire runtime config is available, but it is read-only to avoid context sharing."]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst config = useRuntimeConfig()\n\nconsole.log(''Runtime config:'', config)\nif (import.meta.server) {\n  console.log(''API secret:'', config.apiSecret)\n}\n</script>\n\n<template>\n  <div>\n    <div>Check developer console!</div>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," config "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Runtime config:"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," config)\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"if"],["span",{"class":"sZSNi"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"server) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"API secret:"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," config"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"apiSecret"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Check developer console!"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["caution",{},["p",{},["strong",{},"Security note:"]," Be careful not to expose runtime config keys to the client-side by either rendering them or passing them to ",["code",{},"useState"],"."]],["h3",{"id":"plugins"},"Plugins"],["p",{},"If you want to use the runtime config within any (custom) plugin, you can use ",["a",{"href":"/docs/api/composables/use-runtime-config"},["code",{},"useRuntimeConfig()"]]," inside of your ",["code",{},"defineNuxtPlugin"]," function."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin((nuxtApp) => {\n  const config = useRuntimeConfig()\n\n  console.log(''API base URL:'', config.public.apiBase)\n});\n","filename":"app/plugins/config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," config"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"API base URL:"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," config"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"public"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"apiBase"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["h3",{"id":"server-routes"},"Server Routes"],["p",{},"You can access runtime config within the server routes as well using ",["code",{},"useRuntimeConfig"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  const { apiSecret } = useRuntimeConfig(event)\n  const result = await $fetch(''https://my.api.com/test'', {\n    headers: {\n      Authorization: `Bearer ${apiSecret}`\n    }\n  })\n  return result\n})\n","filename":"server/api/test.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," apiSecret"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," result"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"https://my.api.com/test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    headers"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      Authorization"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Bearer "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"apiSecret"],["span",{"class":"sDfIl"},"}`\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," result\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"Giving the ",["code",{},"event"]," as argument to ",["code",{},"useRuntimeConfig"]," is optional, but it is recommended to pass it to get the runtime config overwritten by ",["a",{"href":"/docs/guide/going-further/runtime-config#environment-variables"},"environment variables"]," at runtime for server routes."]],["h2",{"id":"typing-runtime-config"},"Typing Runtime Config"],["p",{},"Nuxt tries to automatically generate a typescript interface from provided runtime config using ",["a",{"href":"https://github.com/unjs/untyped","rel":["nofollow"]},"unjs/untyped"],"."],["p",{},"But it is also possible to type your runtime config manually:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"declare module ''nuxt/schema'' {\n  interface RuntimeConfig {\n    apiSecret: string\n  }\n  interface PublicRuntimeConfig {\n    apiBase: string\n  }\n}\n// It is always important to ensure you import/export something when augmenting a type\nexport {}\n","filename":"index.d.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/schema"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," RuntimeConfig"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    apiSecret"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," PublicRuntimeConfig"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    apiBase"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"// It is always important to ensure you import/export something when augmenting a type\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {}\n"]]]],["note",{},["p",{},["code",{},"nuxt/schema"]," is provided as a convenience for end-users to access the version of the schema used by Nuxt in their project. Module authors should instead augment ",["code",{},"@nuxt/schema"],"."]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"exposing","depth":2,"text":"Exposing","children":[{"id":"serialization","depth":3,"text":"Serialization"},{"id":"environment-variables","depth":3,"text":"Environment Variables"}]},{"id":"reading","depth":2,"text":"Reading","children":[{"id":"vue-app","depth":3,"text":"Vue App"},{"id":"plugins","depth":3,"text":"Plugins"},{"id":"server-routes","depth":3,"text":"Server Routes"}]},{"id":"typing-runtime-config","depth":2,"text":"Typing Runtime Config"}]}}', 'Nuxt provides a runtime config API to expose configuration and secrets within your application.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/runtime-config', '{"title":"Runtime Config","description":"Nuxt provides a runtime config API to expose configuration and secrets within your application."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/10.runtime-config', NULL, 'qVOj_FF1kRNXoZ5DvENXtmoPKQyw8nJbeNPnKFIVjug'); -- qVOj_FF1kRNXoZ5DvENXtmoPKQyw8nJbeNPnKFIVjug
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/11.nightly-release-channel.md', 'Nightly Release Channel', '{"type":"minimark","value":[["p",{},"Nuxt lands commits, improvements, and bug fixes every day. You can opt in to test them earlier before the next release."],["p",{},"After a commit is merged into the ",["code",{},"main"]," branch of ",["a",{"href":"https://github.com/nuxt/nuxt","rel":["nofollow"]},"nuxt/nuxt"]," and ",["strong",{},"passes all tests"],", we trigger an automated npm release, using GitHub Actions."],["p",{},"You can use these ''nightly'' releases to beta test new features and changes."],["p",{},"The build and publishing method and quality of these ''nightly'' releases are the same as stable ones. The only difference is that you should often check the GitHub repository for updates. There is a slight chance of regressions not being caught during the review process and by the automated tests. Therefore, we internally use this channel to double-check everything before each release."],["note",{},["p",{},"Features that are only available on the nightly release channel are marked with an alert in the documentation."]],["warning",{},["p",{},"The ",["code",{},"latest"]," nightly release channel is currently tracking the Nuxt v4 branch, meaning that it is particularly likely to have breaking changes right now — be careful! You can opt in to the 3.x branch nightly releases with ",["code",{},"\"nuxt\": \"npm:nuxt-nightly@3x\""],"."]],["h2",{"id":"opting-in"},"Opting In"],["p",{},"Update ",["code",{},"nuxt"]," dependency inside ",["code",{},"package.json"],":"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"devDependencies\": {\n--    \"nuxt\": \"^4.0.0\"\n++    \"nuxt\": \"npm:nuxt-nightly@latest\"\n  }\n}\n","filename":"package.json","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  \"devDependencies\": {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"-    \"nuxt\": \"^4.0.0\"\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"+    \"nuxt\": \"npm:nuxt-nightly@latest\"\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"}\n"]]]],["p",{},"Remove lockfile (",["code",{},"package-lock.json"],", ",["code",{},"yarn.lock"],", ",["code",{},"pnpm-lock.yaml"],", ",["code",{},"bun.lock"]," or ",["code",{},"bun.lockb"],") and reinstall dependencies."],["h2",{"id":"opting-out"},"Opting Out"],["p",{},"Update ",["code",{},"nuxt"]," dependency inside ",["code",{},"package.json"],":"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"devDependencies\": {\n--    \"nuxt\": \"npm:nuxt-nightly@latest\"\n++    \"nuxt\": \"^4.0.0\"\n  }\n}\n","filename":"package.json","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  \"devDependencies\": {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"-    \"nuxt\": \"npm:nuxt-nightly@latest\"\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"+    \"nuxt\": \"^4.0.0\"\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"}\n"]]]],["p",{},"Remove lockfile (",["code",{},"package-lock.json"],", ",["code",{},"yarn.lock"],", ",["code",{},"pnpm-lock.yaml"],", ",["code",{},"bun.lock"]," or ",["code",{},"bun.lockb"],") and reinstall dependencies."],["h2",{"id":"using-nightly-nuxtcli"},"Using Nightly ",["code",{},"@nuxt/cli"]],["p",{},"To try the latest version of ",["a",{"href":"https://github.com/nuxt/cli","rel":["nofollow"]},"nuxt/cli"],":"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx @nuxt/cli-nightly@latest [command]\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," @nuxt/cli-nightly@latest"],["span",{"class":"sZSNi"}," [command]\n"]]]],["read-more",{"to":"/docs/api/commands"},["p",{},"Read more about the available commands."]],["style",{},"html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"opting-in","depth":2,"text":"Opting In"},{"id":"opting-out","depth":2,"text":"Opting Out"},{"id":"using-nightly-nuxtcli","depth":2,"text":"Using Nightly @nuxt/cli"}]}}', 'The nightly release channel allows using Nuxt built directly from the latest commits to the repository.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/nightly-release-channel', '{"title":"Nightly Release Channel","description":"The nightly release channel allows using Nuxt built directly from the latest commits to the repository."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/11.nightly-release-channel', NULL, 'WpVQ6_y6Kk-inE8T1NkXyg8vjdDIVk3NRpnUDO64y3M'); -- WpVQ6_y6Kk-inE8T1NkXyg8vjdDIVk3NRpnUDO64y3M
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/2.hooks.md', 'Lifecycle Hooks', '{"type":"minimark","value":[["tip",{},["p",{},"The hooking system is powered by ",["a",{"href":"https://github.com/unjs/hookable","rel":["nofollow"]},"unjs/hookable"],"."]],["h2",{"id":"nuxt-hooks-build-time"},"Nuxt Hooks (Build Time)"],["p",{},"These hooks are available for ",["a",{"href":"/docs/guide/going-further/modules"},"Nuxt Modules"]," and build context."],["h3",{"id":"within-nuxtconfigts"},"Within ",["code",{},"nuxt.config.ts"]],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  hooks: {\n    close: () => { }\n  }\n})\n","filename":"nuxt.config.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"    close"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"within-nuxt-modules"},"Within Nuxt Modules"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    nuxt.hook(''close'', async () => { })\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"close"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/advanced/hooks#nuxt-hooks-build-time"},["p",{},"Explore all available Nuxt hooks."]],["h2",{"id":"app-hooks-runtime"},"App Hooks (Runtime)"],["p",{},"App hooks can be mainly used by ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt Plugins"]," to hook into rendering lifecycle but could also be used in Vue composables."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin((nuxtApp) => {\n  nuxtApp.hook(''page:start'', () => {\n    /* your code goes here */\n  })\n})\n","filename":"app/plugins/test.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"page:start"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    /* your code goes here */\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/advanced/hooks#app-hooks-runtime"},["p",{},"Explore all available App hooks."]],["h2",{"id":"server-hooks-runtime"},"Server Hooks (Runtime)"],["p",{},"These hooks are available for ",["a",{"href":"/docs/guide/directory-structure/server#server-plugins"},"server plugins"]," to hook into Nitro''s runtime behavior."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook(''render:html'', (html, { event }) => {\n    console.log(''render:html'', html)\n    html.bodyAppend.push(''<hr>Appended by custom plugin'')\n  })\n\n  nitroApp.hooks.hook(''render:response'', (response, { event }) => {\n    console.log(''render:response'', response)\n  })\n})\n","filename":"~/server/plugins/test.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNitroPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nitroApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nitroApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"hooks"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"html"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"s1nJG"}," event"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," html"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    html"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"bodyAppend"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"<hr>Appended by custom plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  nitroApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"hooks"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:response"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"response"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"s1nJG"}," event"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:response"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," response"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/advanced/hooks#nitro-app-hooks-runtime-server-side"},["p",{},"Learn more about available Nitro lifecycle hooks."]],["h2",{"id":"adding-custom-hooks"},"Adding Custom Hooks"],["p",{},"You can define your own custom hooks support by extending Nuxt''s hook interfaces."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { HookResult } from \"@nuxt/schema\";\n\ndeclare module ''#app'' {\n  interface RuntimeNuxtHooks {\n    ''your-nuxt-runtime-hook'': () => HookResult\n  }\n  interface NuxtHooks {\n    ''your-nuxt-hook'': () => HookResult\n  }\n}\n\ndeclare module ''nitropack/types'' {\n  interface NitroRuntimeHooks {\n    ''your-nitro-hook'': () => void;\n  }\n}\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," HookResult"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"@nuxt/schema"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#app"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," RuntimeNuxtHooks"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"your-nuxt-runtime-hook"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," HookResult\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," NuxtHooks"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"your-nuxt-hook"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," HookResult\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"smZ93"},"declare"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nitropack/types"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"smZ93"},"  interface"],["span",{"class":"s52Pk"}," NitroRuntimeHooks"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"your-nitro-hook"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," void"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}\n"]]]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-hooks-build-time","depth":2,"text":"Nuxt Hooks (Build Time)","children":[{"id":"within-nuxtconfigts","depth":3,"text":"Within nuxt.config.ts"},{"id":"within-nuxt-modules","depth":3,"text":"Within Nuxt Modules"}]},{"id":"app-hooks-runtime","depth":2,"text":"App Hooks (Runtime)"},{"id":"server-hooks-runtime","depth":2,"text":"Server Hooks (Runtime)"},{"id":"adding-custom-hooks","depth":2,"text":"Adding Custom Hooks"}]}}', 'Nuxt provides a powerful hooking system to expand almost every aspect using hooks.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/hooks', '{"title":"Lifecycle Hooks","description":"Nuxt provides a powerful hooking system to expand almost every aspect using hooks."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/2.hooks', NULL, 'AfUYGBK7eD-qAQ70qtJCn-9JwvaOIM5GhzS8W-2YueI'); -- AfUYGBK7eD-qAQ70qtJCn-9JwvaOIM5GhzS8W-2YueI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/3.modules.md', 'Module Author Guide', '{"type":"minimark","value":[["p",{},"Nuxt''s ",["a",{"href":"/docs/api/nuxt-config"},"configuration"]," and ",["a",{"href":"/docs/guide/going-further/hooks"},"hooks"]," systems make it possible to customize every aspect of Nuxt and add any integration you might need (Vue plugins, CMS, server routes, components, logging, etc.)."],["p",{},["strong",{},"Nuxt Modules"]," are functions that sequentially run when starting Nuxt in development mode using ",["code",{},"nuxt dev"]," or building a project for production with ",["code",{},"nuxt build"],".\nWith modules, you can encapsulate, properly test, and share custom solutions as npm packages without adding unnecessary boilerplate to your project, or requiring changes to Nuxt itself."],["h2",{"id":"quick-start"},"Quick Start"],["p",{},"We recommend you get started with Nuxt Modules using our ",["a",{"href":"https://github.com/nuxt/starter/tree/module","rel":["nofollow"]},"starter template"],":"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm create nuxt -- -t module my-module\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," --"],["span",{"class":"sGFVr"}," -t"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," my-module\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn create nuxt -t module my-module\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," -t"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," my-module\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm create nuxt -t module my-module\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," -t"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," my-module\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun create nuxt -- -t module my-module\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," --"],["span",{"class":"sGFVr"}," -t"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," my-module\n"]]]]],["p",{},"This will create a ",["code",{},"my-module"]," project with all the boilerplate necessary to develop and publish your module."],["p",{},["strong",{},"Next steps:"]],["ol",{},["li",{},"Open ",["code",{},"my-module"]," in your IDE of choice"],["li",{},"Install dependencies using your favorite package manager"],["li",{},"Prepare local files for development using ",["code",{},"npm run dev:prepare"]],["li",{},"Follow this document to learn more about Nuxt Modules"]],["h3",{"id":"using-the-starter"},"Using the Starter"],["p",{},"Learn how to perform basic tasks with the module starter."],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://vueschool.io/lessons/navigating-the-official-starter-template?friend=nuxt"},["p",{},"Watch Vue School video about Nuxt module starter template."]],["h4",{"id":"how-to-develop"},"How to Develop"],["p",{},"While your module source code lives inside the ",["code",{},"src"]," directory, in most cases, to develop a module, you need a Nuxt application. That''s what the ",["code",{},"playground"]," directory is about. It''s a Nuxt application you can tinker with that is already configured to run with your module."],["p",{},"You can interact with the playground like with any Nuxt application."],["ul",{},["li",{},"Launch its development server with ",["code",{},"npm run dev"],", it should reload itself as you make changes to your module in the ",["code",{},"src"]," directory"],["li",{},"Build it with ",["code",{},"npm run dev:build"]]],["note",{},["p",{},"All other ",["code",{},"nuxt"]," commands can be used against the ",["code",{},"playground"]," directory (e.g. ",["code",{},"nuxt <COMMAND> playground"],"). Feel free to declare additional ",["code",{},"dev:*"]," scripts within your ",["code",{},"package.json"]," referencing them for convenience."]],["h4",{"id":"how-to-test"},"How to Test"],["p",{},"The module starter comes with a basic test suite:"],["ul",{},["li",{},"A linter powered by ",["a",{"href":"https://eslint.org","rel":["nofollow"]},"ESLint"],", run it with ",["code",{},"npm run lint"]],["li",{},"A test runner powered by ",["a",{"href":"https://vitest.dev","rel":["nofollow"]},"Vitest"],", run it with ",["code",{},"npm run test"]," or ",["code",{},"npm run test:watch"]]],["tip",{},["p",{},"Feel free to augment this default test strategy to better suit your needs."]],["h4",{"id":"how-to-build"},"How to Build"],["p",{},"Nuxt Modules come with their own builder provided by ",["a",{"href":"https://github.com/nuxt/module-builder#readme","rel":["nofollow"]},["code",{},"@nuxt/module-builder"]],". This builder doesn''t require any configuration on your end, supports TypeScript, and makes sure your assets are properly bundled to be distributed to other Nuxt applications."],["p",{},"You can build your module by running ",["code",{},"npm run prepack"],"."],["tip",{},["p",{},"While building your module can be useful in some cases, most of the time you won''t need to build it on your own: the ",["code",{},"playground"]," takes care of it while developing, and the release script also has you covered when publishing."]],["h4",{"id":"how-to-publish"},"How to Publish"],["important",{},["p",{},"Before publishing your module to npm, makes sure you have an ",["a",{"href":"https://www.npmjs.com","rel":["nofollow"]},"npmjs.com"]," account and that you''re authenticated to it locally with ",["code",{},"npm login"],"."]],["p",{},"While you can publish your module by bumping its version and using the ",["code",{},"npm publish"]," command, the module starter comes with a release script that helps you make sure you publish a working version of your module to npm and more."],["p",{},"To use the release script, first, commit all your changes (we recommend you follow ",["a",{"href":"https://www.conventionalcommits.org","rel":["nofollow"]},"Conventional Commits"]," to also take advantage of automatic version bump and changelog update), then run the release script with ",["code",{},"npm run release"],"."],["p",{},"When running the release script, the following will happen:"],["ul",{},["li",{},"First, it will run your test suite by:\n",["ul",{},["li",{},"Running the linter (",["code",{},"npm run lint"],")"],["li",{},"Running unit, integration, and e2e tests (",["code",{},"npm run test"],")"],["li",{},"Building the module (",["code",{},"npm run prepack"],")"]]],["li",{},"Then, if your test suite went well, it will proceed to publish your module by:\n",["ul",{},["li",{},"Bumping your module version and generating a changelog according to your Conventional Commits"],["li",{},"Publishing the module to npm (for that purpose, the module will be built again to ensure its updated version number is taken into account in the published artifact)"],["li",{},"Pushing a git tag representing the newly published version to your git remote origin"]]]],["tip",{},["p",{},"As with other scripts, feel free to fine-tune the default ",["code",{},"release"]," script in your ",["code",{},"package.json"]," to better suit your needs."]],["h2",{"id":"developing-modules"},"Developing Modules"],["p",{},"Nuxt Modules come with a variety of powerful APIs and patterns allowing them to alter a Nuxt application in pretty much any way possible. This section teaches you how to take advantage of those."],["h3",{"id":"module-anatomy"},"Module Anatomy"],["p",{},"We can consider two kinds of Nuxt Modules:"],["ul",{},["li",{},"published modules are distributed on npm - you can see a list of some community modules on ",["a",{"href":"/modules"},"the Nuxt website"],"."],["li",{},"\"local\" modules, they exist within a Nuxt project itself, either ",["a",{"href":"/docs/api/nuxt-config#modules"},"inlined in Nuxt config"]," or as part of ",["a",{"href":"/docs/guide/directory-structure/modules"},"the ",["code",{},"modules"]," directory"],"."]],["p",{},"In either case, their anatomy is similar."],["h4",{"id":"module-definition"},"Module Definition"],["note",{},["p",{},"When using the starter, your module definition is available at ",["code",{},"src/module.ts"],"."]],["p",{},"The module definition is the entry point of your module. It''s what gets loaded by Nuxt when your module is referenced within a Nuxt configuration."],["p",{},"At a low level, a Nuxt Module definition is a simple, potentially asynchronous, function accepting inline user options and a ",["code",{},"nuxt"]," object to interact with Nuxt."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default function (inlineOptions, nuxt) {\n  // You can do whatever you like here..\n  console.log(inlineOptions.token) // `123`\n  console.log(nuxt.options.dev) // `true` or `false`\n  nuxt.hook(''ready'', async nuxt => {\n    console.log(''Nuxt is ready'')\n  })\n}\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"smZ93"}," function"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"inlineOptions"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // You can do whatever you like here..\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"inlineOptions"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"token"],["span",{"class":"sRlkE"},") "],["span",{"class":"sWuyu"},"// `123`\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"dev"],["span",{"class":"sRlkE"},") "],["span",{"class":"sWuyu"},"// `true` or `false`\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"ready"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Nuxt is ready"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"You can get type-hint support for this function using the higher-level ",["code",{},"defineNuxtModule"]," helper provided by ",["a",{"href":"/docs/guide/going-further/kit"},"Nuxt Kit"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule((options, nuxt) => {\n  nuxt.hook(''pages:extend'', pages => {\n    console.log(`Discovered ${pages.length} pages`)\n  })\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"pages:extend"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," pages"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"Discovered "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"pages"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"length"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"}," pages"],["span",{"class":"sDfIl"},"`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"However, ",["strong",{},"we do not recommend"]," using this low-level function definition. Instead, to define a module, ",["strong",{},"we recommend"]," using the object-syntax with ",["code",{},"meta"]," property to identify your module, especially when publishing to npm."],["p",{},"This helper makes writing Nuxt modules more straightforward by implementing many common patterns needed by modules, guaranteeing future compatibility and improving the experience for both module authors and users."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  meta: {\n    // Usually the npm package name of your module\n    name: ''@nuxtjs/example'',\n    // The key in `nuxt.config` that holds your module options\n    configKey: ''sample'',\n    // Compatibility constraints\n    compatibility: {\n      // Semver version of supported nuxt versions\n      nuxt: ''>=3.0.0''\n    }\n  },\n  // Default configuration options for your module, can also be a function returning those\n  defaults: {},\n  // Shorthand sugar to register Nuxt hooks\n  hooks: {},\n  // Configuration for other modules - this does not ensure the module runs before\n  // your module, but it allows you to change the other module''s configuration before it runs\n  moduleDependencies: {\n    ''some-module'': {\n      // You can specify a version constraint for the module. If the user has a different\n      // version installed, Nuxt will throw an error on startup.\n      version: ''>=2'',\n      // By default moduleDependencies will be added to the list of modules to be installed\n      // by Nuxt unless `optional` is set.\n      optional: true,\n      // Any configuration that should override `nuxt.options`.\n      overrides: {},\n      // Any configuration that should be set. It will override module defaults but\n      // will not override any configuration set in `nuxt.options`.\n      defaults: {}\n    }\n  },\n  // The function holding your module logic, it can be asynchronous\n  setup(moduleOptions, nuxt) {\n    // ...\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Usually the npm package name of your module\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxtjs/example"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // The key in `nuxt.config` that holds your module options\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    configKey"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"sample"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"    // Compatibility constraints\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"    compatibility"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"      // Semver version of supported nuxt versions\n"]],["span",{"class":"line","line":12},["span",{"class":"sRlkE"},"      nuxt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},">=3.0.0"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"  // Default configuration options for your module, can also be a function returning those\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"  defaults"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":17},["span",{"class":"sWuyu"},"  // Shorthand sugar to register Nuxt hooks\n"]],["span",{"class":"line","line":18},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":19},["span",{"class":"sWuyu"},"  // Configuration for other modules - this does not ensure the module runs before\n"]],["span",{"class":"line","line":20},["span",{"class":"sWuyu"},"  // your module, but it allows you to change the other module''s configuration before it runs\n"]],["span",{"class":"line","line":21},["span",{"class":"sRlkE"},"  moduleDependencies"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"some-module"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":23},["span",{"class":"sWuyu"},"      // You can specify a version constraint for the module. If the user has a different\n"]],["span",{"class":"line","line":24},["span",{"class":"sWuyu"},"      // version installed, Nuxt will throw an error on startup.\n"]],["span",{"class":"line","line":25},["span",{"class":"sRlkE"},"      version"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},">=2"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":26},["span",{"class":"sWuyu"},"      // By default moduleDependencies will be added to the list of modules to be installed\n"]],["span",{"class":"line","line":27},["span",{"class":"sWuyu"},"      // by Nuxt unless `optional` is set.\n"]],["span",{"class":"line","line":28},["span",{"class":"sRlkE"},"      optional"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":29},["span",{"class":"sWuyu"},"      // Any configuration that should override `nuxt.options`.\n"]],["span",{"class":"line","line":30},["span",{"class":"sRlkE"},"      overrides"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":31},["span",{"class":"sWuyu"},"      // Any configuration that should be set. It will override module defaults but\n"]],["span",{"class":"line","line":32},["span",{"class":"sWuyu"},"      // will not override any configuration set in `nuxt.options`.\n"]],["span",{"class":"line","line":33},["span",{"class":"sRlkE"},"      defaults"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":34},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":35},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":36},["span",{"class":"sWuyu"},"  // The function holding your module logic, it can be asynchronous\n"]],["span",{"class":"line","line":37},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"moduleOptions"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":38},["span",{"class":"sWuyu"},"    // ...\n"]],["span",{"class":"line","line":39},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":40},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Ultimately ",["code",{},"defineNuxtModule"]," returns a wrapper function with the lower level ",["code",{},"(inlineOptions, nuxt)"]," module signature. This wrapper function applies defaults and other necessary steps before calling your ",["code",{},"setup"]," function:"],["ul",{},["li",{},"Support ",["code",{},"defaults"]," and ",["code",{},"meta.configKey"]," for automatically merging module options"],["li",{},"Type hints and automated type inference"],["li",{},"Add shims for basic Nuxt 2 compatibility"],["li",{},"Ensure module gets installed only once using a unique key computed from ",["code",{},"meta.name"]," or ",["code",{},"meta.configKey"]],["li",{},"Automatically register Nuxt hooks"],["li",{},"Automatically check for compatibility issues based on module meta"],["li",{},"Expose ",["code",{},"getOptions"]," and ",["code",{},"getMeta"]," for internal usage of Nuxt"],["li",{},"Ensuring backward and upward compatibility as long as the module is using ",["code",{},"defineNuxtModule"]," from the latest version of ",["code",{},"@nuxt/kit"]],["li",{},"Integration with module builder tooling"]],["h4",{"id":"runtime-directory"},"Runtime Directory"],["note",{},["p",{},"When using the starter, the runtime directory is available at ",["code",{},"src/runtime"],"."]],["p",{},"Modules, like everything in a Nuxt configuration, aren''t included in your application runtime. However, you might want your module to provide, or inject runtime code to the application it''s installed on. That''s what the runtime directory enables you to do."],["p",{},"Inside the runtime directory, you can provide any kind of assets related to the Nuxt App:"],["ul",{},["li",{},"Vue components"],["li",{},"Composables"],["li",{},["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt plugins"]]],["p",{},"To the ",["a",{"href":"/docs/guide/concepts/server-engine"},"server engine"],", Nitro:"],["ul",{},["li",{},"API routes"],["li",{},"Middlewares"],["li",{},"Nitro plugins"]],["p",{},"Or any other kind of asset you want to inject in users'' Nuxt applications:"],["ul",{},["li",{},"Stylesheets"],["li",{},"3D models"],["li",{},"Images"],["li",{},"etc."]],["p",{},"You''ll then be able to inject all those assets inside the application from your ",["a",{"href":"#module-definition"},"module definition"],"."],["tip",{},["p",{},"Learn more about asset injection in ",["a",{"href":"#recipes"},"the recipes section"],"."]],["warning",{},["p",{},"Published modules cannot leverage auto-imports for assets within their runtime directory. Instead, they have to import them explicitly from ",["code",{},"#imports"]," or alike.\n",["br",{}]," ",["br",{}],"\nIndeed, auto-imports are not enabled for files within ",["code",{},"node_modules"]," (the location where a published module will eventually live) for performance reasons."]],["h3",{"id":"tooling"},"Tooling"],["p",{},"Modules come with a set of first-party tools to help you with their development."],["h4",{"id":"nuxtmodule-builder"},["code",{},"@nuxt/module-builder"]],["p",{},["a",{"href":"https://github.com/nuxt/module-builder#readme","rel":["nofollow"]},"Nuxt Module Builder"]," is a zero-configuration build tool taking care of all the heavy lifting to build and ship your module. It ensures proper compatibility of your module build artifact with Nuxt applications."],["h4",{"id":"nuxtkit"},["code",{},"@nuxt/kit"]],["p",{},["a",{"href":"/docs/guide/going-further/kit"},"Nuxt Kit"]," provides composable utilities to help your module interact with Nuxt applications. It''s recommended to use Nuxt Kit utilities over manual alternatives whenever possible to ensure better compatibility and code readability of your module."],["read-more",{"to":"/docs/guide/going-further/kit"}],["h4",{"id":"nuxttest-utils"},["code",{},"@nuxt/test-utils"]],["p",{},["a",{"href":"/docs/getting-started/testing"},"Nuxt Test Utils"]," is a collection of utilities to help set up and run Nuxt applications within your module tests."],["h3",{"id":"recipes"},"Recipes"],["p",{},"Find here common patterns used to author modules."],["h4",{"id":"altering-nuxt-configuration"},"Altering Nuxt Configuration"],["p",{},"Nuxt configuration can be read and altered by modules. Here''s an example of a module enabling an experimental feature."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    // We create the `experimental` object if it doesn''t exist yet\n    nuxt.options.experimental ||= {}\n    nuxt.options.experimental.componentIslands = true\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // We create the `experimental` object if it doesn''t exist yet\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"experimental"],["span",{"class":"sDfIl"}," ||="],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"experimental"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"componentIslands"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"When you need to handle more complex configuration alterations, you should consider using ",["a",{"href":"https://github.com/unjs/defu","rel":["nofollow"]},"defu"],"."],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://vueschool.io/lessons/extending-and-altering-nuxt-configuration-and-options?friend=nuxt"},["p",{},"Watch Vue School video about altering Nuxt configuration."]],["h4",{"id":"exposing-options-to-runtime"},"Exposing Options to Runtime"],["p",{},"Because modules aren''t part of the application runtime, their options aren''t either. However, in many cases, you might need access to some of these module options within your runtime code. We recommend exposing the needed config using Nuxt''s ",["a",{"href":"/docs/api/nuxt-config#runtimeconfig"},["code",{},"runtimeConfig"]],"."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule } from ''@nuxt/kit''\nimport { defu } from ''defu''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    nuxt.options.runtimeConfig.public.myModule = defu(nuxt.options.runtimeConfig.public.myModule, {\n      foo: options.foo\n    })\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defu"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"defu"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"runtimeConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"public"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"myModule"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," defu"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"runtimeConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"public"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"myModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      foo"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"foo\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Note that we use ",["a",{"href":"https://github.com/unjs/defu","rel":["nofollow"]},["code",{},"defu"]]," to extend the public runtime configuration the user provides instead of overwriting it."],["p",{},"You can then access your module options in a plugin, component, the application like any other runtime configuration:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const options = useRuntimeConfig().public.myModule\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," options "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"public"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"myModule\n"]]]],["warning",{},["p",{},"Be careful not to expose any sensitive module configuration on the public runtime config, such as private API keys, as they will end up in the public bundle."]],["read-more",{"to":"/docs/guide/going-further/runtime-config"}],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://vueschool.io/lessons/passing-and-exposing-module-options?friend=nuxt"},["p",{},"Watch Vue School video about passing and exposing Nuxt module options."]],["h4",{"id":"injecting-plugins-with-addplugin"},"Injecting Plugins With ",["code",{},"addPlugin"]],["p",{},"Plugins are a common way for a module to add runtime logic. You can use the ",["code",{},"addPlugin"]," utility to register them from your module."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addPlugin, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    // Create resolver to resolve relative paths\n    const resolver = createResolver(import.meta.url)\n\n    addPlugin(resolver.resolve(''./runtime/plugin''))\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addPlugin"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Create resolver to resolve relative paths\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"    addPlugin"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/plugin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/going-further/kit"}],["h4",{"id":"injecting-vue-components-with-addcomponent"},"Injecting Vue Components With ",["code",{},"addComponent"]],["p",{},"If your module should provide Vue components, you can use the ",["code",{},"addComponent"]," utility to add them as auto-imports for Nuxt to resolve."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addComponent } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup(options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    // From the runtime directory\n    addComponent({\n      name: ''MySuperComponent'', // name of the component to be used in vue templates\n      export: ''MySuperComponent'', // (optional) if the component is a named (rather than default) export\n      filePath: resolver.resolve(''runtime/components/MySuperComponent.vue'')\n    })\n\n    // From a library\n    addComponent({\n      name: ''MyAwesomeComponent'', // name of the component to be used in vue templates\n      export: ''MyAwesomeComponent'', // (optional) if the component is a named (rather than default) export\n      filePath: ''@vue/awesome-components''\n    })\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addComponent"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // From the runtime directory\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"    addComponent"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"MySuperComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // name of the component to be used in vue templates\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      export"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"MySuperComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // (optional) if the component is a named (rather than default) export\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"      filePath"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"runtime/components/MySuperComponent.vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"    // From a library\n"]],["span",{"class":"line","line":15},["span",{"class":"s3cPz"},"    addComponent"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"MyAwesomeComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // name of the component to be used in vue templates\n"]],["span",{"class":"line","line":17},["span",{"class":"sRlkE"},"      export"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"MyAwesomeComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // (optional) if the component is a named (rather than default) export\n"]],["span",{"class":"line","line":18},["span",{"class":"sRlkE"},"      filePath"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@vue/awesome-components"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Alternatively, you can add an entire directory by using ",["code",{},"addComponentsDir"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addComponentsDir } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup(options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    addComponentsDir({\n      path: resolver.resolve(''runtime/components'')\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addComponentsDir"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"    addComponentsDir"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"runtime/components"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"injecting-composables-with-addimports-and-addimportsdir"},"Injecting Composables With ",["code",{},"addImports"]," and ",["code",{},"addImportsDir"]],["p",{},"If your module should provide composables, you can use the ",["code",{},"addImports"]," utility to add them as auto-imports for Nuxt to resolve."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addImports, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup(options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    addImports({\n      name: ''useComposable'', // name of the composable to be used\n      as: ''useComposable'',\n      from: resolver.resolve(''runtime/composables/useComposable'') // path of composable\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addImports"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"    addImports"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"useComposable"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // name of the composable to be used\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      as"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"useComposable"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      from"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"runtime/composables/useComposable"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},") "],["span",{"class":"sWuyu"},"// path of composable\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Alternatively, you can add an entire directory by using ",["code",{},"addImportsDir"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addImportsDir, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup(options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    addImportsDir(resolver.resolve(''runtime/composables''))\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addImportsDir"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"    addImportsDir"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"runtime/composables"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"injecting-server-routes-with-addserverhandler"},"Injecting Server Routes With ",["code",{},"addServerHandler"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addServerHandler, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup(options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    addServerHandler({\n      route: ''/api/hello'',\n      handler: resolver.resolve(''./runtime/server/api/hello/index.get'')\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addServerHandler"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"    addServerHandler"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      route"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/api/hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      handler"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/server/api/hello/index.get"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can also add a dynamic server route:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addServerHandler, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup(options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    addServerHandler({\n      route: ''/api/hello/:name'',\n      handler: resolver.resolve(''./runtime/server/api/hello/[name].get'')\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addServerHandler"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"    addServerHandler"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      route"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/api/hello/:name"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      handler"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/server/api/hello/[name].get"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"injecting-other-assets"},"Injecting Other Assets"],["p",{},"If your module should provide other kinds of assets, they can also be injected. Here''s a simple example module injecting a stylesheet through Nuxt''s ",["code",{},"css"]," array."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addPlugin, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    nuxt.options.css.push(resolver.resolve(''./runtime/style.css''))\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addPlugin"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"css"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/style.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"And a more advanced one, exposing a folder of assets through ",["a",{"href":"/docs/guide/concepts/server-engine"},"Nitro"],"''s ",["code",{},"publicAssets"]," option:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    nuxt.hook(''nitro:config'', async (nitroConfig) => {\n      nitroConfig.publicAssets ||= []\n      nitroConfig.publicAssets.push({\n        dir: resolver.resolve(''./runtime/public''),\n        maxAge: 60 * 60 * 24 * 365 // 1 year\n      })\n    })\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"nitro:config"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"nitroConfig"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"      nitroConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"publicAssets"],["span",{"class":"sDfIl"}," ||="],["span",{"class":"sRlkE"}," []\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"      nitroConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"publicAssets"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"        dir"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/public"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"        maxAge"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 60"],["span",{"class":"sDfIl"}," *"],["span",{"class":"sYRBq"}," 60"],["span",{"class":"sDfIl"}," *"],["span",{"class":"sYRBq"}," 24"],["span",{"class":"sDfIl"}," *"],["span",{"class":"sYRBq"}," 365"],["span",{"class":"sWuyu"}," // 1 year\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"      }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"using-other-modules-in-your-module"},"Using Other Modules in Your Module"],["p",{},"If your module depends on other modules, you can add them by using Nuxt Kit''s ",["code",{},"installModule"]," utility. For example, if you wanted to use Nuxt Tailwind in your module, you could add it as below:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, createResolver, installModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule<ModuleOptions>({\n  async setup (options, nuxt) {\n    const resolver = createResolver(import.meta.url)\n\n    // We can inject our CSS file which includes Tailwind''s directives\n    nuxt.options.css.push(resolver.resolve(''./runtime/assets/styles.css''))\n\n    await installModule(''@nuxtjs/tailwindcss'', {\n      // module configuration\n      exposeConfig: true,\n      config: {\n        darkMode: ''class'',\n        content: {\n          files: [\n            resolver.resolve(''./runtime/components/**/*.{vue,mjs,ts}''),\n            resolver.resolve(''./runtime/*.{mjs,js,ts}'')\n          ]\n        }\n      }\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," installModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"ModuleOptions"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // We can injec', 'Learn how to create a Nuxt Module to integrate, enhance or extend any Nuxt applications.', 'md', NULL, '{"image":"/socials/module-author-guide.jpg"}', 'true', '/nuxt/nuxtcore/live/guide/going-further/modules', '{"title":"Module Author Guide","description":"Learn how to create a Nuxt Module to integrate, enhance or extend any Nuxt applications."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/3.modules', NULL, 'YUa5fGbSvTjS5z6PnpEX95wGI-8qq-xX_OoCnApMiOQ-70000'); -- YUa5fGbSvTjS5z6PnpEX95wGI-8qq-xX_OoCnApMiOQ
UPDATE _content_nuxtcore SET body = CONCAT(body, 't our CSS file which includes Tailwind''s directives\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"css"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/assets/styles.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"    await"],["span",{"class":"s3cPz"}," installModule"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"@nuxtjs/tailwindcss"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"      // module configuration\n"]],["span",{"class":"line","line":12},["span",{"class":"sRlkE"},"      exposeConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":13},["span",{"class":"sRlkE"},"      config"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"sRlkE"},"        darkMode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"class"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":15},["span",{"class":"sRlkE"},"        content"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"          files"],["span",{"class":"sDfIl"},":"],["span",{"class":"sRlkE"}," [\n"]],["span",{"class":"line","line":17},["span",{"class":"sZSNi"},"            resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/components/**/*.{vue,mjs,ts}"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":18},["span",{"class":"sZSNi"},"            resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/*.{mjs,js,ts}"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":19},["span",{"class":"sRlkE"},"          ]\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":23},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":24},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"using-hooks"},"Using Hooks"],["p",{},["a",{"href":"/docs/guide/going-further/hooks"},"Lifecycle hooks"]," allow you to expand almost every aspect of Nuxt. Modules can hook to them programmatically or through the ",["code",{},"hooks"]," map in their definition."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addPlugin, createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  // Hook to the `app:error` hook through the `hooks` map\n  hooks: {\n    ''app:error'': (err) => {\n      console.info(`This error happened: ${err}`);\n    }\n  },\n  setup (options, nuxt) {\n    // Programmatically hook to the `pages:extend` hook\n    nuxt.hook(''pages:extend'', (pages) => {\n      console.info(`Discovered ${pages.length} pages`);\n    })\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addPlugin"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // Hook to the `app:error` hook through the `hooks` map\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"app:error"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"err"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"      console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"info"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"This error happened: "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"err"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"    // Programmatically hook to the `pages:extend` hook\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"pages:extend"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"pages"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"sZSNi"},"      console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"info"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"Discovered "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"pages"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"length"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"}," pages"],["span",{"class":"sDfIl"},"`"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/advanced/hooks"}],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://vueschool.io/lessons/nuxt-lifecycle-hooks?friend=nuxt"},["p",{},"Watch Vue School video about using Nuxt lifecycle hooks in modules."]],["note",{},["p",{},["strong",{},"Module cleanup"]],["br",{}],["br",{}],["p",{},"If your module opens, handles, or starts a watcher, you should close it when the Nuxt lifecycle is done. The ",["code",{},"close"]," hook is available for this."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    nuxt.hook(''close'', async nuxt => {\n      // Your custom code here\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"close"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      // Your custom code here\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["h5",{"id":"custom-hooks"},"Custom Hooks"],["p",{},"Modules can also define and call their own hooks, which is a powerful pattern for making your module extensible."],["p",{},"If you expect other modules to be able to subscribe to your module''s hooks, you should call them in the ",["code",{},"modules:done"]," hook. This ensures that all other modules have had a chance to be set up and register their listeners to your hook during their own ",["code",{},"setup"]," function."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// my-module/module.ts\nimport { defineNuxtModule } from ''@nuxt/kit''\n\nexport interface ModuleHooks {\n  ''my-module:custom-hook'': (payload: { foo: string }) => void\n}\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    // Call your hook in `modules:done`\n    nuxt.hook(''modules:done'', async () => {\n      const payload = { foo: ''bar'' }\n      await nuxt.callHook(''my-module:custom-hook'', payload)\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// my-module/module.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," interface"],["span",{"class":"s52Pk"}," ModuleHooks"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  ''"],["span",{"class":"sGFVr"},"my-module:custom-hook"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"payload"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," foo"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," void\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"    // Call your hook in `modules:done`\n"]],["span",{"class":"line","line":11},["span",{"class":"sZSNi"},"    nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"modules:done"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":12},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," payload"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," foo"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bar"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"      await"],["span",{"class":"sZSNi"}," nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"callHook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my-module:custom-hook"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," payload"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"adding-templatesvirtual-files"},"Adding Templates/Virtual Files"],["p",{},"If you need to add a virtual file that can be imported into the user''s app, you can use the ",["code",{},"addTemplate"]," utility."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addTemplate } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    // The file is added to Nuxt''s internal virtual file system and can be imported from ''#build/my-module-feature.mjs''\n    addTemplate({\n      filename: ''my-module-feature.mjs'',\n      getContents: () => ''export const myModuleFeature = () => \"hello world !\"''\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addTemplate"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // The file is added to Nuxt''s internal virtual file system and can be imported from ''#build/my-module-feature.mjs''\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"    addTemplate"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      filename"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-module-feature.mjs"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"      getContents"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"export const myModuleFeature = () => \"hello world !\""],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"For the server, you should use the ",["code",{},"addServerTemplate"]," utility instead."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addServerTemplate } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    // The file is added to Nitro''s virtual file system and can be imported in the server code from ''my-server-module.mjs''\n    addServerTemplate({\n      filename: ''my-server-module.mjs'',\n      getContents: () => ''export const myServerModule = () => \"hello world !\"''\n    })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addServerTemplate"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // The file is added to Nitro''s virtual file system and can be imported in the server code from ''my-server-module.mjs''\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"    addServerTemplate"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      filename"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-server-module.mjs"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"      getContents"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"export const myServerModule = () => \"hello world !\""],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"adding-type-declarations"},"Adding Type Declarations"],["p",{},"You might also want to add a type declaration to the user''s project (for example, to augment a Nuxt interface\nor provide a global type of your own). For this, Nuxt provides the ",["code",{},"addTypeTemplate"]," utility that both\nwrites a template to the disk and adds a reference to it in the generated ",["code",{},"nuxt.d.ts"]," file."],["p",{},"If your module should augment types handled by Nuxt, you can use ",["code",{},"addTypeTemplate"]," to perform this operation:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineNuxtModule, addTemplate, addTypeTemplate } from ''@nuxt/kit''\n\nexport default defineNuxtModule({\n  setup (options, nuxt) {\n    addTypeTemplate({\n      filename: ''types/my-module.d.ts'',\n      getContents: () => `// Generated by my-module\n        interface MyModuleNitroRules {\n          myModule?: { foo: ''bar'' }\n        }\n        declare module ''nitropack/types'' {\n          interface NitroRouteRules extends MyModuleNitroRules {}\n          interface NitroRouteConfig extends MyModuleNitroRules {}\n        }\n        export {}`\n    })\n  }\n})\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addTemplate"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," addTypeTemplate"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"    addTypeTemplate"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      filename"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"types/my-module.d.ts"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"      getContents"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"// Generated by my-module\n"]],["span",{"class":"line","line":8},["span",{"class":"sGFVr"},"        interface MyModuleNitroRules {\n"]],["span",{"class":"line","line":9},["span",{"class":"sGFVr"},"          myModule?: { foo: ''bar'' }\n"]],["span",{"class":"line","line":10},["span",{"class":"sGFVr"},"        }\n"]],["span",{"class":"line","line":11},["span",{"class":"sGFVr"},"        declare module ''nitropack/types'' {\n"]],["span",{"class":"line","line":12},["span",{"class":"sGFVr"},"          interface NitroRouteRules extends MyModuleNitroRules {}\n"]],["span",{"class":"line","line":13},["span",{"class":"sGFVr"},"          interface NitroRouteConfig extends MyModuleNitroRules {}\n"]],["span",{"class":"line","line":14},["span",{"class":"sGFVr"},"        }\n"]],["span",{"class":"line","line":15},["span",{"class":"sGFVr"},"        export {}"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"If you need more granular control, you can use the ",["code",{},"prepare:types"]," hook to register a callback that will inject your types."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const template = addTemplate({ /* template options */ })\nnuxt.hook(''prepare:types'', ({ references }) => {\n  references.push({ path: template.dst })\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," template "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," addTemplate"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sWuyu"}," /* template options */"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"prepare:types"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ({"],["span",{"class":"s1nJG"}," references"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"  references"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," template"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"dst"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h5",{"id":"updating-templates"},"Updating Templates"],["p",{},"If you need to update your templates/virtual files, you can leverage the ",["code",{},"updateTemplates"]," utility like this :"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"nuxt.hook(''builder:watch'', async (event, path) => {\n  if (path.includes(''my-module-feature.config'')) {\n    // This will reload the template that you registered\n    updateTemplates({ filter: t => t.filename === ''my-module-feature.mjs'' })\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"builder:watch"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," path"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"path"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"includes"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my-module-feature.config"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // This will reload the template that you registered\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"    updateTemplates"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"s3cPz"}," filter"],["span",{"class":"sDfIl"},":"],["span",{"class":"s1nJG"}," t"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," t"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"filename"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-module-feature.mjs"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"testing"},"Testing"],["p",{},"Testing helps ensuring your module works as expected given various setup. Find in this section how to perform various kinds of tests against your module."],["h4",{"id":"unit-and-integration"},"Unit and Integration"],["tip",{},["p",{},"We''re still discussing and exploring how to ease unit and integration testing on Nuxt Modules.\n",["br",{}]," ",["br",{}],["a",{"href":"https://github.com/nuxt/nuxt/discussions/18399","rel":["nofollow"]},"Check out this RFC to join the conversation"],"."]],["h4",{"id":"end-to-end"},"End to End"],["p",{},["a",{"href":"/docs/getting-started/testing"},"Nuxt Test Utils"]," is the go-to library to help you test your module in an end-to-end way. Here''s the workflow to adopt with it:"],["ol",{},["li",{},"Create a Nuxt application to be used as a \"fixture\" inside ",["code",{},"test/fixtures/*"]],["li",{},"Setup Nuxt with this fixture inside your test file"],["li",{},"Interact with the fixture using utilities from ",["code",{},"@nuxt/test-utils"]," (e.g. fetching a page)"],["li",{},"Perform checks related to this fixture (e.g. \"HTML contains ...\")"],["li",{},"Repeat"]],["p",{},"In practice, the fixture:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// 1. Create a Nuxt application to be used as a \"fixture\"\nimport MyModule from ''../../../src/module''\n\nexport default defineNuxtConfig({\n  ssr: true,\n  modules: [\n    MyModule\n  ]\n})\n","filename":"test/fixtures/ssr/nuxt.config.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// 1. Create a Nuxt application to be used as a \"fixture\"\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," MyModule "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"../../../src/module"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  modules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    MyModule\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"And its test:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { describe, it, expect } from ''vitest''\nimport { fileURLToPath } from ''node:url''\nimport { setup, $fetch } from ''@nuxt/test-utils/e2e''\n\ndescribe(''ssr'', async () => {\n  // 2. Setup Nuxt with this fixture inside your test file\n  await setup({\n    rootDir: fileURLToPath(new URL(''./fixtures/ssr'', import.meta.url)),\n  })\n\n  it(''renders the index page'', async () => {\n    // 3. Interact with the fixture using utilities from `@nuxt/test-utils`\n    const html = await $fetch(''/'')\n\n    // 4. Perform checks related to this fixture\n    expect(html).toContain(''<div>ssr</div>'')\n  })\n})\n\n// 5. Repeat\ndescribe(''csr'', async () => { /* ... */ })\n","filename":"test/rendering.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," describe"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," it"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," expect"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," fileURLToPath"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node:url"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," setup"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," $fetch"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"describe"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"ssr"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // 2. Setup Nuxt with this fixture inside your test file\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," setup"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    rootDir"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," fileURLToPath"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"new"],["span",{"class":"s3cPz"}," URL"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./fixtures/ssr"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s8R28"}," import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},"))"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"s3cPz"},"  it"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"renders the index page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"    // 3. Interact with the fixture using utilities from `@nuxt/test-utils`\n"]],["span",{"class":"line","line":13},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," html"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":14},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"    // 4. Perform checks related to this fixture\n"]],["span",{"class":"line","line":16},["span",{"class":"s3cPz"},"    expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"html"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toContain"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"<div>ssr</div>"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":19},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":20},["span",{"class":"sWuyu"},"// 5. Repeat\n"]],["span",{"class":"line","line":21},["span",{"class":"s3cPz"},"describe"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"csr"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sWuyu"}," /* ... */"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{},["p",{},"An example of such a workflow is available on ",["a",{"href":"https://github.com/nuxt/starter/blob/module/test/basic.test.ts","rel":["nofollow"]},"the module starter"],"."]],["h4",{"id":"manual-qa-with-playground-and-externally"},"Manual QA With Playground and Externally"],["p",{},"Having a playground Nuxt application to test your module when developing it is really useful. ",["a",{"href":"#how-to-develop"},"The module starter integrates one for that purpose"],"."],["p",{},"You can test your module with other Nuxt applications (applications that are not part of your module repository) locally. To do so, you can use ",["a",{"href":"https://docs.npmjs.com/cli/commands/npm-pack","rel":["nofollow"]},["code",{},"npm pack"]]," command, or your package manager equivalent, to create a tarball from your module. Then in your test project, you can add your module to ",["code",{},"package.json"]," packages as: ",["code",{},"\"my-module\": \"file:/path/to/tarball.tgz\""],"."],["p",{},"After that, you should be able to reference ",["code",{},"my-module"]," like in any regular project."],["h3",{"id":"best-practices"},"Best Practices"],["p",{},"With great power comes great responsibility. While modules are powerful, here are some best practices to keep in mind while authoring modules to keep applications performant and developer experience great."],["h4",{"id":"async-modules"},"Async Modules"],["p",{},"As we''ve seen, Nuxt Modules can be asynchronous. For example, you may want to develop a module that needs fetching some API or calling an async function."],["p",{},"However, be careful with asynchronous behaviors as Nuxt will wait for your module to setup before going to the next module and starting the development server, build process, etc. Prefer deferring time-consuming logic to Nuxt hooks."],["warning",{},["p",{},"If your module takes more than ",["strong",{},"1 second"]," to setup, Nuxt will emit a warning about it."]],["h4",{"id":"always-prefix-exposed-interfaces"},"Always Prefix Exposed Interfaces"],["p",{},"Nuxt Modules should provide an explicit prefix for any exposed configuration, plugin, API, composable, or component to avoid conflict with other modules and internals."],["p",{},"Ideally, you should prefix them with your module''s name (e.g. if your module is called ",["code",{},"nuxt-foo"],", expose ",["code",{},"<FooButton>"]," and ",["code",{},"useFooBar()"]," and ",["strong",{},"not"]," ",["code",{},"<Button>"]," and ",["code",{},"useBar()"],")."],["h4",{"id":"use-lifecycle-hooks-for-one-time-setup"},"Use Lifecycle Hooks for One-Time Setup"],["p",{},"When your module needs to perform one-time setup tasks (like generating configuration files, setting up databases, or installing dependencies), use lifecycle hooks instead of running the logic in your main ",["code",{},"setup"]," function."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { addServerHandler, defineNuxtModule } from ''nuxt/kit''\nimport semver from ''semver''\n\nexport default defineNuxtModule({\n  meta: {\n    name: ''my-database-module'',\n    version: ''1.0.0'',\n  },\n  async onInstall (nuxt) {\n    // One-time setup: create database schema, generate config files, etc.\n    await generateDatabaseConfig(nuxt.options.rootDir)\n  },\n  async onUpgrade (options, nuxt, previousVersion) {\n    // Handle version-specific migrations\n    if (semver.lt(previousVersion, ''1.0.0'')) {\n      await migrateLegacyData()\n    }\n  },\n  setup (options, nuxt) {\n    // Regular setup logic that runs on every build\n    addServerHandler({ /* ... */ })\n  },\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," addServerHandler"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," defineNuxtModule"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," semver "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"semver"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-database-module"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    version"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"1.0.0"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":9},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," onInstall"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"    // One-time setup: create database schema, generate config files, etc.\n"]],["span",{"class":"line","line":11},["span",{"class":"s8R28"},"    await"],["span",{"class":"s3cPz"}," generateDatabaseConfig"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"rootDir"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":13},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," onUpgrade"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," previousVersion"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"    // Handle version-specific migrations\n"]],["span",{"class":"line","line":15},["span",{"class":"s8R28"},"    if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"semver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"lt"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"previousVersion"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"1.0.0"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":16},["span",{"class":"s8R28"},"      await"],["span",{"class":"s3cPz"}," migrateLegacyData"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":19},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":20},["span",{"class":"sWuyu"},"    // Regular setup logic that runs on every build\n"]],["span",{"class":"line","line":21},["span",{"class":"s3cPz"},"    addServerHandler"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sWuyu"}," /* ... */"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":23},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This pattern prevents unnecessary work on every build and provides a better developer experience. See the ",["a",{"href":"/docs/api/kit/modules#using-lifecycle-hooks-for-module-installation-and-upgrade"},"lifecycle hooks documentation"]," for more details."],["h4",{"id":"be-typescript-friendly"},"Be TypeScript Friendly"],["p",{},"Nuxt has first-class TypeScript integration for the best developer experience."],["p",{},"Exposing types and using TypeScript to develop modules benefits users even when not using TypeScript directly."],["h4",{"id":"avoid-commonjs-syntax"},"Avoid CommonJS Syntax"],["p",{},"Nuxt relies on native ESM. Please read ",["a",{"href":"/docs/guide/concepts/esm"},"Native ES Modules"]," for more information."],["h4",{"id":"document-module-usage"},"Document Module Usage"],["p",{},"Consider documenting module usage in the readme file:"],["ul",{},["li",{},"Why use this module?"],["li",{},"How to use this module?"],["li",{},"What does this module do?"]],["p",{},"Linking to the integration website and documentation is always a good idea."],["h4",{"id":"provide-a-stackblitz-demo-or-boilerplate"},"Provide a StackBlitz Demo or Boilerplate"],["p",{},"It''s a good practice to make a minimal reproduction with your module and ",["a",{"href":"https://nuxt.new/s/v4","rel":["nofollow"]},"StackBlitz"]," that you add to your module readme."],["p",{},"This not only provides potential users of your module a quick and easy way to experiment with the module but also an easy way for them to build minimal reproductions they can send you when they encounter issues."],["h4",{"id":"do-not-advertise-with-a-specific-nuxt-version"},"Do Not Advertise With a Specific Nuxt Version"],["p",{},"Nuxt, Nuxt Kit, and other new toolings are made to have both forward and backward compatibility in mind."],["p",{},"Please use \"X for Nuxt\" instead of \"X for Nuxt 3\" to avoid fragmentation in the ecosystem and prefer using ",["code",{},"meta.compatibility"]," to set Nuxt version constraints."],["h4",{"id":"stick-with-starter-defaults"},"Stick With Starter Defaults"],["p",{},"The module starter comes with a default set of tools and configurations (e.g. ESLint configuration). If you plan on open-sourcing your module, sticking with those defaults ensures your module shares a consistent coding style with other ",["a",{"href":"/modules"},"community modules"]," out there, making it easier for others to contribute."],["h2",{"id":"ecosystem"},"Ecosystem"],["p",{},["a",{"href":"/modules"},"Nuxt Module ecosystem"]," represents more than 15 million monthly NPM downloads and provides extended functionalities and integrations with all sort of tools. You can be part of this ecosystem!"],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://vueschool.io/lessons/exploring-nuxt-modules-ecosystem-and-module-types?friend=nuxt"},["p",{},"Watch Vue School video about Nuxt module types."]],["h3",{"id":"module-types"},"Module Types"],["p",{},["strong",{},"Official modules"]," are modules prefixed (scoped) with ",["code",{},"@nuxt/"]," (e.g. ",["a",{"href":"https://content.nuxtjs.org","rel":["nofollow"]},["code",{},"@nuxt/content"]],"). They are made and maintained actively by the Nuxt team. Like with the framework, contributions from the community are more than welcome to help make them better!"],["p",{},["strong",{},"Community modules"]," are modules prefixed (scoped) with ",["code",{},"@nuxtjs/"]," (e.g. ",["a",{"href":"https://tailwindcss.nuxtjs.org","rel":["nofollow"]},["code",{},"@nuxtjs/tailwindcss"]],"). They are proven modules made and maintained by community members. Again, contributions are welcome from anyone."],["p",{},["strong",{},"Third-party and other community modules"]," are modules (often) prefixed with ",["code",{},"nuxt-"],". Anyone can make them, using this prefix allows these modules to be discoverable on npm. This is the best starting point to draft and try an idea!"],["p",{},["strong",{},"Private or personal modules"]," are modules made for your own use case or company. They don''t need to follow any naming rules to work with Nuxt and are often seen scoped under an npm organization (e.g. ",["code",{},"@my-company/nuxt-auth"],")"],["h3",{"id":"listing-your-community-module"},"Listing Your Community Module"],["p",{},"Any community modules are welcome to be listed on ",["a",{"href":"/modules"},"the module list"],". To be listed, ",["a",{"href":"https://github.com/nuxt/modules/issues/new?template=module_request.yml","rel":["nofollow"]},"open an issue in the nuxt/modules"]," repository. The Nuxt team can help you to apply best practices before listing."],["h3",{"id":"joining-nuxt-modules-and-nuxtjs"},"Joining ",["code",{},"nuxt-modules"]," and ",["code",{},"@nuxtjs/"]],["p",{},"By moving your modules to ",["a",{"href":"https://github.com/nuxt-modules","rel":["nofollow"]},"nuxt-modules"],", there is always someone else to help, and this way, we can join forces to make one perfect solution."],["p",{},"If you have an already published and working module, and want to transfer it to ",["code",{},"nuxt-modules"],", ",["a",{"href":"https://github.com/nuxt/modules/issues/new","rel":["nofollow"]},"open an issue in nuxt/modules"],"."],["p",{},"By joining ",["code",{},"nuxt-modules"]," we can rename your community module under the ",["code",{},"@nuxtjs/"]," scope and provide a subdomain (e.g. ",["code",{},"my-module.nuxtjs.org"],") for its documentation."],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"quick-start","depth":2,"text":"Quick Start","children":[{"id":"using-the-starter","depth":3,"text":"Using the Starter"}]},{"id":"developing-modules","depth":2,"text":"Developing Modules","children":[{"id":"module-anatomy","depth":3,"text":"Module Anatomy"},{"id":"tooling","depth":3,"text":"Tooling"},{"id":"recipes","depth":3,"text":"Recipes"},{"id":"testing","depth":3,"text":"Testing"},{"id":"best-practices","depth":3,"text":"Best Practices"}]},{"id":"ecosystem","depth":2,"text":"Ecosystem","children":[{"id":"module-types","depth":3,"text":"Module Types"},{"id":"listing-your-community-module","depth":3,"text":"Listing Your Community Module"},{"id":"joining-nuxt-modules-and-nuxtjs","depth":3,"text":"Joining nuxt-modules and @nuxtjs/"}]}]}}'), "__hash__" = 'YUa5fGbSvTjS5z6PnpEX95wGI-8qq-xX_OoCnApMiOQ' WHERE id = 'nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/3.modules.md' AND "__hash__" = 'YUa5fGbSvTjS5z6PnpEX95wGI-8qq-xX_OoCnApMiOQ-70000'; -- YUa5fGbSvTjS5z6PnpEX95wGI-8qq-xX_OoCnApMiOQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/4.kit.md', 'Nuxt Kit', '{"type":"minimark","value":[["p",{},"Nuxt Kit provides composable utilities to make interacting with ",["a",{"href":"/docs/api/advanced/hooks"},"Nuxt Hooks"],", the ",["a",{"href":"/docs/guide/going-further/internals#the-nuxt-interface"},"Nuxt Interface"]," and developing ",["a",{"href":"/docs/guide/going-further/modules"},"Nuxt Modules"]," super easy."],["read-more",{"to":"/docs/api/kit"},["p",{},"Discover all Nuxt Kit utilities."]],["h2",{"id":"usage"},"Usage"],["h3",{"id":"install-dependency"},"Install Dependency"],["p",{},"You can install the latest Nuxt Kit by adding it to the ",["code",{},"dependencies"]," section of your ",["code",{},"package.json"],". However, please consider always explicitly installing the ",["code",{},"@nuxt/kit"]," package even if it is already installed by Nuxt."],["note",{},["p",{},["code",{},"@nuxt/kit"]," and ",["code",{},"@nuxt/schema"]," are key dependencies for Nuxt. If you are installing it separately, make sure that the versions of ",["code",{},"@nuxt/kit"]," and ",["code",{},"@nuxt/schema"]," are equal to or greater than your ",["code",{},"nuxt"]," version to avoid any unexpected behavior."]],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"dependencies\": {\n    \"@nuxt/kit\": \"npm:@nuxt/kit-nightly@latest\"\n  }\n}\n","filename":"package.json","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"dependencies"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"@nuxt/kit"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"npm:@nuxt/kit-nightly@latest"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]]]],["h3",{"id":"import-kit-utilities"},"Import Kit Utilities"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { useNuxt } from ''@nuxt/kit''\n","filename":"test.mjs","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," useNuxt"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]]]],["read-more",{"to":"/docs/api/kit"}],["note",{},["p",{},"Nuxt Kit utilities are only available for modules and not meant to be imported in runtime (components, Vue composables, pages, plugins, or server routes)."]],["p",{},"Nuxt Kit is an ",["a",{"href":"/docs/guide/concepts/esm"},"esm-only package"]," meaning that you ",["strong",{},"cannot"]," ",["code",{},"require(''@nuxt/kit'')"],". As a workaround, use dynamic import in the CommonJS context:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// This does NOT work!\n// const kit = require(''@nuxt/kit'')\nasync function main() {\n  const kit = await import(''@nuxt/kit'')\n}\nmain()\n","filename":"test.cjs","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// This does NOT work!\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// const kit = require(''@nuxt/kit'')\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," main"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," kit"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"main"],["span",{"class":"sZSNi"},"()\n"]]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usage","depth":2,"text":"Usage","children":[{"id":"install-dependency","depth":3,"text":"Install Dependency"},{"id":"import-kit-utilities","depth":3,"text":"Import Kit Utilities"}]}]}}', '@nuxt/kit provides features for module authors.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/kit', '{"title":"Nuxt Kit","description":"@nuxt/kit provides features for module authors."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/4.kit', NULL, 'qAg-_HASfa60Um5R6MJ7HndwkG6Azu0tiI0Gt0miWiY'); -- qAg-_HASfa60Um5R6MJ7HndwkG6Azu0tiI0Gt0miWiY
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/6.nuxt-app.md', 'NuxtApp', '{"type":"minimark","value":[["p",{},"In Nuxt, you can access runtime app context within composables, components and plugins."],["read-more",{"to":"https://v2.nuxt.com/docs/internals-glossary/context#the-context","target":"_blank"},["p",{},"In Nuxt 2, this was referred to as ",["strong",{},"Nuxt context"],"."]],["h2",{"id":"nuxt-app-interface"},"Nuxt App Interface"],["read-more",{"to":"/docs/guide/going-further/internals#the-nuxtapp-interface"},["p",{},"Jump over the ",["code",{},"NuxtApp"]," interface documentation."]],["h2",{"id":"the-nuxt-context"},"The Nuxt Context"],["p",{},"Many composables and utilities, both built-in and user-made, may require access to the Nuxt instance. This doesn''t exist everywhere on your application, because a fresh instance is created on every request."],["p",{},"Currently, the Nuxt context is only accessible in ",["a",{"href":"/docs/guide/directory-structure/plugins"},"plugins"],", ",["a",{"href":"/docs/guide/going-further/hooks"},"Nuxt hooks"],", ",["a",{"href":"/docs/guide/directory-structure/app/middleware"},"Nuxt middleware"]," (if wrapped in ",["code",{},"defineNuxtRouteMiddleware"],"), and ",["a",{"href":"https://vuejs.org/api/composition-api-setup.html","rel":["nofollow"]},"setup functions"]," (in pages and components)."],["p",{},"If a composable is called without access to the context, you may get an error stating that ''A composable that requires access to the Nuxt instance was called outside of a plugin, Nuxt hook, Nuxt middleware, or Vue setup function.'' In that case, you can also explicitly call functions within this context by using ",["a",{"href":"/docs/api/composables/use-nuxt-app#runwithcontext"},["code",{},"nuxtApp.runWithContext"]],"."],["h2",{"id":"accessing-nuxtapp"},"Accessing NuxtApp"],["p",{},"Within composables, plugins and components you can access ",["code",{},"nuxtApp"]," with ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"useNuxtApp()"]],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export function useMyComposable () {\n  const nuxtApp = useNuxtApp()\n  // access runtime nuxt app instance\n}\n","filename":"app/composables/useMyComposable.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," useMyComposable"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // access runtime nuxt app instance\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"If your composable does not always need ",["code",{},"nuxtApp"]," or you simply want to check if it is present or not, since ",["a",{"href":"/docs/api/composables/use-nuxt-app"},["code",{},"useNuxtApp"]]," throws an exception, you can use ",["a",{"href":"/docs/api/composables/use-nuxt-app#tryusenuxtapp"},["code",{},"tryUseNuxtApp"]]," instead."],["p",{},"Plugins also receive ",["code",{},"nuxtApp"]," as the first argument for convenience."],["read-more",{"to":"/docs/guide/directory-structure/plugins"}],["h2",{"id":"providing-helpers"},"Providing Helpers"],["p",{},"You can provide helpers to be usable across all composables and application. This usually happens within a Nuxt plugin."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const nuxtApp = useNuxtApp()\nnuxtApp.provide(''hello'', (name) => `Hello ${name}!`)\n\nconsole.log(nuxtApp.$hello(''name'')) // Prints \"Hello name!\"\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," nuxtApp "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"provide"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"name"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Hello "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"name"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"},"!"],["span",{"class":"sDfIl"},"`"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"$hello"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"name"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")) "],["span",{"class":"sWuyu"},"// Prints \"Hello name!\"\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/plugins#providing-helpers"},["p",{},"It is possible to inject helpers by returning an object with a ",["code",{},"provide"]," key in plugins."]],["read-more",{"to":"https://v2.nuxt.com/docs/directory-structure/plugins#inject-in-root--context","target":"_blank"},["p",{},"In Nuxt 2 plugins, this was referred to as ",["strong",{},"inject function"],"."]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-app-interface","depth":2,"text":"Nuxt App Interface"},{"id":"the-nuxt-context","depth":2,"text":"The Nuxt Context"},{"id":"accessing-nuxtapp","depth":2,"text":"Accessing NuxtApp"},{"id":"providing-helpers","depth":2,"text":"Providing Helpers"}]}}', 'In Nuxt, you can access runtime app context within composables, components and plugins.', 'md', '[{"label":"Source","icon":"i-simple-icons-github","to":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts"}]', '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/nuxt-app', '{"title":"NuxtApp","description":"In Nuxt, you can access runtime app context within composables, components and plugins."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/6.nuxt-app', NULL, 'Tac5LjeDJgKn_e8Opi5hhUUWCDsgVITDh8n6Taz-i8s'); -- Tac5LjeDJgKn_e8Opi5hhUUWCDsgVITDh8n6Taz-i8s
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/7.layers.md', 'Authoring Nuxt Layers', '{"type":"minimark","value":[["p",{},"Nuxt layers are a powerful feature that you can use to share and reuse partial Nuxt applications within a monorepo, or from a git repository or npm package. The layers structure is almost identical to a standard Nuxt application, which makes them easy to author and maintain."],["read-more",{"to":"/docs/getting-started/layers"}],["p",{},"A minimal Nuxt layer directory should contain a ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file to indicate it is a layer."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({})\n","filename":"base/nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Additionally, certain other files in the layer directory will be auto-scanned and used by Nuxt for the project extending this layer."],["ul",{},["li",{},["a",{"href":"/docs/guide/directory-structure/app/components"},["code",{},"app/components/*"]],"   - Extend the default components"],["li",{},["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/*"]],"  - Extend the default composables"],["li",{},["a",{"href":"/docs/guide/directory-structure/app/layouts"},["code",{},"app/layouts/*"]],"  - Extend the default layouts"],["li",{},["a",{"href":"/docs/guide/directory-structure/app/middleware"},["code",{},"app/middleware/*"]],"  - Extend the default middleware"],["li",{},["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/*"]],"        - Extend the default pages"],["li",{},["a",{"href":"/docs/guide/directory-structure/plugins"},["code",{},"app/plugins/*"]],"        - Extend the default plugins"],["li",{},["a",{"href":"/docs/guide/directory-structure/app/utils"},["code",{},"app/utils/*"]],"   - Extend the default utils"],["li",{},["a",{"href":"/docs/guide/directory-structure/app-config"},["code",{},"app/app.config.ts"]],"  - Extend the default app config"],["li",{},["a",{"href":"/docs/guide/directory-structure/server"},["code",{},"server/*"]],"       - Extend the default server endpoints & middleware"],["li",{},["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]],"- Extend the default nuxt config"]],["h2",{"id":"basic-example"},"Basic Example"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    ''./base''\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"./base"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  <template>\n    <BaseComponent/>\n  </template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"BaseComponent"],["span",{"class":"sDfIl"},"/>\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  export default defineNuxtConfig({\n    // Extending from base nuxt.config.ts!\n    app: {\n      head: {\n        title: ''Extending Configs is Fun!'',\n        meta: [\n          { name: ''description'', content: ''I am using the extends feature in Nuxt!'' }\n        ],\n      }\n    }\n  })\n","filename":"base/nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"  export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"    // Extending from base nuxt.config.ts!\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      head"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Extending Configs is Fun!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"          {"],["span",{"class":"sRlkE"}," name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"description"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," content"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"I am using the extends feature in Nuxt!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"        ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  <template>\n    <h1>Extending Components is Fun!</h1>\n  </template>\n","filename":"base/app/components/BaseComponent.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Extending Components is Fun!"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["h2",{"id":"layer-priority"},"Layer Priority"],["p",{},"When extending from multiple layers, it''s important to understand the priority order:"],["ol",{},["li",{},["strong",{},"Layers in ",["code",{},"extends"]]," - earlier entries have higher priority (first overrides second)"],["li",{},["strong",{},"Auto-scanned local layers"]," from ",["code",{},"~~/layers"]," directory in alphabetical order (Z overrides A)"],["li",{},["strong",{},"Your project"]," has the highest priority in the stack - it will always override other layers"]],["p",{},"For example:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    ''./layers/base'',      // Highest priority (among extends)\n    ''./layers/theme'',     // Medium priority  \n    ''./layers/custom''     // Lower priority\n  ]\n  // Your project has the highest priority\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"./layers/base"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"      // Highest priority (among extends)\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"./layers/theme"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"     // Medium priority  \n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"./layers/custom"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sWuyu"},"     // Lower priority\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"  // Your project has the highest priority\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"If you also have auto-scanned layers like ",["code",{},"~~/layers/a"]," and ",["code",{},"~~/layers/z"],", the complete override order would be: ",["code",{},"base"]," > ",["code",{},"theme"]," > ",["code",{},"custom"]," > ",["code",{},"z"]," > ",["code",{},"a"]," > your project."],["h2",{"id":"starter-template"},"Starter Template"],["p",{},"To get started you can initialize a layer with the ",["a",{"href":"https://github.com/nuxt/starter/tree/layer","rel":["nofollow"]},"nuxt/starter/layer template"],". This will create a basic structure you can build upon. Execute this command within the terminal to get started:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm create nuxt -- --template layer nuxt-layer\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," --"],["span",{"class":"sGFVr"}," --template"],["span",{"class":"sGFVr"}," layer"],["span",{"class":"sGFVr"}," nuxt-layer\n"]]]],["p",{},"Follow up on the README instructions for the next steps."],["h2",{"id":"publishing-layers"},"Publishing Layers"],["p",{},"You can publish and share layers by either using a remote source or an npm package."],["h3",{"id":"git-repository"},"Git Repository"],["p",{},"You can use a git repository to share your Nuxt layer. Some examples:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    ''github:username/repoName'',        // GitHub Remote Source\n    ''github:username/repoName/base'',   // GitHub Remote Source within /base directory\n    ''github:username/repoName#dev'',    // GitHub Remote Source from dev branch\n    ''github:username/repoName#v1.0.0'', // GitHub Remote Source from v1.0.0 tag\n    ''gitlab:username/repoName'',        // GitLab Remote Source example\n    ''bitbucket:username/repoName'',     // Bitbucket Remote Source example\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"github:username/repoName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"        // GitHub Remote Source\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"github:username/repoName/base"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"   // GitHub Remote Source within /base directory\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"github:username/repoName#dev"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"    // GitHub Remote Source from dev branch\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"github:username/repoName#v1.0.0"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // GitHub Remote Source from v1.0.0 tag\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"gitlab:username/repoName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"        // GitLab Remote Source example\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"bitbucket:username/repoName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"     // Bitbucket Remote Source example\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{},["p",{},"If you want to extend a private remote source, you need to add the environment variable ",["code",{},"GIGET_AUTH=<token>"]," to provide a token."]],["tip",{},["p",{},"If you want to extend a remote source from a self-hosted GitHub or GitLab instance, you need to supply its URL with the ",["code",{},"GIGET_GITHUB_URL=<url>"]," or ",["code",{},"GIGET_GITLAB_URL=<url>"]," environment variable - or directly configure it with ",["a",{"href":"https://github.com/unjs/c12#extending-config-layer-from-remote-sources","rel":["nofollow"]},"the ",["code",{},"auth"]," option"]," in your ",["code",{},"nuxt.config"],"."]],["warning",{},["p",{},"Bear in mind that if you are extending a remote source as a layer, you will not be able to access its dependencies outside of Nuxt. For example, if the remote layer depends on an eslint plugin, this will not be usable in your eslint config. That is because these dependencies will be located in a special location (",["code",{},"node_modules/.c12/layer_name/node_modules/"],") that is not accessible to your package manager."]],["note",{},["p",{},"When using git remote sources, if a layer has npm dependencies and you wish to install them, you can do so by specifying ",["code",{},"install: true"]," in your layer options."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    [''github:username/repoName'', { install: true }]\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"github:username/repoName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," install"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["h3",{"id":"npm-package"},"npm Package"],["p",{},"You can publish Nuxt layers as an npm package that contains the files and dependencies you want to extend. This allows you to share your config with others, use it in multiple projects or use it privately."],["p",{},"To extend from an npm package, you need to make sure that the module is published to npm and installed in the user''s project as a devDependency. Then you can use the module name to extend the current nuxt config:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    // Node Module with scope\n    ''@scope/moduleName'',\n    // or just the module name\n    ''moduleName''\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Node Module with scope\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"@scope/moduleName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // or just the module name\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"moduleName"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"To publish a layer directory as an npm package, you want to make sure that the ",["code",{},"package.json"]," has the correct properties filled out. This will make sure that the files are included when the package is published."],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"name\": \"my-theme\",\n  \"version\": \"1.0.0\",\n  \"type\": \"module\",\n  \"main\": \"./nuxt.config.ts\",\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"nuxt\": \"^3.0.0\"\n  }\n}\n","filename":"package.json","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"name"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"my-theme"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"version"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"1.0.0"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"type"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"module"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"main"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./nuxt.config.ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"dependencies"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"devDependencies"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"^3.0.0"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]]]],["important",{},["p",{},"Make sure any dependency imported in the layer is ",["strong",{},"explicitly added"]," to the ",["code",{},"dependencies"],". The ",["code",{},"nuxt"]," dependency, and anything only used for testing the layer before publishing, should remain in the ",["code",{},"devDependencies"]," field."]],["p",{},"Now you can proceed to publish the module to npm, either publicly or privately."],["important",{},["p",{},"When publishing the layer as a private npm package, you need to make sure you log in, to authenticate with npm to download the node module."]],["h2",{"id":"tips"},"Tips"],["h3",{"id":"named-layer-aliases"},"Named Layer Aliases"],["p",{},"Auto-scanned layers (from your ",["code",{},"~~/layers"]," directory) automatically create aliases. For example, you can access your ",["code",{},"~~/layers/test"]," layer via ",["code",{},"#layers/test"],"."],["p",{},"If you want to create named layer aliases for other layers, you can specify a name in the configuration of the layer."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  $meta: {\n    name: ''example'',\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  $meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"example"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This will produce an alias of ",["code",{},"#layers/example"]," which points to your layer."],["h3",{"id":"relative-paths-and-aliases"},"Relative Paths and Aliases"],["p",{},"When importing using global aliases (such as ",["code",{},"~/"]," and ",["code",{},"@/"],") in a layer components and composables, note that these aliases are resolved relative to the user''s project paths. As a workaround, you can ",["strong",{},"use relative paths"]," to import them, or use named layer aliases."],["p",{},"Also when using relative paths in ",["code",{},"nuxt.config"]," file of a layer, (with exception of nested ",["code",{},"extends"],") they are resolved relative to user''s project instead of the layer. As a workaround, use full resolved paths in ",["code",{},"nuxt.config"],":"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { fileURLToPath } from ''url''\nimport { dirname, join } from ''path''\n\nconst currentDir = dirname(fileURLToPath(import.meta.url))\n\nexport default defineNuxtConfig({\n  css: [\n    join(currentDir, ''./app/assets/main.css'')\n  ]\n})\n","filename":"nuxt.config.ts","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," fileURLToPath"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"url"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," dirname"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," join"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"path"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," currentDir "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," dirname"],["span",{"class":"sZSNi"},"("],["span",{"class":"s3cPz"},"fileURLToPath"],["span",{"class":"sZSNi"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url))\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"    join"],["span",{"class":"sZSNi"},"(currentDir"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"./app/assets/main.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"multi-layer-support-for-nuxt-modules"},"Multi-Layer Support for Nuxt Modules"],["p",{},"You can use the internal array ",["code",{},"nuxt.options._layers"]," to support custom multi-layer handling for your modules."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtModule({\n  setup(_options, nuxt) {\n    for (const layer of nuxt.options._layers) {\n      // You can check for a custom directory existence to extend for each layer\n      console.log(''Custom extension for'', layer.cwd, layer.config)\n    }\n  }\n})\n","filename":"modules/my-module.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtModule"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"_options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"    for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," layer"],["span",{"class":"sDfIl"}," of"],["span",{"class":"sZSNi"}," nuxt"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"_layers"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"      // You can check for a custom directory existence to extend for each layer\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"      console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Custom extension for"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," layer"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"cwd"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," layer"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"config"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},["strong",{},"Notes:"]],["ul",{},["li",{},"Earlier items in the ",["code",{},"_layers"]," array have higher priority and override later ones"],["li",{},"The user''s project is the first item in the ",["code",{},"_layers"]," array"]],["h2",{"id":"going-deeper"},"Going Deeper"],["p",{},"Configuration loading and extends support is handled by ",["a",{"href":"https://github.com/unjs/c12","rel":["nofollow"]},"unjs/c12"],", merged using ",["a",{"href":"https://github.com/unjs/defu","rel":["nofollow"]},"unjs/defu"]," and remote git sources are supported using ",["a",{"href":"https://github.com/unjs/giget","rel":["nofollow"]},"unjs/giget"],". Check the docs and source code to learn more."],["read-more",{"to":"https://github.com/nuxt/nuxt/issues/13367","icon":"i-simple-icons-github","target":"_blank"},["p",{},"Checkout our ongoing development to bring more improvements for layers support on GitHub."]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"basic-example","depth":2,"text":"Basic Example"},{"id":"layer-priority","depth":2,"text":"Layer Priority"},{"id":"starter-template","depth":2,"text":"Starter Template"},{"id":"publishing-layers","depth":2,"text":"Publishing Layers","children":[{"id":"git-repository","depth":3,"text":"Git Repository"},{"id":"npm-package","depth":3,"text":"npm Package"}]},{"id":"tips","depth":2,"text":"Tips","children":[{"id":"named-layer-aliases","depth":3,"text":"Named Layer Aliases"},{"id":"relative-paths-and-aliases","depth":3,"text":"Relative Paths and Aliases"}]},{"id":"multi-layer-support-for-nuxt-modules","depth":2,"text":"Multi-Layer Support for Nuxt Modules"},{"id":"going-deeper","depth":2,"text":"Going Deeper"}]}}', 'Nuxt provides a powerful system that allows you to extend the default files, configs, and much more.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/layers', '{"title":"Authoring Nuxt Layers","description":"Nuxt provides a powerful system that allows you to extend the default files, configs, and much more."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/7.layers', NULL, 'V-Bbeqe4gLOX1Qsc21rfRma37IQGlByYRf9Vcmwd9qE'); -- V-Bbeqe4gLOX1Qsc21rfRma37IQGlByYRf9Vcmwd9qE
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/9.debugging.md', 'Debugging', '{"type":"minimark","value":[["h2",{"id":"sourcemaps"},"Sourcemaps"],["p",{},"Sourcemaps are enabled for your server build by default, and for the client build in dev mode, but you can enable them more specifically in your configuration."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  // or sourcemap: true\n  sourcemap: {\n    server: true,\n    client: true\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // or sourcemap: true\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  sourcemap"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    server"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    client"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"debugging-with-node-inspector"},"Debugging with Node Inspector"],["p",{},"You can use ",["a",{"href":"https://nodejs.org/en/learn/getting-started/debugging","rel":["nofollow"]},"Node inspector"]," to debug Nuxt server-side."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"nuxt dev --inspect\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"nuxt"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," --inspect\n"]]]],["p",{},"This will start Nuxt in ",["code",{},"dev"]," mode with debugger active. If everything is working correctly a Node.js icon will appear on your Chrome DevTools and you can attach to the debugger."],["important",{},["p",{},"Note that the Node.js and Chrome processes need to be run on the same platform. This doesn''t work inside of Docker."]],["h2",{"id":"debugging-in-your-ide"},"Debugging in Your IDE"],["p",{},"It is possible to debug your Nuxt app in your IDE while you are developing it."],["h3",{"id":"example-vs-code-debug-configuration"},"Example VS Code Debug Configuration"],["p",{},"You may need to update the config below with a path to your web browser. For more information, visit the ",["a",{"href":"https://go.microsoft.com/fwlink/?linkid=830387","rel":["nofollow"]},"VS Code documentation about debug configuration"],"."],["pre",{"className":"language-json5 shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  // Use IntelliSense to learn about possible attributes.\n  // Hover to view descriptions of existing attributes.\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"chrome\",\n      \"request\": \"launch\",\n      \"name\": \"client: chrome\",\n      \"url\": \"http://localhost:3000\",\n      // this should point to your Nuxt `srcDir`, which is `app` by default\n      \"webRoot\": \"${workspaceFolder}/app\"\n    },\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"server: nuxt\",\n      \"outputCapture\": \"std\",\n      \"program\": \"${workspaceFolder}/node_modules/nuxt/bin/nuxt.mjs\",\n      \"args\": [\n        \"dev\"\n      ],\n    }\n  ],\n  \"compounds\": [\n    {\n      \"name\": \"fullstack: nuxt\",\n      \"configurations\": [\n        \"server: nuxt\",\n        \"client: chrome\"\n      ]\n    }\n  ]\n}\n","language":"json5","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"{\n"]],["span",{"class":"line","line":2},["span",{},"  // Use IntelliSense to learn about possible attributes.\n"]],["span",{"class":"line","line":3},["span",{},"  // Hover to view descriptions of existing attributes.\n"]],["span",{"class":"line","line":4},["span",{},"  \"version\": \"0.2.0\",\n"]],["span",{"class":"line","line":5},["span",{},"  \"configurations\": [\n"]],["span",{"class":"line","line":6},["span",{},"    {\n"]],["span",{"class":"line","line":7},["span",{},"      \"type\": \"chrome\",\n"]],["span",{"class":"line","line":8},["span",{},"      \"request\": \"launch\",\n"]],["span",{"class":"line","line":9},["span",{},"      \"name\": \"client: chrome\",\n"]],["span",{"class":"line","line":10},["span",{},"      \"url\": \"http://localhost:3000\",\n"]],["span",{"class":"line","line":11},["span",{},"      // this should point to your Nuxt `srcDir`, which is `app` by default\n"]],["span",{"class":"line","line":12},["span",{},"      \"webRoot\": \"${workspaceFolder}/app\"\n"]],["span",{"class":"line","line":13},["span",{},"    },\n"]],["span",{"class":"line","line":14},["span",{},"    {\n"]],["span",{"class":"line","line":15},["span",{},"      \"type\": \"node\",\n"]],["span",{"class":"line","line":16},["span",{},"      \"request\": \"launch\",\n"]],["span",{"class":"line","line":17},["span",{},"      \"name\": \"server: nuxt\",\n"]],["span",{"class":"line","line":18},["span",{},"      \"outputCapture\": \"std\",\n"]],["span",{"class":"line","line":19},["span",{},"      \"program\": \"${workspaceFolder}/node_modules/nuxt/bin/nuxt.mjs\",\n"]],["span",{"class":"line","line":20},["span",{},"      \"args\": [\n"]],["span",{"class":"line","line":21},["span",{},"        \"dev\"\n"]],["span",{"class":"line","line":22},["span",{},"      ],\n"]],["span",{"class":"line","line":23},["span",{},"    }\n"]],["span",{"class":"line","line":24},["span",{},"  ],\n"]],["span",{"class":"line","line":25},["span",{},"  \"compounds\": [\n"]],["span",{"class":"line","line":26},["span",{},"    {\n"]],["span",{"class":"line","line":27},["span",{},"      \"name\": \"fullstack: nuxt\",\n"]],["span",{"class":"line","line":28},["span",{},"      \"configurations\": [\n"]],["span",{"class":"line","line":29},["span",{},"        \"server: nuxt\",\n"]],["span",{"class":"line","line":30},["span",{},"        \"client: chrome\"\n"]],["span",{"class":"line","line":31},["span",{},"      ]\n"]],["span",{"class":"line","line":32},["span",{},"    }\n"]],["span",{"class":"line","line":33},["span",{},"  ]\n"]],["span",{"class":"line","line":34},["span",{},"}\n"]]]],["p",{},"If you prefer your usual browser extensions, add this to the ",["em",{},"chrome"]," configuration above:"],["pre",{"className":"language-json5 shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"\"userDataDir\": false,\n","language":"json5","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"\"userDataDir\": false,\n"]]]],["h3",{"id":"example-jetbrains-ides-debug-configuration"},"Example JetBrains IDEs Debug Configuration"],["p",{},"You can also debug your Nuxt app in JetBrains IDEs such as IntelliJ IDEA, WebStorm, or PhpStorm."],["ol",{},["li",{},"Create a new file in your project root directory and name it ",["code",{},"nuxt.run.xml"],"."],["li",{},"Open the ",["code",{},"nuxt.run.xml"]," file and paste the following debug configuration:"]],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<component name=\"ProjectRunConfigurationManager\">\n  <configuration default=\"false\" name=\"client: chrome\" type=\"JavascriptDebugType\" uri=\"http://localhost:3000\" useFirstLineBreakpoints=\"true\">\n    <method v=\"2\" />\n  </configuration>\n\n  <configuration default=\"false\" name=\"server: nuxt\" type=\"NodeJSConfigurationType\" application-parameters=\"dev\" path-to-js-file=\"$PROJECT_DIR$/node_modules/nuxt/bin/nuxt.mjs\" working-dir=\"$PROJECT_DIR$\">\n    <method v=\"2\" />\n  </configuration>\n\n  <configuration default=\"false\" name=\"fullstack: nuxt\" type=\"CompoundRunConfigurationType\">\n    <toRun name=\"client: chrome\" type=\"JavascriptDebugType\" />\n    <toRun name=\"server: nuxt\" type=\"NodeJSConfigurationType\" />\n    <method v=\"2\" />\n  </configuration>\n</component>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"component"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ProjectRunConfigurationManager"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"configuration"],["span",{"class":"smZ93"}," default"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"false"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"client: chrome"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"JavascriptDebugType"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," uri"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"http://localhost:3000"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," useFirstLineBreakpoints"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"true"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"method"],["span",{"class":"smZ93"}," v"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"2"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"configuration"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"configuration"],["span",{"class":"smZ93"}," default"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"false"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"server: nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"NodeJSConfigurationType"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," application-parameters"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"dev"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," path-to-js-file"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"$PROJECT_DIR$/node_modules/nuxt/bin/nuxt.mjs"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," working-dir"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"$PROJECT_DIR$"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"method"],["span",{"class":"smZ93"}," v"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"2"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"configuration"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"configuration"],["span",{"class":"smZ93"}," default"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"false"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"fullstack: nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"CompoundRunConfigurationType"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"toRun"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"client: chrome"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"JavascriptDebugType"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"toRun"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"server: nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"NodeJSConfigurationType"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"method"],["span",{"class":"smZ93"}," v"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"2"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"configuration"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"component"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"other-ides"},"Other IDEs"],["p",{},"If you have another IDE and would like to contribute sample configuration, feel free to ",["a",{"href":"https://github.com/nuxt/nuxt/edit/main/docs/2.guide/3.going-further/9.debugging.md","rel":["nofollow"]},"open a PR"],"!"],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"sourcemaps","depth":2,"text":"Sourcemaps"},{"id":"debugging-with-node-inspector","depth":2,"text":"Debugging with Node Inspector"},{"id":"debugging-in-your-ide","depth":2,"text":"Debugging in Your IDE","children":[{"id":"example-vs-code-debug-configuration","depth":3,"text":"Example VS Code Debug Configuration"},{"id":"example-jetbrains-ides-debug-configuration","depth":3,"text":"Example JetBrains IDEs Debug Configuration"},{"id":"other-ides","depth":3,"text":"Other IDEs"}]}]}}', 'In Nuxt, you can get started with debugging your application directly in the browser as well as in your IDE.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/going-further/debugging', '{"title":"Debugging","description":"In Nuxt, you can get started with debugging your application directly in the browser as well as in your IDE."}', 'nuxt/nuxtcore/live/2.guide/3.going-further/9.debugging', NULL, '9A2t9XvNjc3ovMYAnzt5cSY_qxwB62BdFKM9KxW8UAY'); -- 9A2t9XvNjc3ovMYAnzt5cSY_qxwB62BdFKM9KxW8UAY
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/3.going-further/index.md', '', '{"type":"minimark","value":[],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', '', 'md', NULL, '{"redirect":"/guide/going-further/tooling"}', 'false', '/nuxt/nuxtcore/live/guide/going-further', '{"title":"","description":""}', 'nuxt/nuxtcore/live/2.guide/3.going-further/index', NULL, 'k52sxtjby7WS2uVw6K06t1y1BhEogjESAiQnlmQEadA'); -- k52sxtjby7WS2uVw6K06t1y1BhEogjESAiQnlmQEadA
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/4.recipes/.navigation.yml', 'Recipes', '{"title":"Recipes","titleTemplate":"%s · Recipes","icon":"i-lucide-cooking-pot"}', NULL, 'yml', NULL, '{"icon":"i-lucide-cooking-pot"}', 'true', '/nuxt/nuxtcore/live/guide/recipes/.navigation', '{"title":"Recipes"}', 'nuxt/nuxtcore/live/2.guide/4.recipes/.navigation', '%s · Recipes', 'nqQB0agy98RZLmcPaNW0BYI9w4boPdAICjxc9m41EEQ'); -- nqQB0agy98RZLmcPaNW0BYI9w4boPdAICjxc9m41EEQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/4.recipes/1.custom-routing.md', 'Custom Routing', '{"type":"minimark","value":[["h2",{"id":"adding-custom-routes"},"Adding custom routes"],["p",{},"In Nuxt, your routing is defined by the structure of your files inside the ",["a",{"href":"/docs/guide/directory-structure/app/pages"},"app/pages directory"],". However, since it uses ",["a",{"href":"https://router.vuejs.org","rel":["nofollow"]},"vue-router"]," under the hood, Nuxt offers you several ways to add custom routes in your project."],["h3",{"id":"router-config"},"Router Config"],["p",{},"Using ",["a",{"href":"/docs/guide/recipes/custom-routing#router-options"},"router options"],", you can optionally override or extend your routes using a function that accepts the scanned routes and returns customized routes."],["p",{},"If it returns ",["code",{},"null"]," or ",["code",{},"undefined"],", Nuxt will fall back to the default routes (useful to modify input array)."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { RouterConfig } from ''@nuxt/schema''\n\nexport default {\n  // https://router.vuejs.org/api/interfaces/routeroptions.html#routes\n  routes: (_routes) => [\n    {\n      name: ''home'',\n      path: ''/'',\n      component: () => import(''~/pages/home.vue'')\n    }\n  ],\n} satisfies RouterConfig\n","filename":"router.options.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," RouterConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/schema"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // https://router.vuejs.org/api/interfaces/routeroptions.html#routes\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"  routes"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"_routes"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"home"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"      component"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"~/pages/home.vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":11},["span",{"class":"sZSNi"},"  ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"s8R28"}," satisfies"],["span",{"class":"s52Pk"}," RouterConfig\n"]]]],["note",{},["p",{},"Nuxt will not augment any new routes you return from the ",["code",{},"routes"]," function with metadata defined in ",["code",{},"definePageMeta"]," of the component you provide. If you want that to happen, you should use the ",["code",{},"pages:extend"]," hook which is ",["a",{"href":"/docs/api/advanced/hooks#nuxt-hooks-build-time"},"called at build-time"],"."]],["h3",{"id":"pages-hook"},"Pages Hook"],["p",{},"You can add, change or remove pages from the scanned routes with the ",["code",{},"pages:extend"]," nuxt hook."],["p",{},"For example, to prevent creating routes for any ",["code",{},".ts"]," files:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { NuxtPage } from ''@nuxt/schema''\n\nexport default defineNuxtConfig({\n  hooks: {\n    ''pages:extend'' (pages) {\n      // add a route\n      pages.push({\n        name: ''profile'',\n        path: ''/profile'',\n        file: ''~/extra-pages/profile.vue''\n      })\n\n      // remove routes\n      function removePagesMatching (pattern: RegExp, pages: NuxtPage[] = []) {\n        const pagesToRemove: NuxtPage[] = []\n        for (const page of pages) {\n          if (page.file && pattern.test(page.file)) {\n            pagesToRemove.push(page)\n          } else {\n            removePagesMatching(pattern, page.children)\n          }\n        }\n        for (const page of pagesToRemove) {\n          pages.splice(pages.indexOf(page), 1)\n        }\n      }\n      removePagesMatching(/\\.ts$/, pages)\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," NuxtPage"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/schema"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"pages:extend"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"pages"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      // add a route\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"      pages"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"        name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"profile"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"        path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/profile"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"        file"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/extra-pages/profile.vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"      // remove routes\n"]],["span",{"class":"line","line":14},["span",{"class":"smZ93"},"      function"],["span",{"class":"s3cPz"}," removePagesMatching"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"pattern"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," RegExp"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," pages"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," NuxtPage"],["span",{"class":"sRlkE"},"[] "],["span",{"class":"sDfIl"},"="],["span",{"class":"sRlkE"}," []"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":15},["span",{"class":"smZ93"},"        const"],["span",{"class":"sZSNi"}," pagesToRemove"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," NuxtPage"],["span",{"class":"sRlkE"},"[] "],["span",{"class":"sDfIl"},"="],["span",{"class":"sRlkE"}," []\n"]],["span",{"class":"line","line":16},["span",{"class":"s8R28"},"        for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"}," of"],["span",{"class":"sZSNi"}," pages"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":17},["span",{"class":"s8R28"},"          if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"file"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sZSNi"}," pattern"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"test"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"file"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":18},["span",{"class":"sZSNi"},"            pagesToRemove"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"          }"],["span",{"class":"s8R28"}," else"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":20},["span",{"class":"s3cPz"},"            removePagesMatching"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"pattern"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"children"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"          }\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":23},["span",{"class":"s8R28"},"        for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"}," of"],["span",{"class":"sZSNi"}," pagesToRemove"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":24},["span",{"class":"sZSNi"},"          pages"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"splice"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"pages"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"indexOf"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":25},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":26},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":27},["span",{"class":"s3cPz"},"      removePagesMatching"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"/"],["span",{"class":"sZSNi"},"\\."],["span",{"class":"sGFVr"},"ts"],["span",{"class":"s8R28"},"$"],["span",{"class":"sDfIl"},"/"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," pages"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":28},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":29},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":30},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"nuxt-module"},"Nuxt Module"],["p",{},"If you plan to add a whole set of pages related with a specific functionality, you might want to use a ",["a",{"href":"/modules"},"Nuxt module"],"."],["p",{},"The ",["a",{"href":"/docs/guide/going-further/kit"},"Nuxt kit"]," provides a few ways ",["a",{"href":"/docs/api/kit/pages"},"to add routes"],":"],["ul",{},["li",{},["a",{"href":"/docs/api/kit/pages#extendpages"},["code",{},"extendPages"]]," (callback: pages => void)"],["li",{},["a",{"href":"/docs/api/kit/pages#extendrouterules"},["code",{},"extendRouteRules"]]," (route: string, rule: NitroRouteConfig, options: ExtendRouteRulesOptions)"]],["h2",{"id":"router-options"},"Router Options"],["p",{},"On top of customizing options for ",["a",{"href":"https://router.vuejs.org/api/interfaces/routeroptions.html","rel":["nofollow"]},["code",{},"vue-router"]],", Nuxt offers ",["a",{"href":"/docs/api/nuxt-config#router"},"additional options"]," to customize the router."],["h3",{"id":"using-routeroptions"},"Using ",["code",{},"router.options"]],["p",{},"This is the recommended way to specify ",["a",{"href":"/docs/api/nuxt-config#router"},"router options"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { RouterConfig } from ''@nuxt/schema''\n\nexport default {\n} satisfies RouterConfig\n","filename":"router.options.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," RouterConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/schema"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"s8R28"}," satisfies"],["span",{"class":"s52Pk"}," RouterConfig\n"]]]],["p",{},"It is possible to add more router options files by adding files within the ",["code",{},"pages:routerOptions"]," hook. Later items in the array override earlier ones."],["callout",{},["p",{},"Adding a router options file in this hook will switch on page-based routing, unless ",["code",{},"optional"]," is set, in which case it will only apply when page-based routing is already enabled."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { createResolver } from ''@nuxt/kit''\n\nexport default defineNuxtConfig({\n  hooks: {\n    ''pages:routerOptions'' ({ files }) {\n      const resolver = createResolver(import.meta.url)\n      // add a route\n      files.push({\n        path: resolver.resolve(''./runtime/router-options''),\n        optional: true\n      })\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," createResolver"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/kit"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"pages:routerOptions"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," ({"],["span",{"class":"s1nJG"}," files"],["span",{"class":"sDfIl"}," })"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," createResolver"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"      // add a route\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"      files"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"        path"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," resolver"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./runtime/router-options"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"        optional"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"using-nuxtconfig"},"Using ",["code",{},"nuxt.config"]],["p",{},["strong",{},"Note:"]," Only JSON serializable ",["a",{"href":"/docs/api/nuxt-config#router"},"options"]," are configurable:"],["ul",{},["li",{},["code",{},"linkActiveClass"]],["li",{},["code",{},"linkExactActiveClass"]],["li",{},["code",{},"end"]],["li",{},["code",{},"sensitive"]],["li",{},["code",{},"strict"]],["li",{},["code",{},"hashMode"]],["li",{},["code",{},"scrollBehaviorType"]]],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  router: {\n    options: {}\n  }\n})\n","filename":"nuxt.config","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  router"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    options"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"hash-mode-spa"},"Hash Mode (SPA)"],["p",{},"You can enable hash history in SPA mode using the ",["code",{},"hashMode"]," ",["a",{"href":"/docs/api/nuxt-config#router"},"config"],". In this mode, router uses a hash character (#) before the actual URL that is internally passed. When enabled, the ",["strong",{},"URL is never sent to the server"]," and ",["strong",{},"SSR is not supported"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  ssr: false,\n  router: {\n    options: {\n      hashMode: true\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  router"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    options"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      hashMode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"scroll-behavior-for-hash-links"},"Scroll Behavior for hash links"],["p",{},"You can optionally customize the scroll behavior for hash links. When you set the ",["a",{"href":"/docs/api/nuxt-config#router"},"config"]," to be ",["code",{},"smooth"]," and you load a page with a hash link (e.g. ",["code",{},"https://example.com/blog/my-article#comments"],"), you will see that the browser smoothly scrolls to this anchor."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  router: {\n    options: {\n      scrollBehaviorType: ''smooth''\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  router"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    options"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      scrollBehaviorType"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"smooth"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"custom-history-advanced"},"Custom History (advanced)"],["p",{},"You can optionally override history mode using a function that accepts the base URL and returns the history mode. If it returns ",["code",{},"null"]," or ",["code",{},"undefined"],", Nuxt will fallback to the default history."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { RouterConfig } from ''@nuxt/schema''\nimport { createMemoryHistory } from ''vue-router''\n\nexport default {\n  // https://router.vuejs.org/api/interfaces/routeroptions.html\n  history: base => import.meta.client ? createMemoryHistory(base) : null /* default */\n} satisfies RouterConfig\n","filename":"router.options.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," RouterConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/schema"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," createMemoryHistory"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vue-router"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  // https://router.vuejs.org/api/interfaces/routeroptions.html\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"  history"],["span",{"class":"sDfIl"},":"],["span",{"class":"s1nJG"}," base"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s8R28"}," import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"client "],["span",{"class":"sDfIl"},"?"],["span",{"class":"s3cPz"}," createMemoryHistory"],["span",{"class":"sZSNi"},"(base) "],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," null"],["span",{"class":"sWuyu"}," /* default */\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"s8R28"}," satisfies"],["span",{"class":"s52Pk"}," RouterConfig\n"]]]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"adding-custom-routes","depth":2,"text":"Adding custom routes","children":[{"id":"router-config","depth":3,"text":"Router Config"},{"id":"pages-hook","depth":3,"text":"Pages Hook"},{"id":"nuxt-module","depth":3,"text":"Nuxt Module"}]},{"id":"router-options","depth":2,"text":"Router Options","children":[{"id":"using-routeroptions","depth":3,"text":"Using router.options"},{"id":"using-nuxtconfig","depth":3,"text":"Using nuxt.config"},{"id":"hash-mode-spa","depth":3,"text":"Hash Mode (SPA)"},{"id":"scroll-behavior-for-hash-links","depth":3,"text":"Scroll Behavior for hash links"}]}]}}', 'In Nuxt, your routing is defined by the structure of your files inside the pages directory. However, since it uses vue-router under the hood, Nuxt offers you several ways to add custom routes in your project.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/recipes/custom-routing', '{"title":"Custom Routing","description":"In Nuxt, your routing is defined by the structure of your files inside the pages directory. However, since it uses vue-router under the hood, Nuxt offers you several ways to add custom routes in your project."}', 'nuxt/nuxtcore/live/2.guide/4.recipes/1.custom-routing', NULL, '-6f1_a936A9yWqNniXdNIF4SHQcIY-j24gW5fLOD3Bg'); -- -6f1_a936A9yWqNniXdNIF4SHQcIY-j24gW5fLOD3Bg
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/4.recipes/2.vite-plugin.md', 'Using Vite Plugins in Nuxt', '{"type":"minimark","value":[["p",{},"While Nuxt modules offer extensive functionality, sometimes a specific Vite plugin might meet your needs more directly."],["p",{},"First, we need to install the Vite plugin, for our example, we''ll use ",["code",{},"@rollup/plugin-yaml"],":"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install @rollup/plugin-yaml\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," @rollup/plugin-yaml\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add @rollup/plugin-yaml\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," @rollup/plugin-yaml\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add @rollup/plugin-yaml\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," @rollup/plugin-yaml\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add @rollup/plugin-yaml\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," @rollup/plugin-yaml\n"]]]]],["p",{},"Next, we need to import and add it to our ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import yaml from ''@rollup/plugin-yaml''\n\nexport default defineNuxtConfig({\n  vite: {\n    plugins: [\n      yaml()\n    ]\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," yaml "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@rollup/plugin-yaml"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    plugins"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"      yaml"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    ]\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Now we installed and configured our Vite plugin, we can start using YAML files directly in our project."],["p",{},"For example, we can have a ",["code",{},"config.yaml"]," that stores configuration data and import this data in our Nuxt components:"],["code-group",{},["pre",{"className":"language-yaml shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"greeting: \"Hello, Nuxt with Vite!\"\n","filename":"data/hello.yaml","language":"yaml","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"greeting: \"Hello, Nuxt with Vite!\"\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nimport config from ''~/data/hello.yaml''\n</script>\n\n<template>\n  <h1>{{ config.greeting }}</h1>\n</template>\n","filename":"app/components/Hello.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," config "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/data/hello.yaml"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ config.greeting }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Learn how to integrate Vite plugins into your Nuxt project.', 'md', NULL, '{}', '{"title":"Vite Plugins"}', '/nuxt/nuxtcore/live/guide/recipes/vite-plugin', '{"title":"Using Vite Plugins in Nuxt","description":"Learn how to integrate Vite plugins into your Nuxt project."}', 'nuxt/nuxtcore/live/2.guide/4.recipes/2.vite-plugin', NULL, 'tFa-nFsF_-fB9nkqrfJS3Zk8dpX4ets-dSsyIipcmFU'); -- tFa-nFsF_-fB9nkqrfJS3Zk8dpX4ets-dSsyIipcmFU
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/4.recipes/3.custom-usefetch.md', 'Custom useFetch in Nuxt', '{"type":"minimark","value":[["p",{},"When working with Nuxt, you might be making the frontend and fetching an external API, and you might want to set some default options for fetching from your API."],["p",{},"The ",["a",{"href":"/docs/api/utils/dollarfetch"},["code",{},"$fetch"]]," utility function (used by the ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," composable) is intentionally not globally configurable. This is important so that fetching behavior throughout your application remains consistent, and other integrations (like modules) can rely on the behavior of core utilities like ",["code",{},"$fetch"],"."],["p",{},"However, Nuxt provides a way to create a custom fetcher for your API (or multiple fetchers if you have multiple APIs to call)."],["h2",{"id":"custom-fetch"},"Custom ",["code",{},"$fetch"]],["p",{},"Let''s create a custom ",["code",{},"$fetch"]," instance with a ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt plugin"],"."],["note",{},["p",{},["code",{},"$fetch"]," is a configured instance of ",["a",{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"ofetch"]," which supports adding the base URL of your Nuxt server as well as direct function calls during SSR (avoiding HTTP roundtrips)."]],["p",{},"Let''s pretend here that:"],["ul",{},["li",{},"The main API is ",["a",{"href":"https://api.nuxt.com","rel":["nofollow"]},"https://api.nuxt.com"]],["li",{},"We are storing the JWT token in a session with ",["a",{"href":"https://github.com/atinux/nuxt-auth-utils","rel":["nofollow"]},"nuxt-auth-utils"]],["li",{},"If the API responds with a ",["code",{},"401"]," status code, we redirect the user to the ",["code",{},"/login"]," page"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin((nuxtApp) => {\n  const { session } = useUserSession()\n\n  const api = $fetch.create({\n    baseURL: ''https://api.nuxt.com'',\n    onRequest({ request, options, error }) {\n      if (session.value?.token) {\n        // note that this relies on ofetch >= 1.4.0 - you may need to refresh your lockfile\n        options.headers.set(''Authorization'', `Bearer ${session.value?.token}`)\n      }\n    },\n    async onResponseError({ response }) {\n      if (response.status === 401) {\n        await nuxtApp.runWithContext(() => navigateTo(''/login''))\n      }\n    }\n  })\n\n  // Expose to useNuxtApp().$api\n  return {\n    provide: {\n      api\n    }\n  }\n})\n","filename":"app/plugins/api.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," session"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useUserSession"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," api"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," $fetch"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"create"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    baseURL"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://api.nuxt.com"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    onRequest"],["span",{"class":"sDfIl"},"({"],["span",{"class":"s1nJG"}," request"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," options"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," error"],["span",{"class":"sDfIl"}," })"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"      if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"session"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"?."],["span",{"class":"sZSNi"},"token"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"        // note that this relies on ofetch >= 1.4.0 - you may need to refresh your lockfile\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"        options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"headers"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"set"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Authorization"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"Bearer "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"session"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"?."],["span",{"class":"sZSNi"},"token"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":12},["span",{"class":"smZ93"},"    async"],["span",{"class":"sRlkE"}," onResponseError"],["span",{"class":"sDfIl"},"({"],["span",{"class":"s1nJG"}," response"],["span",{"class":"sDfIl"}," })"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"      if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"response"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"status"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sYRBq"}," 401"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"        await"],["span",{"class":"sZSNi"}," nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"runWithContext"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/login"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":18},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":19},["span",{"class":"sWuyu"},"  // Expose to useNuxtApp().$api\n"]],["span",{"class":"line","line":20},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":21},["span",{"class":"sRlkE"},"    provide"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":22},["span",{"class":"sZSNi"},"      api\n"]],["span",{"class":"line","line":23},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":24},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":25},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"With this Nuxt plugin, ",["code",{},"$api"]," is exposed from ",["code",{},"useNuxtApp()"]," to make API calls directly from the Vue components:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nconst { $api } = useNuxtApp()\nconst { data: modules } = await useAsyncData(''modules'', () => $api(''/modules''))\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," $api "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," modules "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"modules"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $api"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/modules"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["callout",{},["p",{},"Wrapping with ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," ",["strong",{},"avoid double data fetching when doing server-side rendering"]," (server & client on hydration)."]],["h2",{"id":"custom-usefetchuseasyncdata"},"Custom ",["code",{},"useFetch"],"/",["code",{},"useAsyncData"]],["p",{},"Now that ",["code",{},"$api"]," has the logic we want, let''s create a ",["code",{},"useAPI"]," composable to replace the usage of ",["code",{},"useAsyncData"]," + ",["code",{},"$api"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { UseFetchOptions } from ''nuxt/app''\n\nexport function useAPI<T>(\n  url: string | (() => string),\n  options?: UseFetchOptions<T>,\n) {\n  return useFetch(url, {\n    ...options,\n    $fetch: useNuxtApp().$api as typeof $fetch\n  })\n}\n","filename":"app/composables/useAPI.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," UseFetchOptions"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/app"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," useAPI"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},">(\n"]],["span",{"class":"line","line":4},["span",{"class":"s1nJG"},"  url"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"s1nJG"},"  options"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," UseFetchOptions"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},">,\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"url"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    ..."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"    $fetch"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"$api"],["span",{"class":"s8R28"}," as"],["span",{"class":"sDfIl"}," typeof"],["span",{"class":"sZSNi"}," $fetch\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"Let''s use the new composable and have a nice and clean component:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nconst { data: modules } = await useAPI(''/modules'')\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," modules "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAPI"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/modules"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you want to customize the type of any error returned, you can also do so:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { FetchError } from ''ofetch''\nimport type { UseFetchOptions } from ''nuxt/app''\n\ninterface CustomError {\n  message: string\n  statusCode: number\n}\n\nexport function useAPI<T>(\n  url: string | (() => string),\n  options?: UseFetchOptions<T>,\n) {\n  return useFetch<T, FetchError<CustomError>>(url, {\n    ...options,\n    $fetch: useNuxtApp().$api\n  })\n}\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," FetchError"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"ofetch"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," UseFetchOptions"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt/app"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"interface"],["span",{"class":"s52Pk"}," CustomError"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  message"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," number\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," useAPI"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},">(\n"]],["span",{"class":"line","line":10},["span",{"class":"s1nJG"},"  url"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"s1nJG"},"  options"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," UseFetchOptions"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},">,\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"T"],["span",{"class":"sDfIl"},","],["span",{"class":"s52Pk"}," FetchError"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"CustomError"],["span",{"class":"sDfIl"},">>"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"url"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    ..."],["span",{"class":"sZSNi"},"options"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":15},["span",{"class":"sRlkE"},"    $fetch"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," useNuxtApp"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"$api\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"}\n"]]]],["note",{},["p",{},"This example demonstrates how to use a custom ",["code",{},"useFetch"],", but the same structure is identical for a custom ",["code",{},"useAsyncData"],"."]],["link-example",{"to":"/docs/examples/advanced/use-custom-fetch-composable"}],["video-accordion",{"title":"Watch a video about custom $fetch and Repository Pattern in Nuxt","video-id":"jXH8Tr-exhI"}],["note",{},["p",{},"We are currently discussing to find a cleaner way to let you create a custom fetcher, see ",["a",{"href":"https://github.com/nuxt/nuxt/issues/14736","rel":["nofollow"]},"https://github.com/nuxt/nuxt/issues/14736"],"."]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"custom-fetch","depth":2,"text":"Custom $fetch"},{"id":"custom-usefetchuseasyncdata","depth":2,"text":"Custom useFetch/useAsyncData"}]}}', 'How to create a custom fetcher for calling your external API in Nuxt.', 'md', NULL, '{}', '{"title":"Custom useFetch"}', '/nuxt/nuxtcore/live/guide/recipes/custom-usefetch', '{"title":"Custom useFetch in Nuxt","description":"How to create a custom fetcher for calling your external API in Nuxt."}', 'nuxt/nuxtcore/live/2.guide/4.recipes/3.custom-usefetch', NULL, 'GvqUO3o6MYQT-ZIpUa_gn6GKmGVhbYoziWwR9UTs7oU'); -- GvqUO3o6MYQT-ZIpUa_gn6GKmGVhbYoziWwR9UTs7oU
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/4.recipes/4.sessions-and-authentication.md', 'Sessions and Authentication', '{"type":"minimark","value":[["h2",{"id":"introduction"},"Introduction"],["p",{},"In this recipe we''ll be setting up authentication in a full-stack Nuxt app using ",["a",{"href":"https://github.com/Atinux/nuxt-auth-utils","rel":["nofollow"]},"Nuxt Auth Utils"]," which provides convenient utilities for managing client-side and server-side session data."],["p",{},"The module uses secured & sealed cookies to store session data, so you don''t need to setup a database to store session data."],["h2",{"id":"install-nuxt-auth-utils"},"Install nuxt-auth-utils"],["p",{},"Install the ",["code",{},"nuxt-auth-utils"]," module using the ",["code",{},"nuxt"]," CLI."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt module add auth-utils\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," auth-utils\n"]]]],["callout",{},["p",{},"This command will install ",["code",{},"nuxt-auth-utils"]," as dependency and push it in the ",["code",{},"modules"]," section of our ",["code",{},"nuxt.config.ts"]]],["h2",{"id":"cookie-encryption-key"},"Cookie Encryption Key"],["p",{},"As ",["code",{},"nuxt-auth-utils"]," uses sealed cookies to store session data, session cookies are encrypted using a secret key from the ",["code",{},"NUXT_SESSION_PASSWORD"]," environment variable."],["note",{},["p",{},"If not set, this environment variable will be added to your ",["code",{},".env"]," automatically when running in development mode."]],["pre",{"className":"language-ini shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"NUXT_SESSION_PASSWORD=a-random-password-with-at-least-32-characters\n","filename":".env","language":"ini","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sRlkE"},"NUXT_SESSION_PASSWORD"],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"},"a-random-password-with-at-least-32-characters\n"]]]],["important",{},["p",{},"You''ll need to add this environment variable to your production environment before deploying."]],["h2",{"id":"login-api-route"},"Login API Route"],["p",{},"For this recipe, we''ll create a simple API route to sign-in a user based on static data."],["p",{},"Let''s create a ",["code",{},"/api/login"]," API route that will accept a POST request with the email and password in the request body."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { z } from ''zod''\n\nconst bodySchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8)\n})\n\nexport default defineEventHandler(async (event) => {\n  const { email, password } = await readValidatedBody(event, bodySchema.parse)\n\n  if (email === ''admin@admin.com'' && password === ''iamtheadmin'') {\n    // set the user session in the cookie\n    // this server util is auto-imported by the auth-utils module\n    await setUserSession(event, {\n      user: {\n        name: ''John Doe''\n      }\n    })\n    return {}\n  }\n  throw createError({\n    statusCode: 401,\n    message: ''Bad credentials''\n  })\n})\n","filename":"server/api/login.post.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," z"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"zod"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," bodySchema "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," z"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"object"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  email"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," z"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"string"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"email"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  password"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," z"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"string"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"min"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"8"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," email"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," password"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," readValidatedBody"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," bodySchema"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"parse"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"email"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"admin@admin.com"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sZSNi"}," password"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"iamtheadmin"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"    // set the user session in the cookie\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"    // this server util is auto-imported by the auth-utils module\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"    await"],["span",{"class":"s3cPz"}," setUserSession"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":15},["span",{"class":"sRlkE"},"      user"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"        name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"John Doe"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":19},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":21},["span",{"class":"s8R28"},"  throw"],["span",{"class":"s3cPz"}," createError"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":22},["span",{"class":"sRlkE"},"    statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 401"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":23},["span",{"class":"sRlkE"},"    message"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Bad credentials"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":24},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":25},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["callout",{},["p",{},"Make sure to install the ",["code",{},"zod"]," dependency in your project (",["code",{},"npm i zod"],")."]],["tip",{"to":"https://github.com/atinux/nuxt-auth-utils#server-utils"},["p",{},"Read more about the ",["code",{},"setUserSession"]," server helper exposed by ",["code",{},"nuxt-auth-utils"],"."]],["h2",{"id":"login-page"},"Login Page"],["p",{},"The module exposes a Vue composable to know if a user is authenticated in our application:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nconst { loggedIn, session, user, clear, fetch } = useUserSession()\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," loggedIn"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," session"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," user"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," clear"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," fetch "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useUserSession"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Let''s create a login page with a form to submit the login data to our ",["code",{},"/api/login"]," route."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { loggedIn, user, fetch: refreshSession } = useUserSession()\nconst credentials = reactive({\n  email: '''',\n  password: '''',\n})\nasync function login() {\n  $fetch(''/api/login'', {\n    method: ''POST'',\n    body: credentials\n  })\n  .then(async () => {\n    // Refresh the session on client-side and redirect to the home page\n    await refreshSession()\n    await navigateTo(''/'')\n  })\n  .catch(() => alert(''Bad credentials''))\n}\n</script>\n\n<template>\n  <form @submit.prevent=\"login\">\n    <input v-model=\"credentials.email\" type=\"email\" placeholder=\"Email\" />\n    <input v-model=\"credentials.password\" type=\"password\" placeholder=\"Password\" />\n    <button type=\"submit\">Login</button>\n  </form>\n</template>\n","filename":"app/pages/login.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," loggedIn"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," user"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," fetch"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," refreshSession "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useUserSession"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," credentials "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," reactive"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  email"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  password"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," login"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"  $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/login"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"    method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"POST"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"    body"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," credentials\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  ."],["span",{"class":"s3cPz"},"then"],["span",{"class":"sRlkE"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"    // Refresh the session on client-side and redirect to the home page\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"    await"],["span",{"class":"s3cPz"}," refreshSession"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":15},["span",{"class":"s8R28"},"    await"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  ."],["span",{"class":"s3cPz"},"catch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," alert"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Bad credentials"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":20},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"form"],["span",{"class":"smZ93"}," @submit.prevent"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"login"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":23},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"input"],["span",{"class":"smZ93"}," v-model"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"credentials.email"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"email"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," placeholder"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"Email"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":24},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"input"],["span",{"class":"smZ93"}," v-model"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"credentials.password"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"password"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," placeholder"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"Password"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":25},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"submit"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Login"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":26},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"form"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":27},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"protect-api-routes"},"Protect API Routes"],["p",{},"Protecting server routes is key to making sure your data is safe. Client-side middleware is helpful for the user, but without server-side protection your data can still be accessed. It is critical to protect any routes with sensitive data, we should return a 401 error if the user is not logged in on those."],["p",{},"The ",["code",{},"auth-utils"]," module provides the ",["code",{},"requireUserSession"]," utility function to help make sure that users are logged in and have an active session."],["p",{},"Let''s create an example of a ",["code",{},"/api/user/stats"]," route that only authenticated users can access."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  // make sure the user is logged in\n  // This will throw a 401 error if the request doesn''t come from a valid user session\n  const { user } = await requireUserSession(event)\n\n  // TODO: Fetch some stats based on the user\n\n  return {}\n});\n","filename":"server/api/user/stats.get.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // make sure the user is logged in\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // This will throw a 401 error if the request doesn''t come from a valid user session\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," user"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," requireUserSession"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // TODO: Fetch some stats based on the user\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["h2",{"id":"protect-app-routes"},"Protect App Routes"],["p",{},"Our data is safe with the server-side route in place, but without doing anything else, unauthenticated users would probably get some odd data when trying to access the ",["code",{},"/users"]," page. We should create a ",["a",{"href":"https://nuxt.com/docs/guide/directory-structure/app/middleware","rel":["nofollow"]},"client-side middleware"]," to protect the route on the client side and redirect users to the login page."],["p",{},["code",{},"nuxt-auth-utils"]," provides a convenient ",["code",{},"useUserSession"]," composable which we''ll use to check if the user is logged in, and redirect them if they are not."],["p",{},"We''ll create a middleware in the ",["code",{},"/middleware"]," directory. Unlike on the server, client-side middleware is not automatically applied to all endpoints, and we''ll need to specify where we want it applied."],["pre",{"className":"language-typescript shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtRouteMiddleware(() => {\n  const { loggedIn } = useUserSession()\n\n  // redirect the user to the login screen if they''re not authenticated\n  if (!loggedIn.value) {\n    return navigateTo(''/login'')\n  }\n})\n","filename":"app/middleware/authenticated.ts","language":"typescript","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtRouteMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," loggedIn"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useUserSession"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // redirect the user to the login screen if they''re not authenticated\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sDfIl"},"!"],["span",{"class":"sZSNi"},"loggedIn"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"    return"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/login"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"home-page"},"Home Page"],["p",{},"Now that we have our app middleware to protect our routes, we can use it on our home page that display our authenticated user information. If the user is not authenticated, they will be redirected to the login page."],["p",{},"We''ll use ",["a",{"href":"/docs/api/utils/define-page-meta"},["code",{},"definePageMeta"]]," to apply the middleware to the route that we want to protect."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: [''authenticated''],\n})\n  \nconst { user, clear: clearSession } = useUserSession()\n\nasync function logout() {\n  await clearSession()\n  await navigateTo(''/login'')\n}\n</script>\n\n<template>\n  <div>\n    <h1>Welcome {{ user.name }}</h1>\n    <button @click=\"logout\">Logout</button>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  middleware"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"authenticated"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  \n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," user"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," clear"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," clearSession "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useUserSession"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," logout"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," clearSession"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/login"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Welcome {{ user.name }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"logout"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Logout"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"We also added a logout button to clear the session and redirect the user to the login page."],["h2",{"id":"conclusion"},"Conclusion"],["p",{},"We''ve successfully set up a very basic user authentication and session management in our Nuxt app. We''ve also protected sensitive routes on the server and client side to ensure that only authenticated users can access them."],["p",{},"As next steps, you can:"],["ul",{},["li",{},"Add authentication using the ",["a",{"href":"https://github.com/atinux/nuxt-auth-utils?tab=readme-ov-file#supported-oauth-providers","rel":["nofollow"]},"20+ supported OAuth providers"]],["li",{},"Add a database to store users, see ",["a",{"href":"https://nitro.build/guide/database","rel":["nofollow"]},"Nitro SQL Database"]," or ",["a",{"href":"https://hub.nuxt.com/docs/features/database","rel":["nofollow"]},"NuxtHub SQL Database"]],["li",{},"Let user signup with email & password using ",["a",{"href":"https://github.com/atinux/nuxt-auth-utils?tab=readme-ov-file#password-hashing","rel":["nofollow"]},"password hashing"]],["li",{},"Add support for ",["a",{"href":"https://github.com/atinux/nuxt-auth-utils?tab=readme-ov-file#webauthn-passkey","rel":["nofollow"]},"WebAuthn / Passkeys"]]],["p",{},"Checkout the open source ",["a",{"href":"https://github.com/atinux/atidone","rel":["nofollow"]},"atidone repository"]," for a full example of a Nuxt app with OAuth authentication, database and CRUD operations."],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"introduction","depth":2,"text":"Introduction"},{"id":"install-nuxt-auth-utils","depth":2,"text":"Install nuxt-auth-utils"},{"id":"cookie-encryption-key","depth":2,"text":"Cookie Encryption Key"},{"id":"login-api-route","depth":2,"text":"Login API Route"},{"id":"login-page","depth":2,"text":"Login Page"},{"id":"protect-api-routes","depth":2,"text":"Protect API Routes"},{"id":"protect-app-routes","depth":2,"text":"Protect App Routes"},{"id":"home-page","depth":2,"text":"Home Page"},{"id":"conclusion","depth":2,"text":"Conclusion"}]}}', 'Authentication is an extremely common requirement in web apps. This recipe will show you how to implement basic user registration and authentication in your Nuxt app.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/recipes/sessions-and-authentication', '{"title":"Sessions and Authentication","description":"Authentication is an extremely common requirement in web apps. This recipe will show you how to implement basic user registration and authentication in your Nuxt app."}', 'nuxt/nuxtcore/live/2.guide/4.recipes/4.sessions-and-authentication', NULL, '9ZpF_4wTUjoOERkTeDFDmrW76mNpuUc0gbHRIxCxKJY'); -- 9ZpF_4wTUjoOERkTeDFDmrW76mNpuUc0gbHRIxCxKJY
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/5.best-practices/.navigation.yml', 'Best Practices', '{"title":"Best Practices","titleTemplate":"%s · Best Practices","icon":"i-lucide-square-check"}', NULL, 'yml', NULL, '{"icon":"i-lucide-square-check"}', 'true', '/nuxt/nuxtcore/live/guide/best-practices/.navigation', '{"title":"Best Practices"}', 'nuxt/nuxtcore/live/2.guide/5.best-practices/.navigation', '%s · Best Practices', 'F_GIWtpjRMAWOhqU1VZibY7vGe_iHjMUaNnZKJi6L_s'); -- F_GIWtpjRMAWOhqU1VZibY7vGe_iHjMUaNnZKJi6L_s
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/5.best-practices/hydration.md', 'Nuxt and hydration', '{"type":"minimark","value":[["p",{},"When developing, you may face hydration issues. Don''t ignore those warnings."],["h1",{"id":"why-is-it-important-to-fix-them"},"Why is it important to fix them?"],["p",{},"Hydration mismatches are not just warnings - they are indicators of serious problems that can break your application:"],["h2",{"id":"performance-impact"},"Performance Impact"],["ul",{},["li",{},["strong",{},"Increased time to interactive"],": Hydration errors force Vue to re-render the entire component tree, which will increase the time for your Nuxt app to become interactive"],["li",{},["strong",{},"Poor user experience"],": Users may see content flashing or unexpected layout shifts"]],["h2",{"id":"functionality-issues"},"Functionality Issues"],["ul",{},["li",{},["strong",{},"Broken interactivity"],": Event listeners may not attach properly, leaving buttons and forms non-functional"],["li",{},["strong",{},"State inconsistencies"],": Application state can become out of sync between what the user sees and what the application thinks is rendered"],["li",{},["strong",{},"SEO problems"],": Search engines may index different content than what users actually see"]],["h1",{"id":"how-to-detect-them"},"How to detect them"],["h2",{"id":"development-console-warnings"},"Development Console Warnings"],["p",{},"Vue will log hydration mismatch warnings in the browser console during development:"],["p",{},["img",{"alt":"Screenshot of Vue hydration mismatch warning in the browser console","src":"/assets/docs/best-practices/vue-console-hydration.png"}]],["h1",{"id":"common-reasons"},"Common reasons"],["h2",{"id":"browser-only-apis-in-server-context"},"Browser-only APIs in Server Context"],["p",{},["strong",{},"Problem"],": Using browser-specific APIs during server-side rendering."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>User preference: {{ userTheme }}</div>\n</template>\n\n<script setup>\n// This will cause hydration mismatch!\n// localStorage doesn''t exist on the server!\nconst userTheme = localStorage.getItem(''theme'') || ''light''\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"User preference: {{ userTheme }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"// This will cause hydration mismatch!\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"// localStorage doesn''t exist on the server!\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," userTheme "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," localStorage"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getItem"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"theme"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},") "],["span",{"class":"sDfIl"},"||"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"light"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},["strong",{},"Solution"],": You can use ",["a",{"href":"/docs/api/composables/use-cookie"},["code",{},"useCookie"]],":"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>User preference: {{ userTheme }}</div>\n</template>\n\n<script setup>\n// This works on both server and client\nconst userTheme = useCookie(''theme'', { default: () => ''light'' })\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"User preference: {{ userTheme }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"// This works on both server and client\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," userTheme "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useCookie"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"theme"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"s3cPz"}," default"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"light"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"inconsistent-data"},"Inconsistent Data"],["p",{},["strong",{},"Problem"],": Different data between server and client."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>{{ Math.random() }}</div>\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ Math.random() }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},["strong",{},"Solution"],": Use SSR-friendly state:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>{{ state }}</div>\n</template>\n\n<script setup>\nconst state = useState(''random'', () => Math.random())\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ state }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," state "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"random"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," Math"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"random"],["span",{"class":"sZSNi"},"())\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"conditional-rendering-based-on-client-state"},"Conditional Rendering Based on Client State"],["p",{},["strong",{},"Problem"],": Using client-only conditions during SSR."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div v-if=\"window?.innerWidth > 768\">\n    Desktop content\n  </div>\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"window?.innerWidth > 768"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    Desktop content\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},["strong",{},"Solution"],": Use media queries or handle it client-side:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div class=\"responsive-content\">\n    <div class=\"hidden md:block\">Desktop content</div>\n    <div class=\"md:hidden\">Mobile content</div>\n  </div>\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"responsive-content"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"hidden md:block"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Desktop content"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"md:hidden"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Mobile content"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"third-party-libraries-with-side-effects"},"Third-party Libraries with Side Effects"],["p",{},["strong",{},"Problem"],": Libraries that modify the DOM or have browser dependencies (this happens a LOT with tag managers)."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nif (import.meta.client) {\n    const { default: SomeBrowserLibrary } = await import(''browser-only-lib'')\n    SomeBrowserLibrary.init()\n}\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"if"],["span",{"class":"sZSNi"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"client) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"    const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," default"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," SomeBrowserLibrary"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"browser-only-lib"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    SomeBrowserLibrary"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"init"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},["strong",{},"Solution"],": Initialise libraries after hydration has completed:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nonMounted(async () => {\n  const { default: SomeBrowserLibrary } = await import(''browser-only-lib'')\n  SomeBrowserLibrary.init()\n})\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"onMounted"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," default"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," SomeBrowserLibrary"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"browser-only-lib"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  SomeBrowserLibrary"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"init"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"dynamic-content-based-on-time"},"Dynamic Content Based on Time"],["p",{},["strong",{},"Problem"],": Content that changes based on current time."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>{{ greeting }}</div>\n</template>\n\n<script setup>\nconst hour = new Date().getHours()\nconst greeting = hour < 12 ? ''Good morning'' : ''Good afternoon''\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ greeting }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," hour "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getHours"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," greeting "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," hour "],["span",{"class":"sDfIl"},"<"],["span",{"class":"sYRBq"}," 12"],["span",{"class":"sDfIl"}," ?"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Good morning"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," :"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Good afternoon"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},["strong",{},"Solution"],": Use ",["a",{"href":"/docs/api/components/nuxt-time"},["code",{},"NuxtTime"]]," component or handle it client-side:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <NuxtTime :date=\"new Date()\" format=\"HH:mm\" />\n  </div>\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtTime"],["span",{"class":"smZ93"}," :date"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"new Date()"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," format"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"HH:mm"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <ClientOnly>\n      {{ greeting }}\n      <template #fallback>\n        Hello!\n      </template>\n    </ClientOnly>\n  </div>\n</template>\n\n<script setup>\nconst greeting = ref(''Hello!'')\n\nonMounted(() => {\n  const hour = new Date().getHours()\n  greeting.value = hour < 12 ? ''Good morning'' : ''Good afternoon''\n})\n</script>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"      {{ greeting }}\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"template"],["span",{"class":"smZ93"}," #fallback"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"        Hello!\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," greeting "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Hello!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":14},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":15},["span",{"class":"s3cPz"},"onMounted"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":16},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," hour"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getHours"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":17},["span",{"class":"sZSNi"},"  greeting"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," hour"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sYRBq"}," 12"],["span",{"class":"sDfIl"}," ?"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Good morning"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," :"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Good afternoon"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"in-summary"},"In summary"],["ol",{},["li",{},["strong",{},"Use SSR-friendly composables"],": ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]],", ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]],", ",["a",{"href":"/docs/api/composables/use-state"},["code",{},"useState"]]],["li",{},["strong",{},"Wrap client-only code"],": Use ",["a",{"href":"/docs/api/components/client-only"},["code",{},"ClientOnly"]]," component for browser-specific content"],["li",{},["strong",{},"Consistent data sources"],": Ensure server and client uses the same data"],["li",{},["strong",{},"Avoid side effects in setup"],": Move browser-dependent code to ",["code",{},"onMounted"]]],["tip",{},["p",{},"You can read the ",["a",{"href":"https://vuejs.org/guide/scaling-up/ssr.html#hydration-mismatch","rel":["nofollow"]},"Vue documentation on SSR hydration mismatch"]," for a better understanding of hydration."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"performance-impact","depth":2,"text":"Performance Impact"},{"id":"functionality-issues","depth":2,"text":"Functionality Issues"},{"id":"development-console-warnings","depth":2,"text":"Development Console Warnings"},{"id":"browser-only-apis-in-server-context","depth":2,"text":"Browser-only APIs in Server Context"},{"id":"inconsistent-data","depth":2,"text":"Inconsistent Data"},{"id":"conditional-rendering-based-on-client-state","depth":2,"text":"Conditional Rendering Based on Client State"},{"id":"third-party-libraries-with-side-effects","depth":2,"text":"Third-party Libraries with Side Effects"},{"id":"dynamic-content-based-on-time","depth":2,"text":"Dynamic Content Based on Time"},{"id":"in-summary","depth":2,"text":"In summary"}]}}', 'Why fixing hydration issues is important', 'md', NULL, '{}', '{"title":"Nuxt and hydration"}', '/nuxt/nuxtcore/live/guide/best-practices/hydration', '{"title":"Nuxt and hydration","description":"Why fixing hydration issues is important"}', 'nuxt/nuxtcore/live/2.guide/5.best-practices/hydration', NULL, 'Xp0JtIIusbhvvWNVgQCNdT7Mp9C9mLRksxvyDBtK9ns'); -- Xp0JtIIusbhvvWNVgQCNdT7Mp9C9mLRksxvyDBtK9ns
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/5.best-practices/performance.md', 'Nuxt performance', '{"type":"minimark","value":[["p",{},"Nuxt comes with built-in features designed to improve your application''s performance and contribute to better ",["a",{"href":"https://web.dev/articles/vitals","rel":["nofollow"]},"Core Web Vitals"],". There are also multiple Nuxt core modules that assist in improving performance in specific areas. This guide outlines best practices to optimize performance of your Nuxt application."],["h2",{"id":"built-in-features"},"Built-in Features"],["p",{},"Nuxt offers several built-in features that help you optimize performance of your website. Understanding how these features work is crucial for achieving blazingly-fast performance."],["h3",{"id":"links"},"Links"],["p",{},["a",{"href":"/docs/api/components/nuxt-link"},["code",{},"<NuxtLink>"]]," is a drop-in replacement for both Vue Router''s ",["code",{},"<RouterLink>"]," component and HTML''s ",["code",{},"<a>"]," tag. It intelligently determines whether the link is internal or external and renders it accordingly with available optimizations (prefetching, default attributes, etc.)"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtLink to=\"/about\">About page</NuxtLink>\n</template>\n\n<!-- Which will render to with Vue Router & Smart Prefetching -->\n<a href=\"/about\">About page</a>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/about"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"<!-- Which will render to with Vue Router & Smart Prefetching -->\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"a"],["span",{"class":"smZ93"}," href"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/about"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"a"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Nuxt automatically includes smart prefetching. That means it detects when a link is visible (by default), either in the viewport or when scrolling and prefetches the JavaScript for those pages so that they are ready when the user clicks the link."],["p",{},"You can also opt for prefetching on interaction instead:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    defaults: {\n      nuxtLink: {\n        prefetchOn: ''interaction'',\n      },\n    }\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    defaults"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      nuxtLink"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        prefetchOn"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"interaction"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"title":"NuxtLink","to":"/docs/api/components/nuxt-link"}],["h3",{"id":"hybrid-rendering"},"Hybrid Rendering"],["p",{},"In more complex applications, we may need a full control over how our application is rendered to support cases where some pages could be generated at build time, while others should be client-side rendered"],["p",{},"Hybrid rendering allows different caching rules per route using Route Rules and decides how the server should respond to a new request on a given URL:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  routeRules: {\n    ''/'': {\n      prerender: true\n    },\n    ''/products/**'': {\n      swr: 3600\n    },\n    ''/blog'': {\n      isr: 3600\n    },\n    ''/admin/**'': {\n      ssr: false\n    },\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  routeRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/products/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      swr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 3600\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/blog"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      isr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 3600\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/admin/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"sRlkE"},"      ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Nuxt server will automatically register corresponding middleware and wrap routes with cache handlers using Nitro caching layer."],["read-more",{"title":"Hybrid rendering","to":"/docs/guide/concepts/rendering#hybrid-rendering"}],["h3",{"id":"lazy-loading-components"},"Lazy Loading Components"],["p",{},"To dynamically import a component (also known as lazy-loading a component) all you need to do is add the Lazy prefix to the component''s name. This is useful if the component is not always needed."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst show = ref(false)\n</script>\n\n<template>\n  <div>\n    <h1>Mountains</h1>\n    <LazyMountainsList v-if=\"show\" />\n    <button v-if=\"!show\" @click=\"show = true\">Show List</button>\n  </div>\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," show "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"false"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Mountains"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMountainsList"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"show"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"!show"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"show = true"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Show List"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"By using the Lazy prefix you can delay loading the component code until the right moment, which can be helpful for optimizing your JavaScript bundle size."],["read-more",{"title":"Lazy loading components","to":"/docs/guide/directory-structure/app/components#dynamic-imports"}],["h3",{"id":"lazy-hydration"},"Lazy Hydration"],["p",{},"It is not always necessary to hydrate (or make interactive) all the components of your site on the initial load. Using lazy hydration, you can control when components can have their code loaded, which can improve the time-to-interactive metric for your app. Nuxt allows you to control when components become interactive with lazy hydration (added in Nuxt v3.16)."],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <LazyMyComponent hydrate-on-visible />\n  </div>\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"LazyMyComponent"],["span",{"class":"smZ93"}," hydrate-on-visible"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"To optimize your app, you may want to delay the hydration of some components until they''re visible, or until the browser is done with more important tasks."],["read-more",{"title":"Lazy hydration","to":"/docs/guide/directory-structure/app/components#delayed-or-lazy-hydration"}],["h3",{"id":"fetching-data"},"Fetching data"],["p",{},"To avoid fetching same data twice (once on the server and once on client) Nuxt provides ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," and ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]],". They ensure that if an API call is made on the server, the data is forwarded to the client in the payload instead of being fetched again."],["read-more",{"title":"Data fetching","to":"/docs/getting-started/data-fetching"}],["h2",{"id":"core-nuxt-modules"},"Core Nuxt Modules"],["p",{},"Apart from Nuxt''s built-in features, there are also core modules maintained by the Nuxt team which help improve performance even further. These modules help handle assets such as images, custom fonts, or third party scripts."],["h3",{"id":"images"},"Images"],["p",{},"Unoptimized images can have a significant negative impact on your website performance, specifically the ",["a",{"href":"https://web.dev/articles/lcp","rel":["nofollow"]},"Largest Contentful Paint (LCP)"]," score."],["p",{},"In Nuxt we can use ",["a",{"href":"https://image.nuxt.com/","rel":["nofollow"]},"Nuxt Image"]," module that is a plug-and-play image optimization for Nuxt apps. It allows resizing and transforming your images using built-in optimizer or your favorite images CDN."],["video-accordion",{"title":"Watch the video by LearnVue about Nuxt Image","video-id":"_UBff2eqGY0"}],["p",{},["a",{"href":"/docs/api/components/nuxt-img"},["code",{},"<NuxtImg>"]]," is a drop-in replacement for the native ",["code",{},"<img>"]," tag that comes with following enhancements:"],["ul",{},["li",{},"Uses built-in provider to optimize local and remote images"],["li",{},"Converts ",["code",{},"src"]," to provider optimized URLs with modern formats such as WebP or Avif"],["li",{},"Automatically resizes images based on ",["code",{},"width"]," and ",["code",{},"height"]],["li",{},"Generates responsive ",["code",{},"sizes"]," when providing sizes option"],["li",{},"Supports native ",["code",{},"lazy loading"]," as well as other ",["code",{},"<img>"]," attributes"]],["p",{},"Images in your website can usually be separated by importance; the ones that are needed to be delivered first at initial load (i.e. ",["code",{},"Largest Contentful Paint"],"), and the ones that can be loaded later or when specifically needed. For that, we could use the following optimizations:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <!-- 🚨 Needs to be loaded ASAP -->\n  <NuxtImg\n    src=\"/hero-banner.jpg\"\n    format=\"webp\"\n    preload\n    loading=\"eager\"\n    fetch-priority=\"high\"\n    width=\"200\"\n    height=\"100\"\n  />\n\n  <!-- 🐌 Can be loaded later -->\n  <NuxtImg\n    src=\"/facebook-logo.jpg\"\n    format=\"webp\"\n    loading=\"lazy\"\n    fetch-priority=\"low\"\n    width=\"200\"\n    height=\"100\"\n  />\n</template>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  <!-- 🚨 Needs to be loaded ASAP -->\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtImg\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"    src"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/hero-banner.jpg"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    format"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"webp"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"    preload\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"    loading"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"eager"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"    fetch-priority"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"high"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":9},["span",{"class":"smZ93"},"    width"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"200"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":10},["span",{"class":"smZ93"},"    height"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"100"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  />\n"]],["span",{"class":"line","line":12},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"  <!-- 🐌 Can be loaded later -->\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtImg\n"]],["span",{"class":"line","line":15},["span",{"class":"smZ93"},"    src"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/facebook-logo.jpg"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":16},["span",{"class":"smZ93"},"    format"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"webp"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":17},["span",{"class":"smZ93"},"    loading"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"lazy"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":18},["span",{"class":"smZ93"},"    fetch-priority"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"low"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":19},["span",{"class":"smZ93"},"    width"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"200"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":20},["span",{"class":"smZ93"},"    height"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"100"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"  />\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"title":"Nuxt Image","to":"https://image.nuxt.com/usage/nuxt-img"}],["h3",{"id":"fonts"},"Fonts"],["p",{},["a",{"href":"https://fonts.nuxt.com/","rel":["nofollow"]},"Nuxt Fonts"]," will automatically optimize your fonts (including custom fonts) and remove external network requests for improved privacy and performance."],["p",{},"It includes built-in automatic self-hosting for any font file which means you can optimally load web fonts with reduced layout shift, thanks to the underlying package ",["a",{"href":"https://github.com/unjs/fontaine","rel":["nofollow"]},"fontaine"],"."],["video-accordion",{"title":"Watch the talk by Daniel Roe about the idea behind Nuxt Fonts","video-id":"D3F683UViBY"}],["p",{},"Nuxt Fonts processes all your CSS and does the following things automatically when it encounters a font-family declaration."],["ol",{},["li",{},["strong",{},"Resolves fonts"]," – Looks for font files in public/, then checks web providers like Google, Bunny, and Fontshare."],["li",{},["strong",{},"Generates @font-face rules"]," – Injects CSS rules to load fonts from the correct sources."],["li",{},["strong",{},"Proxies & caches fonts"]," – Rewrites URLs to ",["code",{},"/_fonts"],", downloads and caches fonts locally."],["li",{},["strong",{},"Creates fallback metrics"]," – Adjusts local system fonts to match web fonts, reducing layout shift (",["a",{"href":"https://web.dev/articles/cls","rel":["nofollow"]},"CLS"],")."],["li",{},["strong",{},"Includes fonts in build"]," – Bundles fonts with your project, hashing file names and setting long-lived cache headers."]],["p",{},"It supports multiple providers that are designed to be pluggable and extensible, so no matter your setup you should be able to use an existing provider or write your own."],["h3",{"id":"scripts"},"Scripts"],["p",{},"Third-party resources like analytics tools, video embeds, maps, and social media integrations enhance website functionality but can significantly degrade user experience and negatively impact ",["a",{"href":"https://web.dev/articles/inp","rel":["nofollow"]},"Interaction to Next Paint (INP)"]," and Largest Contentful Paint (LCP) scores."],["p",{},["a",{"href":"https://scripts.nuxt.com/","rel":["nofollow"]},"Nuxt Scripts"]," lets you load third-party scripts with better performance, privacy, security and DX."],["video-accordion",{"title":"Watch the video by Alex Lichter about Nuxt Scripts","video-id":"sjMqUUvH9AE"}],["p",{},"Nuxt Scripts provides an abstraction layer on top of third-party scripts, providing SSR support and type-safety and while still giving you full low-level control over how a script is loaded."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const { onLoaded, proxy } = useScriptGoogleAnalytics(\n  { \n    id: ''G-1234567'',\n    scriptOptions: {\n      trigger: ''manual'',\n    },\n  },\n)\n// queue events to be sent when ga loads\nproxy.gtag(''config'', ''UA-123456789-1'')\n// or wait until ga is loaded\nonLoaded((gtag) => {\n  // script loaded\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," onLoaded"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," proxy "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useScriptGoogleAnalytics"],["span",{"class":"sZSNi"},"(\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  {"],["span",{"class":"sZSNi"}," \n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    id"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"G-1234567"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    scriptOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      trigger"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"manual"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"// queue events to be sent when ga loads\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"proxy"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"gtag"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"config"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"UA-123456789-1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"// or wait until ga is loaded\n"]],["span",{"class":"line","line":12},["span",{"class":"s3cPz"},"onLoaded"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"gtag"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"  // script loaded\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"title":"Nuxt Scripts","to":"https://scripts.nuxt.com/scripts"}],["h2",{"id":"profiling-tools"},"Profiling Tools"],["p",{},"To improve performance, we need to first know how to measure it, starting with measuring performance during development - on local environment, and then moving to auditing application that are deployed on production."],["h3",{"id":"nuxi-analyze"},"Nuxi Analyze"],["p",{},["a",{"href":"/docs/api/commands/analyze"},"This"]," command of ",["code",{},"nuxi"]," allows to analyze the production bundle or your Nuxt application. It leverages ",["code",{},"vite-bundle-visualizer"]," (similar to ",["code",{},"webpack-bundle-analyzer"],") to generate a visual representation of your application''s bundle, making it easier to identify which components take up the most space."],["p",{},"When you see a large block in the visualization, it often signals an opportunity for optimization—whether by splitting it into smaller parts, implementing lazy loading, or replacing it with a more efficient alternative, especially for third-party libraries."],["p",{},"Large blocks containing multiple elements can often be reduced by importing only the necessary components rather than entire modules while large standalone blocks may be better suited for lazy loading rather than being included in the main bundle."],["h3",{"id":"nuxt-devtools"},"Nuxt DevTools"],["p",{},"The ",["a",{"href":"https://devtools.nuxt.com/","rel":["nofollow"]},"Nuxt DevTools"]," gives you insights and transparency about your Nuxt App to identify performance gaps and seamlessly manage your app configurations."],["p",{},["img",{"alt":"Nuxt DevTools example","src":"https://user-images.githubusercontent.com/11247099/217670806-fb39aeff-3881-44e5-b9c8-6c757f5925fc.png"}]],["p",{},"It comes with several features we can use to measure performance of Nuxt apps:"],["ol",{},["li",{},["strong",{},"Timeline"]," – Tracks time spent on rendering, updating, and initializing components to identify performance bottlenecks."],["li",{},["strong",{},"Assets"]," – Displays file sizes (e.g., images) without transformations."],["li",{},["strong",{},"Render Tree"]," – Shows connections between Vue components, scripts, and styles to optimize dynamic loading."],["li",{},["strong",{},"Inspect"]," – Lists all files used in the Vue app with their size and evaluation time."]],["h3",{"id":"chrome-devtools"},"Chrome DevTools"],["p",{},"Chrome DevTools come with two useful tabs for measuring performance; ",["code",{},"Performance"]," and ",["code",{},"Lighthouse"],"."],["p",{},"When you open the ",["a",{"href":"https://developer.chrome.com/docs/devtools/performance/overview","rel":["nofollow"]},"Performance"]," panel, it instantly shows your local ",["strong",{},"Largest Contentful Paint (LCP)"]," and ",["strong",{},"Cumulative Layout Shift (CLS)"]," scores (good, needs improvement, or bad)."],["p",{},"If you interact with the page, it also captures ",["strong",{},"Interaction to Next Paint (INP)"],", giving you a full view of your Core Web Vitals based on your device and network."],["p",{},["img",{"alt":"Chrome DevTools Performance Panel","src":"https://developer.chrome.com/static/docs/devtools/performance/image/cpu-throttling_856.png"}]],["p",{},["a",{"href":"https://developer.chrome.com/docs/devtools/lighthouse","rel":["nofollow"]},"Lighthouse"]," audits performance, accessibility, SEO, progressive web apps, and best practices. It runs tests on your page and generates a report. Use failing audits as a guide to improve your site."],["p",{},["img",{"alt":"Lighthouse","src":"https://developer.chrome.com/static/docs/lighthouse/images/lighthouse-overview_720.png"}]],["p",{},"Each audit has a reference document explaining why the audit is important, as well as how to fix it."],["h3",{"id":"pagespeed-insights"},"PageSpeed Insights"],["p",{},["a",{"href":"https://developers.google.com/speed/docs/insights/v5/about","rel":["nofollow"]},"PageSpeed Insights (PSI)"]," reports on the user experience of a page on both mobile and desktop devices, and provides suggestions on how that page may be improved."],["p",{},"It provides both lab and field data about a page. Lab data is useful for debugging issues, as it is collected in a controlled environment while field data is useful for capturing true, real-world user experience."],["h3",{"id":"web-page-test"},"Web Page Test"],["p",{},["a",{"href":"https://www.webpagetest.org/","rel":["nofollow"]},"WebPageTest"]," is a web performance tool providing deep diagnostic information about how a page performs under a variety of conditions."],["p",{},"Each test can be run from different locations around the world, on real browsers, over any number of customizable network conditions."],["h2",{"id":"common-problems"},"Common problems"],["p",{},"When building more complex Nuxt applications, you will probably encounter some of the problems listed below. Understanding these problems and fixing them will help you improve performance of your website."],["h3",{"id":"overusing-plugins"},"Overusing plugins"],["p",{},["strong",{},"Problem"],": A large number of plugins can cause performance issues, especially if they require expensive computations or take too long to initialize. Since plugins run during the hydration phase, inefficient setups can block rendering and degrade the user experience."],["p",{},["strong",{},"Solution"],": Inspect your plugins and see if some of them could be implemented rather as a composable or utility function instead."],["h3",{"id":"unused-code-dependencies"},"Unused code / dependencies"],["p",{},["strong",{},"Problem"],": With the development of the project, there can be a case where there will be some unused code or a dependency. This additional functionality may not be used or needed while it will be increase the bundle size of our project."],["p",{},["strong",{},"Solution"],": Inspect your ",["code",{},"package.json"]," for unused dependencies and analyze your code for unused utils/composables/functions."],["h3",{"id":"not-using-vue-performance-tips"},"Not using Vue Performance tips"],["p",{},["strong",{},"Problem"],": ",["a",{"href":"https://vuejs.org/guide/best-practices/performance","rel":["nofollow"]},"Vue documentation"]," lists several Performance improvements we can use in our Nuxt projects as well but as they are part of Vue documentation, developers tend to forget about it and focus on Nuxt specific improvements only - while Nuxt application is still a Vue project."],["p",{},["strong",{},"Solution"],": Use concepts such as ",["code",{},"shallowRef"],", ",["code",{},"v-memo"],", ",["code",{},"v-once"],", etc to improve performance."],["h3",{"id":"not-following-patterns"},"Not following patterns"],["p",{},["strong",{},"Problem"],": The more people are currently working on the project, the more difficult it will be to maintain the stable codebase. Developers have a tendency to introduce new concepts they''ve seen in another project which can cause conflicts and problems with performance."],["p",{},["strong",{},"Solution"],": Establish rules and patterns in the project such as ",["a",{"href":"https://dev.to/jacobandrewsky/good-practices-and-design-patterns-for-vue-composables-24lk","rel":["nofollow"]},"Good practices and Design Patterns for Vue Composables"]],["h3",{"id":"trying-to-load-everything-at-the-same-time"},"Trying to load everything at the same time"],["p",{},["strong",{},"Problem"],": When a page is loaded and it is not correctly instructed about the order of loading elements it will result in fetching everything at the same time - which can be slow and result in bad User Experience."],["p",{},["strong",{},"Solution"],": Use concepts such as Progressive Enhancement where core webpage content is set first, then more nuanced and technically rigorous layers of presentation and features are added on top as the browser/internet connection allow."],["h2",{"id":"useful-resources"},"Useful Resources"],["p",{},"To learn more about various techniques for improving performance, take a look at the following resources:"],["ol",{},["li",{},["a",{"href":"https://web.dev/articles/apply-instant-loading-with-prpl","rel":["nofollow"]},"Apply instant loading with the PRPL pattern"]],["li",{},["a",{"href":"https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Performance/Perceived_performance","rel":["nofollow"]},"Perceived performance"]],["li",{},["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/Performance/Guides/Critical_rendering_path","rel":["nofollow"]},"Understanding Critical Rendering Path"]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"built-in-features","depth":2,"text":"Built-in Features","children":[{"id":"links","depth":3,"text":"Links"},{"id":"hybrid-rendering","depth":3,"text":"Hybrid Rendering"},{"id":"lazy-loading-components","depth":3,"text":"Lazy Loading Components"},{"id":"lazy-hydration","depth":3,"text":"Lazy Hydration"},{"id":"fetching-data","depth":3,"text":"Fetching data"}]},{"id":"core-nuxt-modules","depth":2,"text":"Core Nuxt Modules","children":[{"id":"images","depth":3,"text":"Images"},{"id":"fonts","depth":3,"text":"Fonts"},{"id":"scripts","depth":3,"text":"Scripts"}]},{"id":"profiling-tools","depth":2,"text":"Profiling Tools","children":[{"id":"nuxi-analyze","depth":3,"text":"Nuxi Analyze"},{"id":"nuxt-devtools","depth":3,"text":"Nuxt DevTools"},{"id":"chrome-devtools","depth":3,"text":"Chrome DevTools"},{"id":"pagespeed-insights","depth":3,"text":"PageSpeed Insights"},{"id":"web-page-test","depth":3,"text":"Web Page Test"}]},{"id":"common-problems","depth":2,"text":"Common problems","children":[{"id":"overusing-plugins","depth":3,"text":"Overusing plugins"},{"id":"unused-code-dependencies","depth":3,"text":"Unused code / dependencies"},{"id":"not-using-vue-performance-tips","depth":3,"text":"Not using Vue Performance tips"},{"id":"not-following-patterns","depth":3,"text":"Not following patterns"},{"id":"trying-to-load-everything-at-the-same-time","depth":3,"text":"Trying to load everything at the same time"}]},{"id":"useful-resources","depth":2,"text":"Useful Resources"}]}}', 'Best practices for improving performance of Nuxt apps.', 'md', NULL, '{}', '{"title":"Nuxt Performance"}', '/nuxt/nuxtcore/live/guide/best-practices/performance', '{"title":"Nuxt performance","description":"Best practices for improving performance of Nuxt apps."}', 'nuxt/nuxtcore/live/2.guide/5.best-practices/performance', NULL, 'sGev_kYUQ7fuPkgQz9TzWpnGMEVuX8uGYnGh0967_2M'); -- sGev_kYUQ7fuPkgQz9TzWpnGMEVuX8uGYnGh0967_2M
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/5.best-practices/plugins.md', 'Nuxt Plugins', '{"type":"minimark","value":[["p",{},"Plugins in Nuxt allow you to extend your application with additional functionality. However, improper use can lead to performance bottlenecks. This guide outlines best practices to optimize your Nuxt plugins."],["h2",{"id":"avoid-costly-plugin-setup"},"Avoid costly plugin setup"],["p",{},"A large number of plugins can cause performance issues, especially if they require expensive computations or take too long to initialize. Since plugins run during the hydration phase, inefficient setups can block rendering and degrade the user experience."],["h2",{"id":"use-composition-whenever-possible"},"Use Composition whenever possible"],["p",{},"Whenever possible, favor composition over plugins. Just like in Vue, many utilities and composables can be used directly without the need for a plugin. This keeps your project lightweight and improves maintainability."],["h2",{"id":"if-async-enable-parallel"},"If ",["code",{},"async"],", enable ",["code",{},"parallel"]],["p",{},"By default, all plugins loads synchronously.\nWhen defining asynchronous plugins, setting ",["code",{},"parallel: true"]," allows multiple plugins to load concurrently, improving performance by preventing blocking operations."]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"avoid-costly-plugin-setup","depth":2,"text":"Avoid costly plugin setup"},{"id":"use-composition-whenever-possible","depth":2,"text":"Use Composition whenever possible"},{"id":"if-async-enable-parallel","depth":2,"text":"If async, enable parallel"}]}}', 'Best practices when using Nuxt plugins.', 'md', NULL, '{}', '{"title":"Nuxt Plugins"}', '/nuxt/nuxtcore/live/guide/best-practices/plugins', '{"title":"Nuxt Plugins","description":"Best practices when using Nuxt plugins."}', 'nuxt/nuxtcore/live/2.guide/5.best-practices/plugins', NULL, 'Yd33pvJVbrx6aqokUeCm-13FncS0wAP-r2FRmiDcEl4'); -- Yd33pvJVbrx6aqokUeCm-13FncS0wAP-r2FRmiDcEl4
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/3.api/.navigation.yml', 'API', '{"title":"API","titleTemplate":"%s · Nuxt API","icon":"i-lucide-code-xml"}', NULL, 'yml', NULL, '{"icon":"i-lucide-code-xml"}', 'true', '/nuxt/nuxtcore/live/api/.navigation', '{"title":"API"}', 'nuxt/nuxtcore/live/3.api/.navigation', '%s · Nuxt API', 'JMmqhU9Zjs7Kve8MX2wOxjn67O3FvfRiX5PfeSUOlr8'); -- JMmqhU9Zjs7Kve8MX2wOxjn67O3FvfRiX5PfeSUOlr8
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/3.api/1.components/.navigation.yml', 'Components', '{"title":"Components","titleTemplate":"%s · Nuxt Components","icon":"i-lucide-box"}', NULL, 'yml', NULL, '{"icon":"i-lucide-box"}', 'true', '/nuxt/nuxtcore/live/api/components/.navigation', '{"title":"Components"}', 'nuxt/nuxtcore/live/3.api/1.components/.navigation', '%s · Nuxt Components', 'lNglFp5bG6kSDpWp5EsQahjTPtEw1Pyich5p8aKdCoM'); -- lNglFp5bG6kSDpWp5EsQahjTPtEw1Pyich5p8aKdCoM
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/3.api/1.components/1.client-only.md', '<ClientOnly>', '{"type":"minimark","value":[["p",{},"The ",["code",{},"<ClientOnly>"]," component is used for purposely rendering a component only on client side."],["note",{},["p",{},"The content of the default slot will be tree-shaken out of the server build. (This does mean that any CSS used by components within it may not be inlined when rendering the initial HTML.)"]],["h2",{"id":"props"},"Props"],["ul",{},["li",{},["code",{},"placeholderTag"]," | ",["code",{},"fallbackTag"],": specify a tag to be rendered server-side."],["li",{},["code",{},"placeholder"]," | ",["code",{},"fallback"],": specify a content to be rendered server-side."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <Sidebar />\n    <!-- The <Comment> component will only be rendered on client-side -->\n    <ClientOnly fallback-tag=\"span\" fallback=\"Loading comments...\">\n      <Comment />\n    </ClientOnly>\n  </div>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Sidebar"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"    <!-- The <Comment> component will only be rendered on client-side -->\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"smZ93"}," fallback-tag"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"span"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," fallback"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"Loading comments..."],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"Comment"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"slots"},"Slots"],["ul",{},["li",{},["code",{},"#fallback"],": specify a content to be rendered on the server and displayed until ",["code",{},"<ClientOnly>"]," is mounted in the browser."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <Sidebar />\n    <!-- This renders the \"span\" element on the server side -->\n    <ClientOnly fallbackTag=\"span\">\n      <!-- this component will only be rendered on client side -->\n      <Comments />\n      <template #fallback>\n        <!-- this will be rendered on server side -->\n        <p>Loading comments...</p>\n      </template>\n    </ClientOnly>\n  </div>\n</template>\n","filename":"app/pages/example.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Sidebar"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"    <!-- This renders the \"span\" element on the server side -->\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"smZ93"}," fallbackTag"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"span"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      <!-- this component will only be rendered on client side -->\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"Comments"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"}," #"],["span",{"class":"smZ93"},"fallback"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"        <!-- this will be rendered on server side -->\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"        <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Loading comments..."],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"examples"},"Examples"],["h3",{"id":"accessing-html-elements"},"Accessing HTML Elements"],["p",{},"Components inside ",["code",{},"<ClientOnly>"]," are rendered only after being mounted. To access the rendered elements in the DOM, you can watch a template ref:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst nuxtWelcomeRef = useTemplateRef(''nuxtWelcomeRef'')\n\n// The watch will be triggered when the component is available\nwatch(nuxtWelcomeRef, () => {\n console.log(''<NuxtWelcome /> mounted'')\n}, { once: true })\n</script>\n\n<template>\n  <ClientOnly>\n    <NuxtWelcome ref=\"nuxtWelcomeRef\" />\n  </ClientOnly>\n</template>\n","filename":"app/pages/example.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," nuxtWelcomeRef "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useTemplateRef"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"nuxtWelcomeRef"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// The watch will be triggered when the component is available\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"watch"],["span",{"class":"sZSNi"},"(nuxtWelcomeRef"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"}," console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"<NuxtWelcome /> mounted"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"},"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," once"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtWelcome"],["span",{"class":"smZ93"}," ref"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"nuxtWelcomeRef"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"ClientOnly"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"props","depth":2,"text":"Props"},{"id":"slots","depth":2,"text":"Slots"},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"accessing-html-elements","depth":3,"text":"Accessing HTML Elements"}]}]}}', 'Render components only in client-side with the <ClientOnly> component.', 'md', '[{"label":"Source","icon":"i-simple-icons-github","to":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/components/client-only.ts","size":"xs"}]', '{}', 'true', '/nuxt/nuxtcore/live/api/components/client-only', '{"title":"<ClientOnly>","description":"Render components only in client-side with the <ClientOnly> component."}', 'nuxt/nuxtcore/live/3.api/1.components/1.client-only', NULL, 'YcBRRb84Z8TP2knyFtHS-DeIUjUMYxpKPdfd2ffaEKU'); -- YcBRRb84Z8TP2knyFtHS-DeIUjUMYxpKPdfd2ffaEKU