DROP TABLE IF EXISTS _content_info;
CREATE TABLE IF NOT EXISTS _content_info (id TEXT PRIMARY KEY, "ready" BOOLEAN, "structureVersion" VARCHAR, "version" VARCHAR, "__hash__" TEXT UNIQUE); -- structure
INSERT INTO _content_info VALUES ('checksum_nuxtcore', false, 'GpQXtrya3jYzTAk0_JgoxbS9lx0FvVDXaf0cSeNEXQ8', 'v3.5.0--d5co43wiAdY__K-hco2mFx8TciBIgZevzUNZUHU-9rw', 'VHqeNUPjD7Ix_TOy0pPVLoO1qFTjpsSwenCjpdPUK3E'); -- meta
DROP TABLE IF EXISTS _content_nuxtcore; -- structure
CREATE TABLE IF NOT EXISTS _content_nuxtcore (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "description" VARCHAR, "extension" VARCHAR, "links" TEXT, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "seo" TEXT DEFAULT '{}', "stem" VARCHAR, "titleTemplate" VARCHAR NULL, "__hash__" TEXT UNIQUE); -- structure
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/.navigation.yml', 'Docs', '{"title":"Docs","icon":"i-lucide-book-marked"}', NULL, 'yml', NULL, '{"icon":"i-lucide-book-marked"}', 'true', '/nuxt/nuxtcore/live/.navigation', '{"title":"Docs"}', 'nuxt/nuxtcore/live/.navigation', NULL, 'w8_7ZjlKUG-zPdtHrWDnKb7QJC5EeZXpymPDwpqjik8'); -- w8_7ZjlKUG-zPdtHrWDnKb7QJC5EeZXpymPDwpqjik8
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/.navigation.yml', 'Get Started', '{"title":"Get Started","titleTemplate":"%s · Get Started with Nuxt","icon":"i-lucide-rocket"}', NULL, 'yml', NULL, '{"icon":"i-lucide-rocket"}', 'true', '/nuxt/nuxtcore/live/getting-started/.navigation', '{"title":"Get Started"}', 'nuxt/nuxtcore/live/1.getting-started/.navigation', '%s · Get Started with Nuxt', 'CRmr5q7M51hxBZ_HX_t6_pZeVRwwqibcgxS4DBSAEqg'); -- CRmr5q7M51hxBZ_HX_t6_pZeVRwwqibcgxS4DBSAEqg
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/01.introduction.md', 'Introduction', '{"type":"minimark","value":[["p",{},"Nuxt is a free and ",["a",{"href":"https://github.com/nuxt/nuxt","rel":["nofollow"]},"open-source framework"]," with an intuitive and extendable way to create type-safe, performant and production-grade full-stack web applications and websites with ",["a",{"href":"https://vuejs.org","rel":["nofollow"]},"Vue.js"],"."],["p",{},"We made everything so you can start writing ",["code",{},".vue"]," files from the beginning while enjoying hot module replacement in development and a performant application in production with server-side rendering by default."],["p",{},"Nuxt has no vendor lock-in, allowing you to deploy your application ",["a",{"href":"/blog/nuxt-on-the-edge"},["strong",{},"everywhere, even on the edge"]],"."],["tip",{},["p",{},"If you want to play around with Nuxt in your browser, you can ",["a",{"href":"/docs/getting-started/installation#play-online"},"try it out in one of our online sandboxes"],"."]],["h2",{"id":"automation-and-conventions"},"Automation and Conventions"],["p",{},"Nuxt uses conventions and an opinionated directory structure to automate repetitive tasks and allow developers to focus on pushing features. The configuration file can still customize and override its default behaviors."],["ul",{},["li",{},["strong",{},"File-based routing:"]," define routes based on the structure of your ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]," directory"],". This can make it easier to organize your application and avoid the need for manual route configuration."],["li",{},["strong",{},"Code splitting:"]," Nuxt automatically splits your code into smaller chunks, which can help reduce the initial load time of your application."],["li",{},["strong",{},"Server-side rendering out of the box:"]," Nuxt comes with built-in SSR capabilities, so you don''t have to set up a separate server yourself."],["li",{},["strong",{},"Auto-imports:"]," write Vue composables and components in their respective directories and use them without having to import them with the benefits of tree-shaking and optimized JS bundles."],["li",{},["strong",{},"Data-fetching utilities:"]," Nuxt provides composables to handle SSR-compatible data fetching as well as different strategies."],["li",{},["strong",{},"Zero-config TypeScript support:"]," write type-safe code without having to learn TypeScript with our auto-generated types and ",["code",{},"tsconfig.json"],"."],["li",{},["strong",{},"Configured build tools:"]," we use ",["a",{"href":"https://vite.dev","rel":["nofollow"]},"Vite"]," by default to support hot module replacement (HMR) in development and bundling your code for production with best-practices baked-in."]],["p",{},"Nuxt takes care of these and provides both frontend and backend functionality so you can focus on what matters: ",["strong",{},"creating your web application"],"."],["h2",{"id":"server-side-rendering"},"Server-Side Rendering"],["p",{},"Nuxt comes with built-in server-side rendering (SSR) capabilities by default, without having to configure a server yourself, which has many benefits for web applications:"],["ul",{},["li",{},["strong",{},"Faster initial page load time:"]," Nuxt sends a fully rendered HTML page to the browser, which can be displayed immediately. This can provide a faster perceived page load time and a better user experience (UX), especially on slower networks or devices."],["li",{},["strong",{},"Improved SEO:"]," search engines can better index SSR pages because the HTML content is available immediately, rather than requiring JavaScript to render the content on the client-side."],["li",{},["strong",{},"Better performance on low-powered devices:"]," it reduces the amount of JavaScript that needs to be downloaded and executed on the client-side, which can be beneficial for low-powered devices that may struggle with processing heavy JavaScript applications."],["li",{},["strong",{},"Better accessibility:"]," the content is immediately available on the initial page load, improving accessibility for users who rely on screen readers or other assistive technologies."],["li",{},["strong",{},"Easier caching:"]," pages can be cached on the server-side, which can further improve performance by reducing the amount of time it takes to generate and send the content to the client."]],["p",{},"Overall, server-side rendering can provide a faster and more efficient user experience, as well as improve search engine optimization and accessibility."],["p",{},"As Nuxt is a versatile framework, it gives you the possibility to statically render your whole application to a static hosting with ",["code",{},"nuxt generate"],",\ndisable SSR globally with the ",["code",{},"ssr: false"]," option or leverage hybrid rendering by setting up the ",["code",{},"routeRules"]," option."],["read-more",{"title":"Nuxt rendering modes","to":"/docs/guide/concepts/rendering"}],["h3",{"id":"server-engine"},"Server engine"],["p",{},"The Nuxt server engine ",["a",{"href":"https://nitro.build/","rel":["nofollow"]},"Nitro"]," unlocks new full-stack capabilities."],["p",{},"In development, it uses Rollup and Node.js workers for your server code and context isolation. It also generates your server API by reading files in ",["code",{},"server/api/"]," and server middleware from ",["code",{},"server/middleware/"],"."],["p",{},"In production, Nitro builds your app and server into one universal ",["code",{},".output"]," directory. This output is light: minified and removed from any Node.js modules (except polyfills). You can deploy this output on any system supporting JavaScript, from Node.js, Serverless, Workers, Edge-side rendering or purely static."],["read-more",{"title":"Nuxt server engine","to":"/docs/guide/concepts/server-engine"}],["h3",{"id":"production-ready"},"Production-ready"],["p",{},"A Nuxt application can be deployed on a Node or Deno server, pre-rendered to be hosted in static environments, or deployed to serverless and edge providers."],["read-more",{"title":"Deployment section","to":"/docs/getting-started/deployment"}],["h3",{"id":"modular"},"Modular"],["p",{},"A module system allows you to extend Nuxt with custom features and integrations with third-party services."],["read-more",{"title":"Nuxt Modules Concept","to":"/docs/guide/concepts/modules"}],["h3",{"id":"architecture"},"Architecture"],["p",{},"Nuxt is composed of different ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/packages","rel":["nofollow"]},"core packages"],":"],["ul",{},["li",{},"Core engine: ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/packages/nuxt","rel":["nofollow"]},"nuxt"]],["li",{},"Bundlers: ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/packages/vite","rel":["nofollow"]},"@nuxt/vite-builder"],", ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/packages/rspack","rel":["nofollow"]},"@nuxt/rspack-builder"]," and ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/packages/webpack","rel":["nofollow"]},"@nuxt/webpack-builder"]],["li",{},"Command line interface: ",["a",{"href":"https://github.com/nuxt/cli","rel":["nofollow"]},"@nuxt/cli"]],["li",{},"Server engine: ",["a",{"href":"https://github.com/nitrojs/nitro","rel":["nofollow"]},"nitro"]],["li",{},"Development kit: ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/packages/kit","rel":["nofollow"]},"@nuxt/kit"]]],["p",{},"We recommend reading each concept to have a full vision of Nuxt capabilities and the scope of each package."]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"automation-and-conventions","depth":2,"text":"Automation and Conventions"},{"id":"server-side-rendering","depth":2,"text":"Server-Side Rendering","children":[{"id":"server-engine","depth":3,"text":"Server engine"},{"id":"production-ready","depth":3,"text":"Production-ready"},{"id":"modular","depth":3,"text":"Modular"},{"id":"architecture","depth":3,"text":"Architecture"}]}]}}', 'Nuxt''s goal is to make web development intuitive and performant with a great Developer Experience in mind.', 'md', NULL, '{}', '{"icon":"i-lucide-info"}', '/nuxt/nuxtcore/live/getting-started/introduction', '{"title":"Introduction","description":"Nuxt''s goal is to make web development intuitive and performant with a great Developer Experience in mind."}', 'nuxt/nuxtcore/live/1.getting-started/01.introduction', NULL, 'FHYnrduiiR3aJbegC1Ptbd9Z_dpaKcTW-nJUrH0_9ro'); -- FHYnrduiiR3aJbegC1Ptbd9Z_dpaKcTW-nJUrH0_9ro
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/02.installation.md', 'Installation', '{"type":"minimark","value":[["h2",{"id":"play-online"},"Play Online"],["p",{},"If you just want to play around with Nuxt in your browser without setting up a project, you can use one of our online sandboxes:"],["card-group",{},["card",{"icon":"i-simple-icons-stackblitz","target":"_blank","title":"Open on StackBlitz","to":"https://nuxt.new/s/v4"}],["card",{"icon":"i-simple-icons-codesandbox","target":"_blank","title":"Open on CodeSandbox","to":"https://nuxt.new/c/v4"}]],["p",{},"Or follow the steps below to set up a new Nuxt project on your computer."],["h2",{"id":"new-project"},"New Project"],["h4",{"id":"prerequisites"},"Prerequisites"],["ul",{},["li",{},["strong",{},"Node.js"]," - ",["a",{"href":"https://nodejs.org/en","rel":["nofollow"]},["code",{},"20.x"]]," or newer (but we recommend the ",["a",{"href":"https://github.com/nodejs/release#release-schedule","rel":["nofollow"]},"active LTS release"],")"],["li",{},["strong",{},"Text editor"]," - There is no IDE requirement, but we recommend ",["a",{"href":"https://code.visualstudio.com/","rel":["nofollow"]},"Visual Studio Code"]," with the ",["a",{"href":"https://marketplace.visualstudio.com/items?itemName=Vue.volar","rel":["nofollow"]},"official Vue extension"]," (previously known as Volar) or ",["a",{"href":"https://www.jetbrains.com/webstorm/","rel":["nofollow"]},"WebStorm"],", which, along with ",["a",{"href":"https://www.jetbrains.com/ides/","rel":["nofollow"]},"other JetBrains IDEs"],", offers great Nuxt support right out-of-the-box."],["li",{},["strong",{},"Terminal"]," - In order to run Nuxt commands"]],["note",{},["details",{},["summary",{},"Additional notes for an optimal setup:"],["ul",{},["li",{},["strong",{},"Node.js"],": Make sure to use an even numbered version (18, 20, etc)"],["li",{},["strong",{},"Nuxtr"],": Install the community-developed ",["a",{"href":"https://marketplace.visualstudio.com/items?itemName=Nuxtr.nuxtr-vscode","rel":["nofollow"]},"Nuxtr extension"]],["li",{},["strong",{},"WSL"],": If you are using Windows and experience slow HMR, you may want to try using ",["a",{"href":"https://docs.microsoft.com/en-us/windows/wsl/install","rel":["nofollow"]},"WSL (Windows Subsystem for Linux)"]," which may solve some performance issues."]]]],["p",{},"Open a terminal (if you''re using ",["a",{"href":"https://code.visualstudio.com","rel":["nofollow"]},"Visual Studio Code"],", you can open an ",["a",{"href":"https://code.visualstudio.com/docs/editor/integrated-terminal","rel":["nofollow"]},"integrated terminal"],") and use the following command to create a new starter project:"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm create nuxt@latest <project-name>\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt@latest"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn create nuxt@latest <project-name>\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt@latest"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm create nuxt@latest <project-name>\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt@latest"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun create nuxt@latest <project-name>\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," create"],["span",{"class":"sGFVr"}," nuxt@latest"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"deno -A npm:create-nuxt@latest <project-name>\n","filename":"deno","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"deno"],["span",{"class":"sGFVr"}," -A"],["span",{"class":"sGFVr"}," npm:create-nuxt@latest"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]]],["tip",{},["p",{},"Alternatively, you can find other starters or themes by opening ",["a",{"href":"https://nuxt.new","rel":["nofollow"]},"nuxt.new"]," and following the instructions there."]],["p",{},"Open your project folder in Visual Studio Code:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"code <project-name>\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"code"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Or change directory into your new project from your terminal:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"cd <project-name>\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s3cPz"},"cd"],["span",{"class":"sDfIl"}," <"],["span",{"class":"sGFVr"},"project-nam"],["span",{"class":"sZSNi"},"e"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"development-server"},"Development Server"],["p",{},"Now you''ll be able to start your Nuxt app in development mode:"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm run dev -- -o\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," run"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," --"],["span",{"class":"sGFVr"}," -o\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn dev --open\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," --open\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm dev -o\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," -o\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun run dev -o\n\n# To use the Bun runtime during development\n# bun --bun run dev -o\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," run"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," -o\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"# To use the Bun runtime during development\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"# bun --bun run dev -o\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"deno run dev -o\n","filename":"deno","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"deno"],["span",{"class":"sGFVr"}," run"],["span",{"class":"sGFVr"}," dev"],["span",{"class":"sGFVr"}," -o\n"]]]]],["tip",{"icon":"i-lucide-circle-check"},["p",{},"Well done! A browser window should automatically open for ",["a",{"href":"http://localhost:3000","rel":["nofollow"]},"http://localhost:3000"],"."]],["h2",{"id":"next-steps"},"Next Steps"],["p",{},"Now that you''ve created your Nuxt project, you are ready to start building your application."],["read-more",{"title":"Nuxt Concepts","to":"/docs/guide/concepts"}],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"play-online","depth":2,"text":"Play Online"},{"id":"new-project","depth":2,"text":"New Project"},{"id":"development-server","depth":2,"text":"Development Server"},{"id":"next-steps","depth":2,"text":"Next Steps"}]}}', 'Get started with Nuxt quickly with our online starters or start locally with your terminal.', 'md', NULL, '{}', '{"icon":"i-lucide-play"}', '/nuxt/nuxtcore/live/getting-started/installation', '{"title":"Installation","description":"Get started with Nuxt quickly with our online starters or start locally with your terminal."}', 'nuxt/nuxtcore/live/1.getting-started/02.installation', NULL, 'H4_Jddxy9XBlQZlLHXEYGPIYVtvvOsoJpz73Nsl6yY4'); -- H4_Jddxy9XBlQZlLHXEYGPIYVtvvOsoJpz73Nsl6yY4
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/03.configuration.md', 'Configuration', '{"type":"minimark","value":[["p",{},"By default, Nuxt is configured to cover most use cases. The ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file can override or extend this default configuration."],["h2",{"id":"nuxt-configuration"},"Nuxt Configuration"],["p",{},"The ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file is located at the root of a Nuxt project and can override or extend the application''s behavior."],["p",{},"A minimal configuration file exports the ",["code",{},"defineNuxtConfig"]," function containing an object with your configuration. The ",["code",{},"defineNuxtConfig"]," helper is globally available without import."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  // My Nuxt config\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // My Nuxt config\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This file will often be mentioned in the documentation, for example to add custom scripts, register modules or change rendering modes."],["read-more",{"to":"/docs/api/configuration/nuxt-config"},["p",{},"Every option is described in the ",["strong",{},"Configuration Reference"],"."]],["note",{},["p",{},"You don''t have to use TypeScript to build an application with Nuxt. However, it is strongly recommended to use the ",["code",{},".ts"]," extension for the ",["code",{},"nuxt.config"]," file. This way you can benefit from hints in your IDE to avoid typos and mistakes while editing your configuration."]],["h3",{"id":"environment-overrides"},"Environment Overrides"],["p",{},"You can configure fully typed, per-environment overrides in your nuxt.config"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  $production: {\n    routeRules: {\n      ''/**'': { isr: true }\n    }\n  },\n  $development: {\n    //\n  },\n  $env: {\n    staging: {\n      // \n    }\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  $production"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    routeRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sRlkE"},"/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," isr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  $development"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"    //\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"  $env"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"    staging"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"      // \n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"To select an environment when running a Nuxt CLI command, simply pass the name to the ",["code",{},"--envName"]," flag, like so: ",["code",{},"nuxt build --envName staging"],"."],["p",{},"To learn more about the mechanism behind these overrides, please refer to the ",["code",{},"c12"]," documentation on ",["a",{"href":"https://github.com/unjs/c12?tab=readme-ov-file#environment-specific-configuration","rel":["nofollow"]},"environment-specific configuration"],"."],["video-accordion",{"title":"Watch a video from Alexander Lichter about the env-aware nuxt.config.ts","video-id":"DFZI2iVCrNc"}],["note",{},["p",{},"If you''re authoring layers, you can also use the ",["code",{},"$meta"]," key to provide metadata that you or the consumers of your layer might use."]],["h3",{"id":"environment-variables-and-private-tokens"},"Environment Variables and Private Tokens"],["p",{},"The ",["code",{},"runtimeConfig"]," API exposes values like environment variables to the rest of your application. By default, these keys are only available server-side. The keys within ",["code",{},"runtimeConfig.public"]," and ",["code",{},"runtimeConfig.app"]," (which is used by Nuxt internally) are also available client-side."],["p",{},"Those values should be defined in ",["code",{},"nuxt.config"]," and can be overridden using environment variables."],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  runtimeConfig: {\n    // The private keys which are only available server-side\n    apiSecret: ''123'',\n    // Keys within public are also exposed client-side\n    public: {\n      apiBase: ''/api''\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  runtimeConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // The private keys which are only available server-side\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    apiSecret"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"123"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Keys within public are also exposed client-side\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    public"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      apiBase"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/api"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ini shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"# This will override the value of apiSecret\nNUXT_API_SECRET=api_secret_token\n","filename":".env","language":"ini","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"# This will override the value of apiSecret\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"NUXT_API_SECRET"],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"},"api_secret_token\n"]]]]],["p",{},"These variables are exposed to the rest of your application using the ",["a",{"href":"/docs/api/composables/use-runtime-config"},["code",{},"useRuntimeConfig()"]]," composable."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst runtimeConfig = useRuntimeConfig()\n</script>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," runtimeConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/going-further/runtime-config"}],["h2",{"id":"app-configuration"},"App Configuration"],["p",{},"The ",["code",{},"app.config.ts"]," file, located in the source directory (by default ",["code",{},"app/"],"), is used to expose public variables that can be determined at build time. Contrary to the ",["code",{},"runtimeConfig"]," option, these cannot be overridden using environment variables."],["p",{},"A minimal configuration file exports the ",["code",{},"defineAppConfig"]," function containing an object with your configuration. The ",["code",{},"defineAppConfig"]," helper is globally available without import."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineAppConfig({\n  title: ''Hello Nuxt'',\n  theme: {\n    dark: true,\n    colors: {\n      primary: ''#ff0000''\n    }\n  }\n})\n","filename":"app.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineAppConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Hello Nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  theme"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    dark"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    colors"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      primary"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#ff0000"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"These variables are exposed to the rest of your application using the ",["a",{"href":"/docs/api/composables/use-app-config"},["code",{},"useAppConfig"]]," composable."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst appConfig = useAppConfig()\n</script>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," appConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useAppConfig"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/app-config"}],["h2",{"id":"runtimeconfig-vs-appconfig"},["code",{},"runtimeConfig"]," vs. ",["code",{},"app.config"]],["p",{},"As stated above, ",["code",{},"runtimeConfig"]," and ",["code",{},"app.config"]," are both used to expose variables to the rest of your application. To determine whether you should use one or the other, here are some guidelines:"],["ul",{},["li",{},["code",{},"runtimeConfig"],": Private or public tokens that need to be specified after build using environment variables."],["li",{},["code",{},"app.config"],": Public tokens that are determined at build time, website configuration such as theme variant, title and any project config that are not sensitive."]],["table",{},["thead",{},["tr",{},["th",{},"Feature"],["th",{},["code",{},"runtimeConfig"]],["th",{},["code",{},"app.config"]]]],["tbody",{},["tr",{},["td",{},"Client Side"],["td",{},"Hydrated"],["td",{},"Bundled"]],["tr",{},["td",{},"Environment Variables"],["td",{},"✅ Yes"],["td",{},"❌ No"]],["tr",{},["td",{},"Reactive"],["td",{},"✅ Yes"],["td",{},"✅ Yes"]],["tr",{},["td",{},"Types support"],["td",{},"✅ Partial"],["td",{},"✅ Yes"]],["tr",{},["td",{},"Configuration per Request"],["td",{},"❌ No"],["td",{},"✅ Yes"]],["tr",{},["td",{},"Hot Module Replacement"],["td",{},"❌ No"],["td",{},"✅ Yes"]],["tr",{},["td",{},"Non primitive JS types"],["td",{},"❌ No"],["td",{},"✅ Yes"]]]],["h2",{"id":"external-configuration-files"},"External Configuration Files"],["p",{},"Nuxt uses ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file as the single source of truth for configurations and skips reading external configuration files. During the course of building your project, you may have a need to configure those. The following table highlights common configurations and, where applicable, how they can be configured with Nuxt."],["table",{},["thead",{},["tr",{},["th",{},"Name"],["th",{},"Config File"],["th",{},"How To Configure"]]],["tbody",{},["tr",{},["td",{},["a",{"href":"https://nitro.build","rel":["nofollow"]},"Nitro"]],["td",{},["del",{},["code",{},"nitro.config.ts"]]],["td",{},"Use ",["a",{"href":"/docs/api/nuxt-config#nitro"},["code",{},"nitro"]]," key in ",["code",{},"nuxt.config"]]],["tr",{},["td",{},["a",{"href":"https://postcss.org","rel":["nofollow"]},"PostCSS"]],["td",{},["del",{},["code",{},"postcss.config.js"]]],["td",{},"Use ",["a",{"href":"/docs/api/nuxt-config#postcss"},["code",{},"postcss"]]," key in ",["code",{},"nuxt.config"]]],["tr",{},["td",{},["a",{"href":"https://vite.dev","rel":["nofollow"]},"Vite"]],["td",{},["del",{},["code",{},"vite.config.ts"]]],["td",{},"Use ",["a",{"href":"/docs/api/nuxt-config#vite"},["code",{},"vite"]]," key in ",["code",{},"nuxt.config"]]],["tr",{},["td",{},["a",{"href":"https://webpack.js.org","rel":["nofollow"]},"webpack"]],["td",{},["del",{},["code",{},"webpack.config.ts"]]],["td",{},"Use ",["a",{"href":"/docs/api/nuxt-config#webpack-1"},["code",{},"webpack"]]," key in ",["code",{},"nuxt.config"]]]]],["p",{},"Here is a list of other common config files:"],["table",{},["thead",{},["tr",{},["th",{},"Name"],["th",{},"Config File"],["th",{},"How To Configure"]]],["tbody",{},["tr",{},["td",{},["a",{"href":"https://www.typescriptlang.org","rel":["nofollow"]},"TypeScript"]],["td",{},["code",{},"tsconfig.json"]],["td",{},["a",{"href":"/docs/guide/concepts/typescript#nuxttsconfigjson"},"More Info"]]],["tr",{},["td",{},["a",{"href":"https://eslint.org","rel":["nofollow"]},"ESLint"]],["td",{},["code",{},"eslint.config.js"]],["td",{},["a",{"href":"https://eslint.org/docs/latest/use/configure/configuration-files","rel":["nofollow"]},"More Info"]]],["tr",{},["td",{},["a",{"href":"https://prettier.io","rel":["nofollow"]},"Prettier"]],["td",{},["code",{},"prettier.config.js"]],["td",{},["a",{"href":"https://prettier.io/docs/en/configuration.html","rel":["nofollow"]},"More Info"]]],["tr",{},["td",{},["a",{"href":"https://stylelint.io","rel":["nofollow"]},"Stylelint"]],["td",{},["code",{},"stylelint.config.js"]],["td",{},["a",{"href":"https://stylelint.io/user-guide/configure","rel":["nofollow"]},"More Info"]]],["tr",{},["td",{},["a",{"href":"https://tailwindcss.com","rel":["nofollow"]},"TailwindCSS"]],["td",{},["code",{},"tailwind.config.js"]],["td",{},["a",{"href":"https://tailwindcss.nuxtjs.org/tailwindcss/configuration","rel":["nofollow"]},"More Info"]]],["tr",{},["td",{},["a",{"href":"https://vitest.dev","rel":["nofollow"]},"Vitest"]],["td",{},["code",{},"vitest.config.ts"]],["td",{},["a",{"href":"https://vitest.dev/config/","rel":["nofollow"]},"More Info"]]]]],["h2",{"id":"vue-configuration"},"Vue Configuration"],["h3",{"id":"with-vite"},"With Vite"],["p",{},"If you need to pass options to ",["code",{},"@vitejs/plugin-vue"]," or ",["code",{},"@vitejs/plugin-vue-jsx"],", you can do this in your ",["code",{},"nuxt.config"]," file."],["ul",{},["li",{},["code",{},"vite.vue"]," for ",["code",{},"@vitejs/plugin-vue"],". Check ",["a",{"href":"https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue","rel":["nofollow"]},"available options"],"."],["li",{},["code",{},"vite.vueJsx"]," for ",["code",{},"@vitejs/plugin-vue-jsx"],". Check ",["a",{"href":"https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue-jsx","rel":["nofollow"]},"available options"],"."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  vite: {\n    vue: {\n      customElement: true\n    },\n    vueJsx: {\n      mergeProps: true\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    vue"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      customElement"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    vueJsx"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      mergeProps"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/configuration/nuxt-config#vue"}],["h3",{"id":"with-webpack"},"With webpack"],["p",{},"If you use webpack and need to configure ",["code",{},"vue-loader"],", you can do this using ",["code",{},"webpack.loaders.vue"]," key inside your ",["code",{},"nuxt.config"]," file. The available options are ",["a",{"href":"https://github.com/vuejs/vue-loader/blob/main/src/index.ts#L32-L62","rel":["nofollow"]},"defined here"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  webpack: {\n    loaders: {\n      vue: {\n        hotReload: true,\n      }\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  webpack"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    loaders"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      vue"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        hotReload"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/api/configuration/nuxt-config#loaders"}],["h3",{"id":"enabling-experimental-vue-features"},"Enabling Experimental Vue Features"],["p",{},"You may need to enable experimental features in Vue, such as ",["code",{},"propsDestructure"],". Nuxt provides an easy way to do that in ",["code",{},"nuxt.config.ts"],", no matter which builder you are using:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  vue: {\n    propsDestructure: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  vue"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    propsDestructure"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"experimental-reactivitytransform-migration-from-vue-34-and-nuxt-39"},"experimental ",["code",{},"reactivityTransform"]," migration from Vue 3.4 and Nuxt 3.9"],["p",{},"Since Nuxt 3.9 and Vue 3.4, ",["code",{},"reactivityTransform"]," has been moved from Vue to Vue Macros which has a ",["a",{"href":"https://vue-macros.dev/guide/nuxt-integration.html","rel":["nofollow"]},"Nuxt integration"],"."],["read-more",{"to":"/docs/api/configuration/nuxt-config#vue-1"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-configuration","depth":2,"text":"Nuxt Configuration","children":[{"id":"environment-overrides","depth":3,"text":"Environment Overrides"},{"id":"environment-variables-and-private-tokens","depth":3,"text":"Environment Variables and Private Tokens"}]},{"id":"app-configuration","depth":2,"text":"App Configuration"},{"id":"runtimeconfig-vs-appconfig","depth":2,"text":"runtimeConfig vs. app.config"},{"id":"external-configuration-files","depth":2,"text":"External Configuration Files"},{"id":"vue-configuration","depth":2,"text":"Vue Configuration","children":[{"id":"with-vite","depth":3,"text":"With Vite"},{"id":"with-webpack","depth":3,"text":"With webpack"},{"id":"enabling-experimental-vue-features","depth":3,"text":"Enabling Experimental Vue Features"}]}]}}', 'Nuxt is configured with sensible defaults to make you productive.', 'md', NULL, '{}', '{"icon":"i-lucide-cog"}', '/nuxt/nuxtcore/live/getting-started/configuration', '{"title":"Configuration","description":"Nuxt is configured with sensible defaults to make you productive."}', 'nuxt/nuxtcore/live/1.getting-started/03.configuration', NULL, 'wTEO9ioJvUiS2-avMdwuXTcRDsbN1nq1p5BhbZKALcQ'); -- wTEO9ioJvUiS2-avMdwuXTcRDsbN1nq1p5BhbZKALcQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/04.views.md', 'Views', '{"type":"minimark","value":[["h2",{"id":"appvue"},["code",{},"app.vue"]],["p",{},["img",{"alt":"The app.vue file is the entry point of your application","src":"/assets/docs/getting-started/views/app.svg"}]],["p",{},"By default, Nuxt will treat this file as the ",["strong",{},"entrypoint"]," and render its content for every route of the application."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n   <h1>Welcome to the homepage</h1>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"   <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Welcome to the homepage"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["tip",{},["p",{},"If you are familiar with Vue, you might wonder where ",["code",{},"main.js"]," is (the file that normally creates a Vue app). Nuxt does this behind the scene."]],["h2",{"id":"components"},"Components"],["p",{},["img",{"alt":"Components are reusable pieces of UI","src":"/assets/docs/getting-started/views/components.svg"}]],["p",{},"Most components are reusable pieces of the user interface, like buttons and menus. In Nuxt, you can create these components in the ",["a",{"href":"/docs/guide/directory-structure/app/components"},["code",{},"app/components/"]]," directory, and they will be automatically available across your application without having to explicitly import them."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>Welcome to the homepage</h1>\n    <AppAlert>\n      This is an auto-imported component.\n    </AppAlert>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Welcome to the homepage"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppAlert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"      This is an auto-imported component.\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"AppAlert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <span>\n    <slot />\n  </span>\n</template>\n","filename":"app/components/AppAlert.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"span"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"span"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["h2",{"id":"pages"},"Pages"],["p",{},["img",{"alt":"Pages are views tied to a specific route","src":"/assets/docs/getting-started/views/pages.svg"}]],["p",{},"Pages represent views for each specific route pattern. Every file in the ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]]," directory represents a different route displaying its content."],["p",{},"To use pages, create an ",["code",{},"app/pages/index.vue"]," file and add ",["code",{},"<NuxtPage />"]," component to the ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app/app.vue"]]," (or remove ",["code",{},"app/app.vue"]," for default entry). You can now create more pages and their corresponding routes by adding new files in the ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]]," directory."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>Welcome to the homepage</h1>\n    <AppAlert>\n      This is an auto-imported component\n    </AppAlert>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Welcome to the homepage"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppAlert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"      This is an auto-imported component\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"AppAlert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <section>\n    <p>This page will be displayed at the /about route.</p>\n  </section>\n</template>\n","filename":"app/pages/about.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"section"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"This page will be displayed at the /about route."],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"section"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["read-more",{"to":"/docs/getting-started/routing","title":"Routing Section"}],["h2",{"id":"layouts"},"Layouts"],["p",{},["img",{"alt":"Layouts are wrapper around pages","src":"/assets/docs/getting-started/views/layouts.svg"}]],["p",{},"Layouts are wrappers around pages that contain a common User Interface for several pages, such as header and footer displays. Layouts are Vue files using ",["code",{},"<slot />"]," components to display the ",["strong",{},"page"]," content. The ",["code",{},"app/layouts/default.vue"]," file will be used by default. Custom layouts can be set as part of your page metadata."],["note",{},["p",{},"If you only have a single layout in your application, we recommend using ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app/app.vue"]]," with ",["a",{"href":"/docs/api/components/nuxt-page"},["code",{},"<NuxtPage />"]]," instead."]],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <NuxtLayout>\n      <NuxtPage />\n    </NuxtLayout>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <AppHeader />\n    <slot />\n    <AppFooter />\n  </div>\n</template>\n","filename":"app/layouts/default.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppHeader"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppFooter"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>Welcome to the homepage</h1>\n    <AppAlert>\n      This is an auto-imported component\n    </AppAlert>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Welcome to the homepage"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"AppAlert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"      This is an auto-imported component\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"AppAlert"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <section>\n    <p>This page will be displayed at the /about route.</p>\n  </section>\n</template>\n","filename":"app/pages/about.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"section"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"This page will be displayed at the /about route."],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"section"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"If you want to create more layouts and learn how to use them in your pages, find more information in the ",["a",{"href":"/docs/guide/directory-structure/app/layouts"},"Layouts section"],"."],["h2",{"id":"advanced-extending-the-html-template"},"Advanced: Extending the HTML Template"],["note",{},["p",{},"If you only need to modify the ",["code",{},"<head>"],", you can refer to the ",["a",{"href":"/docs/getting-started/seo-meta"},"SEO and meta section"],"."]],["p",{},"You can have full control over the HTML template by adding a Nitro plugin that registers a hook.\nThe callback function of the ",["code",{},"render:html"]," hook allows you to mutate the HTML before it is sent to the client."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook(''render:html'', (html, { event }) => {\n    // This will be an object representation of the html template.\n    console.log(html)\n    html.head.push(`<meta name=\"description\" content=\"My custom description\" />`)\n  })\n  // You can also intercept the response here.\n  nitroApp.hooks.hook(''render:response'', (response, { event }) => { console.log(response) })\n})\n","filename":"server/plugins/extend-html.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNitroPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nitroApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nitroApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"hooks"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"html"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"s1nJG"}," event"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // This will be an object representation of the html template.\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"html"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    html"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"head"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"<meta name=\"description\" content=\"My custom description\" />"],["span",{"class":"sDfIl"},"`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"  // You can also intercept the response here.\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"  nitroApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"hooks"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:response"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"response"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"s1nJG"}," event"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"response"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/going-further/hooks"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"appvue","depth":2,"text":"app.vue"},{"id":"components","depth":2,"text":"Components"},{"id":"pages","depth":2,"text":"Pages"},{"id":"layouts","depth":2,"text":"Layouts"},{"id":"advanced-extending-the-html-template","depth":2,"text":"Advanced: Extending the HTML Template"}]}}', 'Nuxt provides several component layers to implement the user interface of your application.', 'md', NULL, '{}', '{"icon":"i-lucide-panels-top-left"}', '/nuxt/nuxtcore/live/getting-started/views', '{"title":"Views","description":"Nuxt provides several component layers to implement the user interface of your application."}', 'nuxt/nuxtcore/live/1.getting-started/04.views', NULL, 'B9EuYVoribkcmLV36AEAA30J98aZIAIeHushQgOw9Og'); -- B9EuYVoribkcmLV36AEAA30J98aZIAIeHushQgOw9Og
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/05.assets.md', 'Assets', '{"type":"minimark","value":[["p",{},"Nuxt uses two directories to handle assets like stylesheets, fonts or images."],["ul",{},["li",{},"The ",["a",{"href":"/docs/guide/directory-structure/public"},["code",{},"public/"]]," directory content is served at the server root as-is."],["li",{},"The ",["a",{"href":"/docs/guide/directory-structure/app/assets"},["code",{},"app/assets/"]]," directory contains by convention every asset that you want the build tool (Vite or webpack) to process."]],["h2",{"id":"public-directory"},"Public Directory"],["p",{},"The ",["a",{"href":"/docs/guide/directory-structure/public"},["code",{},"public/"]]," directory is used as a public server for static assets publicly available at a defined URL of your application."],["p",{},"You can get a file in the ",["a",{"href":"/docs/guide/directory-structure/public"},["code",{},"public/"]]," directory from your application''s code or from a browser by the root URL ",["code",{},"/"],"."],["h3",{"id":"example"},"Example"],["p",{},"For example, referencing an image file in the ",["code",{},"public/img/"]," directory, available at the static URL ",["code",{},"/img/nuxt.png"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <img src=\"/img/nuxt.png\" alt=\"Discover Nuxt\" />\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"img"],["span",{"class":"smZ93"}," src"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/img/nuxt.png"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," alt"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"Discover Nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"assets-directory"},"Assets Directory"],["p",{},"Nuxt uses ",["a",{"href":"https://vite.dev/guide/assets.html","rel":["nofollow"]},"Vite"]," (default) or ",["a",{"href":"https://webpack.js.org/guides/asset-management","rel":["nofollow"]},"webpack"]," to build and bundle your application. The main function of these build tools is to process JavaScript files, but they can be extended through ",["a",{"href":"https://vite.dev/plugins","rel":["nofollow"]},"plugins"]," (for Vite) or ",["a",{"href":"https://webpack.js.org/loaders","rel":["nofollow"]},"loaders"]," (for webpack) to process other kinds of assets, like stylesheets, fonts or SVGs. This step transforms the original file, mainly for performance or caching purposes (such as stylesheet minification or browser cache invalidation)."],["p",{},"By convention, Nuxt uses the ",["a",{"href":"/docs/guide/directory-structure/app/assets"},["code",{},"app/assets/"]]," directory to store these files but there is no auto-scan functionality for this directory, and you can use any other name for it."],["p",{},"In your application''s code, you can reference a file located in the ",["a",{"href":"/docs/guide/directory-structure/app/assets"},["code",{},"app/assets/"]]," directory by using the ",["code",{},"~/assets/"]," path."],["h3",{"id":"example-1"},"Example"],["p",{},"For example, referencing an image file that will be processed if a build tool is configured to handle this file extension:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <img src=\"~/assets/img/nuxt.png\" alt=\"Discover Nuxt\" />\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"img"],["span",{"class":"smZ93"}," src"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"~/assets/img/nuxt.png"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," alt"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"Discover Nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Nuxt won''t serve files in the ",["a",{"href":"/docs/guide/directory-structure/app/assets"},["code",{},"app/assets/"]]," directory at a static URL like ",["code",{},"/assets/my-file.png"],". If you need a static URL, use the ",["a",{"href":"#public-directory"},["code",{},"public/"]]," directory."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"public-directory","depth":2,"text":"Public Directory","children":[{"id":"example","depth":3,"text":"Example"}]},{"id":"assets-directory","depth":2,"text":"Assets Directory","children":[{"id":"example-1","depth":3,"text":"Example"}]}]}}', 'Nuxt offers two options for your assets.', 'md', NULL, '{}', '{"icon":"i-lucide-image"}', '/nuxt/nuxtcore/live/getting-started/assets', '{"title":"Assets","description":"Nuxt offers two options for your assets."}', 'nuxt/nuxtcore/live/1.getting-started/05.assets', NULL, 'S90EZcPcHhB-Z4wa3IKR3v2UhkOEsOz1hWRJrEZ3gH4'); -- S90EZcPcHhB-Z4wa3IKR3v2UhkOEsOz1hWRJrEZ3gH4
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/06.styling.md', 'Styling', '{"type":"minimark","value":[["p",{},"Nuxt is highly flexible when it comes to styling. Write your own styles, or reference local and external stylesheets.\nYou can use CSS preprocessors, CSS frameworks, UI libraries and Nuxt modules to style your application."],["h2",{"id":"local-stylesheets"},"Local Stylesheets"],["p",{},"If you''re writing local stylesheets, the natural place to put them is the ",["a",{"href":"/docs/guide/directory-structure/app/assets"},["code",{},"app/assets/"]," directory"],"."],["h3",{"id":"importing-within-components"},"Importing Within Components"],["p",{},"You can import stylesheets in your pages, layouts and components directly.\nYou can use a JavaScript import, or a CSS ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/@import","rel":["nofollow"]},["code",{},"@import"]," statement"],"."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script>\n// Use a static import for server-side compatibility\nimport ''~/assets/css/first.css''\n\n// Caution: Dynamic imports are not server-side compatible\nimport(''~/assets/css/first.css'')\n</script>\n\n<style>\n@import url(\"~/assets/css/second.css\");\n</style>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// Use a static import for server-side compatibility\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/assets/css/first.css"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"// Caution: Dynamic imports are not server-side compatible\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"import"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"~/assets/css/first.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"@import"],["span",{"class":"s3cPz"}," url"],["span",{"class":"sDfIl"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"~/assets/css/second.css"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["tip",{},["p",{},"The stylesheets will be inlined in the HTML rendered by Nuxt."]],["h3",{"id":"the-css-property"},"The CSS Property"],["p",{},"You can also use the ",["code",{},"css"]," property in the Nuxt configuration.\nThe natural place for your stylesheets is the ",["a",{"href":"/docs/guide/directory-structure/app/assets"},["code",{},"app/assets/"]," directory"],". You can then reference its path and Nuxt will include it to all the pages of your application."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  css: [''~/assets/css/main.css'']\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"~/assets/css/main.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{},["p",{},"The stylesheets will be inlined in the HTML rendered by Nuxt, injected globally and present in all pages."]],["h3",{"id":"working-with-fonts"},"Working With Fonts"],["p",{},"Place your local fonts files in your ",["code",{},"public/"]," directory, for example in ",["code",{},"public/fonts"],". You can then reference them in your stylesheets using ",["code",{},"url()"],"."],["pre",{"className":"language-css shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"@font-face {\n  font-family: ''FarAwayGalaxy'';\n  src: url(''/fonts/FarAwayGalaxy.woff'') format(''woff'');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n","filename":"assets/css/main.css","language":"css","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"@font-face"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"spFsF"},"  font-family"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"FarAwayGalaxy"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":3},["span",{"class":"spFsF"},"  src"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," url"],["span",{"class":"sDfIl"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/fonts/FarAwayGalaxy.woff"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},")"],["span",{"class":"s3cPz"}," format"],["span",{"class":"sDfIl"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"woff"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":4},["span",{"class":"spFsF"},"  font-weight"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," normal"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":5},["span",{"class":"spFsF"},"  font-style"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," normal"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":6},["span",{"class":"spFsF"},"  font-display"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," swap"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"Then reference your fonts by name in your stylesheets, pages or components:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style>\nh1 {\n  font-family: ''FarAwayGalaxy'', sans-serif;\n}\n</style>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"h1"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"spFsF"},"  font-family"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"FarAwayGalaxy"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," sans-serif"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"stylesheets-distributed-through-npm"},"Stylesheets Distributed Through NPM"],["p",{},"You can also reference stylesheets that are distributed through npm. Let''s use the popular ",["code",{},"animate.css"]," library as an example."],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install animate.css\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," animate.css\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add animate.css\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," animate.css\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm install animate.css\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," animate.css\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun install animate.css\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," animate.css\n"]]]]],["p",{},"Then you can reference it directly in your pages, layouts and components:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script>\nimport ''animate.css''\n</script>\n\n<style>\n@import url(\"animate.css\");\n</style>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"animate.css"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"@import"],["span",{"class":"s3cPz"}," url"],["span",{"class":"sDfIl"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"animate.css"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"The package can also be referenced as a string in the css property of your Nuxt configuration."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  css: [''animate.css'']\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"animate.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"external-stylesheets"},"External Stylesheets"],["p",{},"You can include external stylesheets in your application by adding a link element in the head section of your nuxt.config file. You can achieve this result using different methods. Note that local stylesheets can also be included this way."],["p",{},"You can manipulate the head with the ",["a",{"href":"/docs/api/nuxt-config#head"},["code",{},"app.head"]]," property of your Nuxt configuration:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    head: {\n      link: [{ rel: ''stylesheet'', href: ''https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css'' }]\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    head"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      link"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," rel"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"stylesheet"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," href"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"dynamically-adding-stylesheets"},"Dynamically Adding Stylesheets"],["p",{},"You can use the useHead composable to dynamically set a value in your head in your code."],["read-more",{"to":"/docs/api/composables/use-head"}],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"useHead({\n  link: [{ rel: ''stylesheet'', href: ''https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css'' }]\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  link"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," rel"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"stylesheet"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," href"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Nuxt uses ",["code",{},"unhead"]," under the hood, and you can refer to ",["a",{"href":"https://unhead.unjs.io","rel":["nofollow"]},"its full documentation"],"."],["h3",{"id":"modifying-the-rendered-head-with-a-nitro-plugin"},"Modifying The Rendered Head With A Nitro Plugin"],["p",{},"If you need more advanced control, you can intercept the rendered html with a hook and modify the head programmatically."],["p",{},"Create a plugin in ",["code",{},"~/server/plugins/my-plugin.ts"]," like this:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNitroPlugin((nitro) => {\n  nitro.hooks.hook(''render:html'', (html) => {\n    html.head.push(''<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\">'')\n  })\n})\n","filename":"server/plugins/my-plugin.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNitroPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nitro"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nitro"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"hooks"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"render:html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"html"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    html"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"head"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"push"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\">"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"External stylesheets are render-blocking resources: they must be loaded and processed before the browser renders the page. Web pages that contain unnecessarily large styles take longer to render. You can read more about it on ",["a",{"href":"https://web.dev/defer-non-critical-css","rel":["nofollow"]},"web.dev"],"."],["h2",{"id":"using-preprocessors"},"Using Preprocessors"],["p",{},"To use a preprocessor like SCSS, Sass, Less or Stylus, install it first."],["code-group",{},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install -D sass\n","filename":"Sass & SCSS","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," sass\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install -D less\n","filename":"Less","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," less\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install -D stylus\n","filename":"Stylus","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," stylus\n"]]]]],["p",{},"The natural place to write your stylesheets is the ",["code",{},"app/assets"]," directory.\nYou can then import your source files in your ",["code",{},"app.vue"]," (or layouts files) using your preprocessor''s syntax."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style lang=\"scss\">\n@use \"~/assets/scss/main.scss\";\n</style>\n","filename":"app/pages/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"scss"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"@use \"~/assets/scss/main.scss\";\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Alternatively, you can use the ",["code",{},"css"]," property of your Nuxt configuration."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  css: [''~/assets/scss/main.scss'']\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"~/assets/scss/main.scss"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{},["p",{},"In both cases, the compiled stylesheets will be inlined in the HTML rendered by Nuxt."]],["p",{},"If you need to inject code in pre-processed files, like a ",["a",{"href":"https://sass-lang.com/documentation/at-rules/use#partials","rel":["nofollow"]},"Sass partial"]," with color variables, you can do so with the Vite ",["a",{"href":"https://vite.dev/config/shared-options.html#css-preprocessoroptions","rel":["nofollow"]},"preprocessors options"],"."],["p",{},"Create some partials in your ",["code",{},"app/assets"]," directory:"],["code-group",{"sync":"preprocessor"},["pre",{"className":"language-scss shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"$primary: #49240F;\n$secondary: #E4A79D;\n","filename":"assets/_colors.scss","language":"scss","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"$primary"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," #"],["span",{"class":"sZSNi"},"49240F"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"$secondary"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," #"],["span",{"class":"sZSNi"},"E4A79D"],["span",{"class":"sDfIl"},";\n"]]]],["pre",{"className":"language-sass shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"$primary: #49240F\n$secondary: #E4A79D\n","filename":"assets/_colors.sass","language":"sass","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"$primary: #49240F\n"]],["span",{"class":"line","line":2},["span",{},"$secondary: #E4A79D\n"]]]]],["p",{},"Then in your ",["code",{},"nuxt.config"]," :"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  vite: {\n    css: {\n      preprocessorOptions: {\n        scss: {\n          additionalData: ''@use \"~/assets/_colors.scss\" as *;''\n        }\n      }\n    }\n  }\n})\n","filename":"SCSS","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      preprocessorOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        scss"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"          additionalData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@use \"~/assets/_colors.scss\" as *;"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  vite: {\n    css: {\n      preprocessorOptions: {\n        sass: {\n          additionalData: ''@use \"~/assets/_colors.sass\" as *\\n''\n        }\n      }\n    }\n  }\n})\n","filename":"SASS","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      preprocessorOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        sass"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"          additionalData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@use \"~/assets/_colors.sass\" as *"],["span",{"class":"sZSNi"},"\\n"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["p",{},"Nuxt uses Vite by default. If you wish to use webpack instead, refer to each preprocessor loader ",["a",{"href":"https://webpack.js.org/loaders/sass-loader","rel":["nofollow"]},"documentation"],"."],["h3",{"id":"preprocessor-workers-experimental"},"Preprocessor Workers (Experimental)"],["p",{},"Vite has made available an ",["a",{"href":"https://vite.dev/config/shared-options.html#css-preprocessormaxworkers","rel":["nofollow"]},"experimental option"]," which can speed up using preprocessors."],["p",{},"You can enable this in your ",["code",{},"nuxt.config"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"\nexport default defineNuxtConfig({\n  vite: {\n    css: {\n      preprocessorMaxWorkers: true // number of CPUs minus 1\n    }\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  vite"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    css"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      preprocessorMaxWorkers"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sWuyu"}," // number of CPUs minus 1\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"This is an experimental option and you should refer to the Vite documentation and ",["a",{"href":"https://github.com/vitejs/vite/discussions/15835","rel":["nofollow"]},"provide feedback"],"."]],["h2",{"id":"single-file-components-sfc-styling"},"Single File Components (SFC) Styling"],["p",{},"One of the best things about Vue and SFC is how great it is at naturally dealing with styling. You can directly write CSS or preprocessor code in the style block of your components file, therefore you will have fantastic developer experience without having to use something like CSS-in-JS. However if you wish to use CSS-in-JS, you can find 3rd party libraries and modules that support it, such as ",["a",{"href":"https://github.com/Tahul/pinceau","rel":["nofollow"]},"pinceau"],"."],["p",{},"You can refer to the ",["a",{"href":"https://vuejs.org/api/sfc-css-features.html","rel":["nofollow"]},"Vue docs"]," for a comprehensive reference about styling components in SFC."],["h3",{"id":"class-and-style-bindings"},"Class And Style Bindings"],["p",{},"You can leverage Vue SFC features to style your components with class and style attributes."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst isActive = ref(true)\nconst hasError = ref(false)\nconst classObject = reactive({\n  active: true,\n  ''text-danger'': false\n})\n</script>\n\n<template>\n  <div class=\"static\" :class=\"{ active: isActive, ''text-danger'': hasError }\"></div>\n  <div :class=\"classObject\"></div>\n</template>\n","filename":"Ref and Reactive","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," isActive "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"true"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," hasError "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"false"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," classObject "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," reactive"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  active"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  ''"],["span",{"class":"sRlkE"},"text-danger"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"static"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"{ "],["span",{"class":"sRlkE"},"active"],["span",{"class":"sDfIl"},": "],["span",{"class":"sZSNi"},"isActive"],["span",{"class":"sDfIl"},", "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"text-danger"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},": "],["span",{"class":"sZSNi"},"hasError"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"classObject"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst isActive = ref(true)\nconst error = ref(null)\n\nconst classObject = computed(() => ({\n  active: isActive.value && !error.value,\n  ''text-danger'': error.value && error.value.type === ''fatal''\n}))\n</script>\n\n<template>\n  <div :class=\"classObject\"></div>\n</template>\n","filename":"Computed","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," isActive "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"true"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," error "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"null"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," classObject "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  active"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," isActive"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"&&"],["span",{"class":"sDfIl"}," !"],["span",{"class":"sZSNi"},"error"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  ''"],["span",{"class":"sRlkE"},"text-danger"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"&&"],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"type "],["span",{"class":"sDfIl"},"==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"fatal"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"classObject"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst isActive = ref(true)\nconst errorClass = ref(''text-danger'')\n</script>\n\n<template>\n  <div :class=\"[{ active: isActive }, errorClass]\"></div>\n</template>\n","filename":"Array","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," isActive "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sbKd-"},"true"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," errorClass "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"text-danger"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"[{ "],["span",{"class":"sRlkE"},"active"],["span",{"class":"sDfIl"},": "],["span",{"class":"sZSNi"},"isActive"],["span",{"class":"sDfIl"}," }, "],["span",{"class":"sZSNi"},"errorClass"],["span",{"class":"sDfIl"},"]"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst activeColor = ref(''red'')\nconst fontSize = ref(30)\nconst styleObject = reactive({ color: ''red'', fontSize: ''13px'' })\n</script>\n\n<template>\n  <div :style=\"{ color: activeColor, fontSize: fontSize + ''px'' }\"></div>\n  <div :style=\"[baseStyles, overridingStyles]\"></div>\n  <div :style=\"styleObject\"></div>\n</template>\n","filename":"Style","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," activeColor "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"red"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," fontSize "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"30"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," styleObject "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," reactive"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"red"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," fontSize"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"13px"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"style"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"{ "],["span",{"class":"sRlkE"},"color"],["span",{"class":"sDfIl"},": "],["span",{"class":"sZSNi"},"activeColor"],["span",{"class":"sDfIl"},", "],["span",{"class":"sRlkE"},"fontSize"],["span",{"class":"sDfIl"},": "],["span",{"class":"sZSNi"},"fontSize"],["span",{"class":"sDfIl"}," + "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"px"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"style"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"["],["span",{"class":"sZSNi"},"baseStyles"],["span",{"class":"sDfIl"},", "],["span",{"class":"sZSNi"},"overridingStyles"],["span",{"class":"sDfIl"},"]"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"style"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"styleObject"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"Refer to the ",["a",{"href":"https://vuejs.org/guide/essentials/class-and-style.html","rel":["nofollow"]},"Vue docs"]," for more information."],["h3",{"id":"dynamic-styles-with-v-bind"},"Dynamic Styles With ",["code",{},"v-bind"]],["p",{},"You can reference JavaScript variable and expression within your style blocks with the v-bind function.\nThe binding will be dynamic, meaning that if the variable value changes, the style will be updated."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst color = ref(\"red\")\n</script>\n\n<template>\n  <div class=\"text\">hello</div>\n</template>\n\n<style>\n.text {\n  color: v-bind(color);\n}\n</style>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," color "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"red"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"text"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"hello"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"text"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":11},["span",{"class":"spFsF"},"  color"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," v-bind"],["span",{"class":"sZSNi"},"(color)"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"scoped-styles"},"Scoped Styles"],["p",{},"The scoped attribute allows you to style components in isolation. The styles declared with this attribute will only apply to this component."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div class=\"example\">hi</div>\n</template>\n\n<style scoped>\n.example {\n  color: red;\n}\n</style>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"example"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"hi"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," scoped"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"example"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"spFsF"},"  color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," red"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"css-modules"},"CSS Modules"],["p",{},"You can use ",["a",{"href":"https://github.com/css-modules/css-modules","rel":["nofollow"]},"CSS Modules"]," with the module attribute. Access it with the injected ",["code",{},"$style"]," variable."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <p :class=\"$style.red\">This should be red</p>\n</template>\n\n<style module>\n.red {\n  color: red;\n}\n</style>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"$style"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"red"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"This should be red"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," module"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"red"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"spFsF"},"  color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," red"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"preprocessors-support"},"Preprocessors Support"],["p",{},"SFC style blocks support preprocessor syntax. Vite comes with built-in support for .scss, .sass, .less, .styl and .stylus files without configuration. You just need to install them first, and they will be available directly in SFC with the lang attribute."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style lang=\"scss\">\n  /* Write scss here */\n</style>\n","filename":"SCSS","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"scss"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  /* Write scss here */\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style lang=\"sass\">\n  /* Write sass here */\n</style>\n","filename":"Sass","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"sass"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  /* Write sass here */\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style lang=\"less\">\n  /* Write less here */\n</style>\n","filename":"LESS","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"less"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  /* Write less here */\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style lang=\"stylus\">\n  /* Write stylus here */\n</style>\n","filename":"Stylus","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"stylus"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  /* Write stylus here */\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"You can refer to the ",["a",{"href":"https://vite.dev/guide/features.html#css","rel":["nofollow"]},"Vite CSS docs"]," and the ",["a",{"href":"https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue","rel":["nofollow"]},"@vitejs/plugin-vue docs"],".\nFor webpack users, refer to the ",["a",{"href":"https://vue-loader.vuejs.org","rel":["nofollow"]},"vue loader docs"],"."],["h2",{"id":"using-postcss"},"Using PostCSS"],["p",{},"Nuxt comes with postcss built-in. You can configure it in your ",["code",{},"nuxt.config"]," file."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  postcss: {\n    plugins: {\n      ''postcss-nested'': {},\n      ''postcss-custom-media'': {}\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  postcss"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    plugins"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sRlkE"},"postcss-nested"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sRlkE"},"postcss-custom-media"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"For proper syntax highlighting in SFC, you can use the postcss lang attribute."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<style lang=\"postcss\">\n  /* Write postcss here */\n</style>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"postcss"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  /* Write postcss here */\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"By default, Nuxt comes with the following plugins already pre-configured:"],["ul",{},["li",{},["a",{"href":"https://github.com/postcss/postcss-import","rel":["nofollow"]},"postcss-import"],": Improves the ",["code",{},"@import"]," rule"],["li",{},["a",{"href":"https://github.com/postcss/postcss-url","rel":["nofollow"]},"postcss-url"],": Transforms ",["code",{},"url()"]," statements"],["li",{},["a",{"href":"https://github.com/postcss/autoprefixer","rel":["nofollow"]},"autoprefixer"],": Automatically adds vendor prefixes"],["li",{},["a",{"href":"https://cssnano.github.io/cssnano","rel":["nofollow"]},"cssnano"],": Minification and purge"]],["h2",{"id":"leveraging-layouts-for-multiple-styles"},"Leveraging Layouts For Multiple Styles"],["p",{},"If you need to style different parts of your application completely differently, you can use layouts.\nUse different styles for different layouts."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div class=\"default-layout\">\n    <h1>Default Layout</h1>\n    <slot />\n  </div>\n</template>\n\n<style>\n.default-layout {\n  color: red;\n}\n</style>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," class"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"default-layout"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Default Layout"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"default-layout"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"spFsF"},"  color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," red"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/app/layouts"}],["h2",{"id":"third-party-libraries-and-modules"},"Third Party Libraries And Modules"],["p",{},"Nuxt isn''t opinionated when it comes to styling and provides you with a wide variety of options. You can use any styling tool that you want, such as popular libraries like ",["a",{"href":"https://unocss.dev","rel":["nofollow"]},"UnoCSS"]," or ",["a",{"href":"https://tailwindcss.com","rel":["nofollow"]},"Tailwind CSS"],"."],["p",{},"The community and the Nuxt team have developed plenty of Nuxt modules to make the integration easier.\nYou can discover them on the ",["a",{"href":"/modules"},"modules section"]," of the website.\nHere are a few modules to help you get started:"],["ul",{},["li",{},["a",{"href":"/modules/unocss"},"UnoCSS"],": Instant on-demand atomic CSS engine"],["li",{},["a",{"href":"/modules/tailwindcss"},"Tailwind CSS"],": Utility-first CSS framework"],["li",{},["a",{"href":"https://github.com/nuxt-modules/fontaine","rel":["nofollow"]},"Fontaine"],": Font metric fallback"],["li",{},["a",{"href":"https://github.com/Tahul/pinceau","rel":["nofollow"]},"Pinceau"],": Adaptable styling framework"],["li",{},["a",{"href":"https://ui.nuxt.com","rel":["nofollow"]},"Nuxt UI"],": A UI Library for Modern Web Apps"],["li",{},["a",{"href":"https://panda-css.com/docs/installation/nuxt","rel":["nofollow"]},"Panda CSS"],": CSS-in-JS engine that generates atomic CSS at build time"]],["p",{},"Nuxt modules provide you with a good developer experience out of the box, but remember that if your favorite tool doesn''t have a module, it doesn''t mean that you can''t use it with Nuxt! You can configure it yourself for your own project. Depending on the tool, you might need to use a ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt plugin"]," and/or ",["a",{"href":"/docs/guide/going-further/modules"},"make your own module"],". Share them with the ",["a",{"href":"/modules"},"community"]," if you do!"],["h3",{"id":"easily-load-webfonts"},"Easily Load Webfonts"],["p",{},"You can use ",["a",{"href":"https://github.com/nuxt-modules/google-fonts","rel":["nofollow"]},"the Nuxt Google Fonts module"]," to load Google Fonts."],["p",{},"If you are using ",["a",{"href":"https://unocss.dev/integrations/nuxt","rel":["nofollow"]},"UnoCSS"],", note that it comes with a ",["a",{"href":"https://unocss.dev/presets/web-fonts","rel":["nofollow"]},"web fonts presets"]," to conveniently load fonts from common providers, including Google Fonts and more."],["h2",{"id":"advanced"},"Advanced"],["h3",{"id":"transitions"},"Transitions"],["p",{},"Nuxt comes with the same ",["code",{},"<Transition>"]," element that Vue has, and also has support for the experimental ",["a",{"href":"/docs/getting-started/transitions#view-transitions-api-experimental"},"View Transitions API"],"."],["read-more",{"to":"/docs/getting-started/transitions"}],["h3",{"id":"font-advanced-optimization"},"Font Advanced Optimization"],["p",{},"We would recommend using ",["a",{"href":"https://github.com/nuxt-modules/fontaine","rel":["nofollow"]},"Fontaine"]," to reduce your ",["a",{"href":"https://web.dev/cls","rel":["nofollow"]},"CLS"],". If you need something more advanced, consider creating a Nuxt module to extend the build process or the Nuxt runtime."],["tip",{},["p",{},"Always remember to take advantage of the various tools and techniques available in the Web ecosystem at large to make styling your application easier and more efficient. Whether you''re using native CSS, a preprocessor, postcss, a UI library or a module, Nuxt has got you covered. Happy styling!"]],["h3",{"id":"lcp-advanced-optimizations"},"LCP Advanced Optimizations"],["p",{},"You can do the following to speed-up the download of your global CSS files:"],["ul",{},["li",{},"Use a CDN so the files are physically closer to your users"],["li",{},"Compress your assets, ideally using Brotli"],["li",{},"Use HTTP2/HTTP3 for delivery"],["li",{},"Host your assets on the same domain (do not use a different subdomain)"]],["p",{},"Most of these things should be done for you automatically if you''re using modern platforms like Cloudflare, Netlify or Vercel.\nYou can find an LCP optimization guide on ",["a",{"href":"https://web.dev/optimize-lcp","rel":["nofollow"]},"web.dev"],"."],["p",{},"If all of your CSS is inlined by Nuxt, you can (experimentally) completely stop external CSS files from being referenced in your rendered HTML.\nYou can achieve that with a hook, that you can place in a module, or in your Nuxt configuration file."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  hooks: {\n    ''build:manifest'': (manifest) => {\n      // find the app entry, css list\n      const css = Object.values(manifest).find(options => options.isEntry)?.css\n      if (css) {\n        // start from the end of the array and go to the beginning\n        for (let i = css.length - 1; i >= 0; i--) {\n          // if it starts with ''entry'', remove it from the list\n          if (css[i].startsWith(''entry'')) css.splice(i, 1)\n        }\n      }\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"build:manifest"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"manifest"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"      // find the app entry, css list\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," css"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," Object"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"values"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"manifest"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"find"],["span",{"class":"sRlkE"},"("],["span",{"class":"s1nJG"},"options"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," options"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"isEntry"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"?."],["span",{"class":"sZSNi"},"css\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"      if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"css"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"        // start from the end of the array and go to the beginning\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"        for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"let"],["span",{"class":"sZSNi"}," i"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," css"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"length"],["span",{"class":"sDfIl"}," -"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sDfIl"},";"],["span",{"class":"sZSNi"}," i"],["span",{"class":"sDfIl"}," >="],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";"],["span",{"class":"sZSNi"}," i"],["span",{"class":"sDfIl"},"--"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"          // if it starts with ''entry'', remove it from the list\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"          if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"css"],["span",{"class":"sRlkE"},"["],["span",{"class":"sZSNi"},"i"],["span",{"class":"sRlkE"},"]"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"startsWith"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"entry"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sZSNi"},"css"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"splice"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"i"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .spFsF, html code.shiki .spFsF{--shiki-light:#8796B0;--shiki-default:#8796B0;--shiki-dark:#B2CCD6}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"local-stylesheets","depth":2,"text":"Local Stylesheets","children":[{"id":"importing-within-components","depth":3,"text":"Importing Within Components"},{"id":"the-css-property","depth":3,"text":"The CSS Property"},{"id":"working-with-fonts","depth":3,"text":"Working With Fonts"},{"id":"stylesheets-distributed-through-npm","depth":3,"text":"Stylesheets Distributed Through NPM"}]},{"id":"external-stylesheets","depth":2,"text":"External Stylesheets","children":[{"id":"dynamically-adding-stylesheets","depth":3,"text":"Dynamically Adding Stylesheets"},{"id":"modifying-the-rendered-head-with-a-nitro-plugin","depth":3,"text":"Modifying The Rendered Head With A Nitro Plugin"}]},{"id":"using-preprocessors","depth":2,"text":"Using Preprocessors","children":[{"id":"preprocessor-workers-experimental","depth":3,"text":"Preprocessor Workers (Experimental)"}]},{"id":"single-file-components-sfc-styling","depth":2,"text":"Single File Components (SFC) Styling","children":[{"id":"class-and-style-bindings","depth":3,"text":"Class And Style Bindings"},{"id":"dynamic-styles-with-v-bind","depth":3,"text":"Dynamic Styles With v-bind"},{"id":"scoped-styles","depth":3,"text":"Scoped Styles"},{"id":"css-modules","depth":3,"text":"CSS Modules"},{"id":"preprocessors-support","depth":3,"text":"Preprocessors Support"}]},{"id":"using-postcss","depth":2,"text":"Using PostCSS"},{"id":"leveraging-layouts-for-multiple-styles","depth":2,"text":"Leveraging Layouts For Multiple Styles"},{"id":"third-party-libraries-and-modules","depth":2,"text":"Third Party Libraries And Modules","children":[{"id":"easily-load-webfonts","depth":3,"text":"Easily Load Webfonts"}]},{"id":"advanced","depth":2,"text":"Advanced","children":[{"id":"transitions","depth":3,"text":"Transitions"},{"id":"font-advanced-optimization","depth":3,"text":"Font Advanced Optimization"},{"id":"lcp-advanced-optimizations","depth":3,"text":"LCP Advanced Optimizations"}]}]}}', 'Learn how to style your Nuxt application.', 'md', NULL, '{}', '{"icon":"i-lucide-palette"}', '/nuxt/nuxtcore/live/getting-started/styling', '{"title":"Styling","description":"Learn how to style your Nuxt application."}', 'nuxt/nuxtcore/live/1.getting-started/06.styling', NULL, '3fJFUSBsUwUSqLOz22jcfyGZTwrhBdGZx952AnF3Npo'); -- 3fJFUSBsUwUSqLOz22jcfyGZTwrhBdGZx952AnF3Npo
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/07.routing.md', 'Routing', '{"type":"minimark","value":[["p",{},"One core feature of Nuxt is the file system router. Every Vue file inside the ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]]," directory creates a corresponding URL (or route) that displays the contents of the file. By using dynamic imports for each page, Nuxt leverages code-splitting to ship the minimum amount of JavaScript for the requested route."],["h2",{"id":"pages"},"Pages"],["p",{},"Nuxt routing is based on ",["a",{"href":"https://router.vuejs.org","rel":["nofollow"]},"vue-router"]," and generates the routes from every component created in the ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]," directory"],", based on their filename."],["p",{},"This file system routing uses naming conventions to create dynamic and nested routes:"],["code-group",{},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-| pages/\n---| about.vue\n---| index.vue\n---| posts/\n-----| [id].vue\n","filename":"Directory Structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"-"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," pages/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," about.vue\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," index.vue\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"---"],["span",{"class":"sDfIl"},"|"],["span",{"class":"s52Pk"}," posts/\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"-----"],["span",{"class":"sDfIl"},"|"],["span",{"class":"sDfIl"}," ["],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"]"],["span",{"class":"s52Pk"},".vue\n"]]]],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"routes\": [\n    {\n      \"path\": \"/about\",\n      \"component\": \"pages/about.vue\"\n    },\n    {\n      \"path\": \"/\",\n      \"component\": \"pages/index.vue\"\n    },\n    {\n      \"path\": \"/posts/:id\",\n      \"component\": \"pages/posts/[id].vue\"\n    }\n  ]\n}\n","filename":"Generated Router File","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"routes"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"/about"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"component"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"pages/about.vue"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"component"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"pages/index.vue"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"/posts/:id"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"      \""],["span",{"class":"s52Pk"},"component"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"pages/posts/[id].vue"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  ]\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}\n"]]]]],["read-more",{"to":"/docs/guide/directory-structure/app/pages"}],["h2",{"id":"navigation"},"Navigation"],["p",{},"The ",["a",{"href":"/docs/api/components/nuxt-link"},["code",{},"<NuxtLink>"]]," component links pages between them. It renders an ",["code",{},"<a>"]," tag with the ",["code",{},"href"]," attribute set to the route of the page. Once the application is hydrated, page transitions are performed in JavaScript by updating the browser URL. This prevents full-page refreshes and allows for animated transitions."],["p",{},"When a ",["a",{"href":"/docs/api/components/nuxt-link"},["code",{},"<NuxtLink>"]]," enters the viewport on the client side, Nuxt will automatically prefetch components and payload (generated pages) of the linked pages ahead of time, resulting in faster navigation."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <header>\n    <nav>\n      <ul>\n        <li><NuxtLink to=\"/about\">About</NuxtLink></li>\n        <li><NuxtLink to=\"/posts/1\">Post 1</NuxtLink></li>\n        <li><NuxtLink to=\"/posts/2\">Post 2</NuxtLink></li>\n      </ul>\n    </nav>\n  </header>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"nav"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"ul"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"        <"],["span",{"class":"sRlkE"},"li"],["span",{"class":"sDfIl"},"><"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/about"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"li"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"        <"],["span",{"class":"sRlkE"},"li"],["span",{"class":"sDfIl"},"><"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/posts/1"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Post 1"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"li"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"        <"],["span",{"class":"sRlkE"},"li"],["span",{"class":"sDfIl"},"><"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/posts/2"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Post 2"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"li"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"ul"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"nav"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"header"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/components/nuxt-link"}],["h2",{"id":"route-parameters"},"Route Parameters"],["p",{},"The ",["a",{"href":"/docs/api/composables/use-route"},["code",{},"useRoute()"]]," composable can be used in a ",["code",{},"<script setup>"]," block or a ",["code",{},"setup()"]," method of a Vue component to access the current route details."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst route = useRoute()\n\n// When accessing /posts/1, route.params.id will be 1\nconsole.log(route.params.id)\n</script>\n","filename":"pages/posts/[id].vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// When accessing /posts/1, route.params.id will be 1\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id)\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/composables/use-route"}],["h2",{"id":"route-middleware"},"Route Middleware"],["p",{},"Nuxt provides a customizable route middleware framework you can use throughout your application, ideal for extracting code that you want to run before navigating to a particular route."],["note",{},["p",{},"Route middleware runs within the Vue part of your Nuxt app. Despite the similar name, they are completely different from server middleware, which are run in the Nitro server part of your app."]],["p",{},"There are three kinds of route middleware:"],["ol",{},["li",{},"Anonymous (or inline) route middleware, which are defined directly in the pages where they are used."],["li",{},"Named route middleware, which are placed in the ",["a",{"href":"/docs/guide/directory-structure/app/middleware"},["code",{},"app/middleware/"]]," directory and will be automatically loaded via asynchronous import when used on a page. (",["strong",{},"Note"],": The route middleware name is normalized to kebab-case, so ",["code",{},"someMiddleware"]," becomes ",["code",{},"some-middleware"],".)"],["li",{},"Global route middleware, which are placed in the ",["a",{"href":"/docs/guide/directory-structure/app/middleware"},["code",{},"app/middleware/"]]," directory (with a ",["code",{},".global"]," suffix) and will be automatically run on every route change."]],["p",{},"Example of an ",["code",{},"auth"]," middleware protecting the ",["code",{},"/dashboard"]," page:"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"function isAuthenticated(): boolean { return false }\n// ---cut---\nexport default defineNuxtRouteMiddleware((to, from) => {\n  // isAuthenticated() is an example method verifying if a user is authenticated\n  if (isAuthenticated() === false) {\n    return navigateTo(''/login'')\n  }\n})\n","filename":"middleware/auth.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtRouteMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"to"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," from"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // isAuthenticated() is an example method verifying if a user is authenticated\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s3cPz"},"isAuthenticated"],["span",{"class":"sRlkE"},"() "],["span",{"class":"sDfIl"},"==="],["span",{"class":"sbKd-"}," false"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"    return"],["span",{"class":"s3cPz"}," navigateTo"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/login"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: ''auth''\n})\n</script>\n\n<template>\n  <h1>Welcome to your dashboard</h1>\n</template>\n","filename":"pages/dashboard.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  middleware"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"auth"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Welcome to your dashboard"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["read-more",{"to":"/docs/guide/directory-structure/app/middleware"}],["h2",{"id":"route-validation"},"Route Validation"],["p",{},"Nuxt offers route validation via the ",["code",{},"validate"]," property in ",["a",{"href":"/docs/api/utils/define-page-meta"},["code",{},"definePageMeta()"]]," in each page you wish to validate."],["p",{},"The ",["code",{},"validate"]," property accepts the ",["code",{},"route"]," as an argument. You can return a boolean value to determine whether or not this is a valid route to be rendered with this page. If you return ",["code",{},"false"],", this will cause a 404 error. You can also directly return an object with ",["code",{},"statusCode"],"/",["code",{},"statusMessage"]," to customize the error returned."],["p",{},"If you have a more complex use case, then you can use anonymous route middleware instead."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  validate: async (route) => {\n    // Check if the id is made up of digits\n    return typeof route.params.id === ''string'' && /^\\d+$/.test(route.params.id)\n  }\n})\n</script>\n","filename":"pages/posts/[id].vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  validate"],["span",{"class":"sDfIl"},":"],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"route"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"    // Check if the id is made up of digits\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," typeof"],["span",{"class":"sZSNi"}," route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"string"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sDfIl"}," /"],["span",{"class":"s8R28"},"^"],["span",{"class":"sGFVr"},"\\d"],["span",{"class":"sDfIl"},"+"],["span",{"class":"s8R28"},"$"],["span",{"class":"sDfIl"},"/"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"test"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/utils/define-page-meta"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"pages","depth":2,"text":"Pages"},{"id":"navigation","depth":2,"text":"Navigation"},{"id":"route-parameters","depth":2,"text":"Route Parameters"},{"id":"route-middleware","depth":2,"text":"Route Middleware"},{"id":"route-validation","depth":2,"text":"Route Validation"}]}}', 'Nuxt file-system routing creates a route for every file in the pages/ directory.', 'md', NULL, '{}', '{"icon":"i-lucide-milestone"}', '/nuxt/nuxtcore/live/getting-started/routing', '{"title":"Routing","description":"Nuxt file-system routing creates a route for every file in the pages/ directory."}', 'nuxt/nuxtcore/live/1.getting-started/07.routing', NULL, '-E50I5wZgKH1oBQoSdRESnXwCXJFe4GtgxsyC8zx9qc'); -- -E50I5wZgKH1oBQoSdRESnXwCXJFe4GtgxsyC8zx9qc
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/08.seo-meta.md', 'SEO and Meta', '{"type":"minimark","value":[["p",{},"Nuxt head tag management is powered by ",["a",{"href":"https://unhead.unjs.io","rel":["nofollow"]},"Unhead"],". It provides sensible defaults, several powerful composables\nand numerous configuration options to manage your app''s head and SEO meta tags."],["h2",{"id":"nuxt-config"},"Nuxt Config"],["p",{},"Providing an ",["a",{"href":"/docs/api/nuxt-config#head"},["code",{},"app.head"]]," property in your ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," allows you to statically customize the head for your entire app."],["important",{},["p",{},"This method does not allow you to provide reactive data. We recommend using ",["code",{},"useHead()"]," in ",["code",{},"app.vue"],"."]],["p",{},"It''s good practice to set tags here that won''t change such as your site title default, language and favicon."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    head: {\n      title: ''Nuxt'', // default fallback title\n      htmlAttrs: {\n        lang: ''en'',\n      },\n      link: [\n        { rel: ''icon'', type: ''image/x-icon'', href: ''/favicon.ico'' },\n      ]\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    head"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // default fallback title\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      htmlAttrs"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        lang"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"en"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      },\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      link"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"        {"],["span",{"class":"sRlkE"}," rel"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"icon"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," type"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"image/x-icon"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," href"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/favicon.ico"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"      ]\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can also provide any of the keys listed below in ",["a",{"href":"#types"},"Types"],"."],["h3",{"id":"defaults-tags"},"Defaults Tags"],["p",{},"Some tags are provided by Nuxt by default to ensure your website works well out of the box."],["ul",{},["li",{},["code",{},"viewport"],": ",["code",{},"width=device-width, initial-scale=1"]],["li",{},["code",{},"charset"],": ",["code",{},"utf-8"]]],["p",{},"While most sites won''t need to override these defaults, you can update them using the keyed shortcuts."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    head: {\n      // update Nuxt defaults\n      charset: ''utf-16'',\n      viewport: ''width=device-width, initial-scale=1, maximum-scale=1'',\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    head"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"      // update Nuxt defaults\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      charset"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"utf-16"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      viewport"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"width=device-width, initial-scale=1, maximum-scale=1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"usehead"},["code",{},"useHead"]],["p",{},"The ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]]," composable function supports reactive input, allowing you to manage your head tags programmatically."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  title: ''My App'',\n  meta: [\n    { name: ''description'', content: ''My amazing site.'' }\n  ],\n  bodyAttrs: {\n    class: ''test''\n  },\n  script: [ { innerHTML: ''console.log(\\''Hello world\\'')'' } ]\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"My App"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sRlkE"}," name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"description"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," content"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"My amazing site."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  bodyAttrs"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    class"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"test"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"  script"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [ "],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," innerHTML"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"console.log("],["span",{"class":"sZSNi"},"\\''"],["span",{"class":"sGFVr"},"Hello world"],["span",{"class":"sZSNi"},"\\''"],["span",{"class":"sGFVr"},")"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"}," ]\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"We recommend taking a look at the ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]]," and ",["a",{"href":"/docs/api/composables/use-head-safe"},["code",{},"useHeadSafe"]]," composables."],["h2",{"id":"useseometa"},["code",{},"useSeoMeta"]],["p",{},"The ",["a",{"href":"/docs/api/composables/use-seo-meta"},["code",{},"useSeoMeta"]]," composable lets you define your site''s SEO meta tags as an object with full type safety."],["p",{},"This helps you avoid typos and common mistakes, such as using ",["code",{},"name"]," instead of ",["code",{},"property"],"."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseSeoMeta({\n  title: ''My Amazing Site'',\n  ogTitle: ''My Amazing Site'',\n  description: ''This is my amazing site, let me tell you all about it.'',\n  ogDescription: ''This is my amazing site, let me tell you all about it.'',\n  ogImage: ''https://example.com/image.png'',\n  twitterCard: ''summary_large_image'',\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useSeoMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"My Amazing Site"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  ogTitle"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"My Amazing Site"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  description"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"This is my amazing site, let me tell you all about it."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  ogDescription"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"This is my amazing site, let me tell you all about it."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  ogImage"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://example.com/image.png"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"  twitterCard"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"summary_large_image"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/composables/use-seo-meta"}],["h2",{"id":"components"},"Components"],["p",{},"While using ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]]," is recommended in all cases, you may have a personal preference for defining your head tags in your template using components."],["p",{},"Nuxt provides the following components for this purpose: ",["code",{},"<Title>"],", ",["code",{},"<Base>"],", ",["code",{},"<NoScript>"],", ",["code",{},"<Style>"],", ",["code",{},"<Meta>"],", ",["code",{},"<Link>"],", ",["code",{},"<Body>"],", ",["code",{},"<Html>"]," and ",["code",{},"<Head>"],". Note\nthe capitalization of these components ensuring we don''t use invalid native HTML tags."],["p",{},["code",{},"<Head>"]," and ",["code",{},"<Body>"]," can accept nested meta tags (for aesthetic reasons) but this does not affect ",["em",{},"where"]," the nested meta tags are rendered in the final HTML."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst title = ref(''Hello World'')\n</script>\n\n<template>\n  <div>\n    <Head>\n      <Title>{{ title }}</Title>\n      <Meta name=\"description\" :content=\"title\" />\n      <Style>\n      body { background-color: green; }\n      </Style>\n    </Head>\n\n    <h1>{{ title }}</h1>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," title "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Hello World"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Head"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"Title"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," title "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"Title"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"Meta"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"description"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"content"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"title"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"Style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"s52Pk"},"      body"],["span",{"class":"sDfIl"}," {"],["span",{"class":"spFsF"}," background-color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," green"],["span",{"class":"sDfIl"},";"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"Style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"Head"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," title "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"It''s suggested to wrap your components in either a ",["code",{},"<Head>"]," or ",["code",{},"<Html>"]," components as tags will be deduped more intuitively."],["h2",{"id":"types"},"Types"],["p",{},"Below are the non-reactive types used for ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]],", ",["a",{"href":"/docs/api/nuxt-config#head"},["code",{},"app.head"]]," and components."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"interface MetaObject {\n  title?: string\n  titleTemplate?: string | ((title?: string) => string)\n  templateParams?: Record<string, string | Record<string, string>>\n  base?: Base\n  link?: Link[]\n  meta?: Meta[]\n  style?: Style[]\n  script?: Script[]\n  noscript?: Noscript[];\n  htmlAttrs?: HtmlAttributes;\n  bodyAttrs?: BodyAttributes;\n}\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"interface"],["span",{"class":"s52Pk"}," MetaObject"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  title"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," string\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  titleTemplate"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"title"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  templateParams"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Record"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"string"],["span",{"class":"sDfIl"},","],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"s52Pk"}," Record"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"string"],["span",{"class":"sDfIl"},","],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},">>\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  base"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Base\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  link"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Link"],["span",{"class":"sZSNi"},"[]\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Meta"],["span",{"class":"sZSNi"},"[]\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"  style"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Style"],["span",{"class":"sZSNi"},"[]\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"  script"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Script"],["span",{"class":"sZSNi"},"[]\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"  noscript"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," Noscript"],["span",{"class":"sZSNi"},"[]"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"  htmlAttrs"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," HtmlAttributes"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":12},["span",{"class":"sRlkE"},"  bodyAttrs"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," BodyAttributes"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"See ",["a",{"href":"https://github.com/unjs/unhead/blob/main/packages/vue/src/types/schema.ts","rel":["nofollow"]},"@unhead/vue"]," for more detailed types."],["h2",{"id":"features"},"Features"],["h3",{"id":"reactivity"},"Reactivity"],["p",{},"Reactivity is supported on all properties, by providing a computed value, a getter, or a reactive object."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst description = ref(''My amazing site.'')\n\nuseHead({\n  meta: [\n    { name: ''description'', content: description }\n  ],\n})\n</script>\n","filename":"useHead","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," description "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"My amazing site."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sRlkE"}," name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"description"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," content"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," description "],["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst description = ref(''My amazing site.'')\n\nuseSeoMeta({\n  description\n})\n</script>\n","filename":"useSeoMeta","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," description "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"My amazing site."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"useSeoMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  description\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst description = ref(''My amazing site.'')\n</script>\n\n<template>\n  <div>\n    <Meta name=\"description\" :content=\"description\" />\n  </div>\n</template>\n","filename":"app/Components","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," description "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"My amazing site."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Meta"],["span",{"class":"smZ93"}," name"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"description"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"content"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"description"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["h3",{"id":"title-template"},"Title Template"],["p",{},"You can use the ",["code",{},"titleTemplate"]," option to provide a dynamic template for customizing the title of your site. For example, you could add the name of your site to the title of every page."],["p",{},"The ",["code",{},"titleTemplate"]," can either be a string, where ",["code",{},"%s"]," is replaced with the title, or a function."],["p",{},"If you want to use a function (for full control), then this cannot be set in your ",["code",{},"nuxt.config"],". It is recommended instead to set it within your ",["code",{},"app.vue"]," file where it will apply to all pages on your site:"],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  titleTemplate: (titleChunk) => {\n    return titleChunk ? `${titleChunk} - Site Title` : ''Site Title'';\n  }\n})\n</script>\n","filename":"useHead","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  titleTemplate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"titleChunk"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"    return"],["span",{"class":"sZSNi"}," titleChunk"],["span",{"class":"sDfIl"}," ?"],["span",{"class":"sDfIl"}," `${"],["span",{"class":"sZSNi"},"titleChunk"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"}," - Site Title"],["span",{"class":"sDfIl"},"`"],["span",{"class":"sDfIl"}," :"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Site Title"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"Now, if you set the title to ",["code",{},"My Page"]," with ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]]," on another page of your site, the title would appear as ''My Page - Site Title'' in the browser tab. You could also pass ",["code",{},"null"]," to default to ''Site Title''."],["h3",{"id":"template-params"},"Template Params"],["p",{},"You can use ",["code",{},"templateParams"]," to provide additional placeholders in your ",["code",{},"titleTemplate"]," besides the default ",["code",{},"%s"],". This allows for more dynamic title generation."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  titleTemplate: (titleChunk) => {\n    return titleChunk ? `${titleChunk} %separator %siteName` : ''%siteName'';\n  },\n  templateParams: {\n    siteName: ''Site Title'',\n    separator: ''-''\n  }\n})\n</script>\n","filename":"useHead","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"  titleTemplate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"titleChunk"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"    return"],["span",{"class":"sZSNi"}," titleChunk"],["span",{"class":"sDfIl"}," ?"],["span",{"class":"sDfIl"}," `${"],["span",{"class":"sZSNi"},"titleChunk"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"}," %separator %siteName"],["span",{"class":"sDfIl"},"`"],["span",{"class":"sDfIl"}," :"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"%siteName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  templateParams"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    siteName"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Site Title"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    separator"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"-"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]]],["h3",{"id":"body-tags"},"Body Tags"],["p",{},"You can use the ",["code",{},"tagPosition: ''bodyClose''"]," option on applicable tags to append them to the end of the ",["code",{},"<body>"]," tag."],["p",{},"For example:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  script: [\n    {\n      src: ''https://third-party-script.com'',\n      // valid options are: ''head'' | ''bodyClose'' | ''bodyOpen''\n      tagPosition: ''bodyClose''\n    }\n  ]\n})\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  script"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      src"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://third-party-script.com"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      // valid options are: ''head'' | ''bodyClose'' | ''bodyOpen''\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      tagPosition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bodyClose"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"examples"},"Examples"],["h3",{"id":"with-definepagemeta"},"With ",["code",{},"definePageMeta"]],["p",{},"Within your ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]," directory"],", you can use ",["code",{},"definePageMeta"]," along with ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]]," to set metadata based on the current route."],["p",{},"For example, you can first set the current page title (this is extracted at build time via a macro, so it can''t be set dynamically):"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  title: ''Some Page''\n})\n</script>\n","filename":"pages/some-page.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Some Page"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"And then in your layout file, you might use the route''s metadata you have previously set:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst route = useRoute()\n\nuseHead({\n  meta: [{ property: ''og:title'', content: `App Name - ${route.meta.title}` }]\n})\n</script>\n","filename":"layouts/default.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," property"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"og:title"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," content"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"App Name - "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"title"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["link-example",{"to":"/docs/examples/features/meta-tags"}],["read-more",{"to":"/docs/guide/directory-structure/app/pages/#page-metadata"}],["h3",{"id":"dynamic-title"},"Dynamic Title"],["p",{},"In the example below, ",["code",{},"titleTemplate"]," is set either as a string with the ",["code",{},"%s"]," placeholder or as a ",["code",{},"function"],", which allows greater flexibility in setting the page title dynamically for each route of your Nuxt app:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  // as a string,\n  // where `%s` is replaced with the title\n  titleTemplate: ''%s - Site Title'',\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // as a string,\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // where `%s` is replaced with the title\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  titleTemplate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"%s - Site Title"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  // or as a function\n  titleTemplate: (productCategory) => {\n    return productCategory\n      ? `${productCategory} - Site Title`\n      : ''Site Title''\n  }\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // or as a function\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"  titleTemplate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"productCategory"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"    return"],["span",{"class":"sZSNi"}," productCategory\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      ?"],["span",{"class":"sDfIl"}," `${"],["span",{"class":"sZSNi"},"productCategory"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"}," - Site Title"],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      :"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Site Title"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},["code",{},"nuxt.config"]," is also used as an alternative way of setting the page title. However, ",["code",{},"nuxt.config"]," does not allow the page title to be dynamic. Therefore, it is recommended to use ",["code",{},"titleTemplate"]," in the ",["code",{},"app.vue"]," file to add a dynamic title, which is then applied to all routes of your Nuxt app."],["h3",{"id":"external-css"},"External CSS"],["p",{},"The example below shows how you might enable Google Fonts using either the ",["code",{},"link"]," property of the ",["a",{"href":"/docs/api/composables/use-head"},["code",{},"useHead"]]," composable or using the ",["code",{},"<Link>"]," component:"],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nuseHead({\n  link: [\n    {\n      rel: ''preconnect'',\n      href: ''https://fonts.googleapis.com''\n    },\n    {\n      rel: ''stylesheet'',\n      href: ''https://fonts.googleapis.com/css2?family=Roboto&display=swap'',\n      crossorigin: ''''\n    }\n  ]\n})\n</script>\n","filename":"useHead","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"useHead"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  link"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      rel"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"preconnect"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      href"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://fonts.googleapis.com"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      rel"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"stylesheet"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"      href"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"https://fonts.googleapis.com/css2?family=Roboto&display=swap"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"      crossorigin"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":13},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <Link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n    <Link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Roboto&display=swap\" crossorigin=\"\" />\n  </div>\n</template>\n","filename":"app/Components","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Link"],["span",{"class":"smZ93"}," rel"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"preconnect"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," href"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"https://fonts.googleapis.com"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"Link"],["span",{"class":"smZ93"}," rel"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"stylesheet"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," href"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"https://fonts.googleapis.com/css2?family=Roboto&display=swap"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," crossorigin"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .spFsF, html code.shiki .spFsF{--shiki-light:#8796B0;--shiki-default:#8796B0;--shiki-dark:#B2CCD6}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-config","depth":2,"text":"Nuxt Config","children":[{"id":"defaults-tags","depth":3,"text":"Defaults Tags"}]},{"id":"usehead","depth":2,"text":"useHead"},{"id":"useseometa","depth":2,"text":"useSeoMeta"},{"id":"components","depth":2,"text":"Components"},{"id":"types","depth":2,"text":"Types"},{"id":"features","depth":2,"text":"Features","children":[{"id":"reactivity","depth":3,"text":"Reactivity"},{"id":"title-template","depth":3,"text":"Title Template"},{"id":"template-params","depth":3,"text":"Template Params"},{"id":"body-tags","depth":3,"text":"Body Tags"}]},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"with-definepagemeta","depth":3,"text":"With definePageMeta"},{"id":"dynamic-title","depth":3,"text":"Dynamic Title"},{"id":"external-css","depth":3,"text":"External CSS"}]}]}}', 'Improve your Nuxt app''s SEO with powerful head config, composables and components.', 'md', NULL, '{}', '{"icon":"i-lucide-file-search"}', '/nuxt/nuxtcore/live/getting-started/seo-meta', '{"title":"SEO and Meta","description":"Improve your Nuxt app''s SEO with powerful head config, composables and components."}', 'nuxt/nuxtcore/live/1.getting-started/08.seo-meta', NULL, '4VQ4PflSojtBR75GfAERaY8_qNwBeqb_E5zlNK2tTWw'); -- 4VQ4PflSojtBR75GfAERaY8_qNwBeqb_E5zlNK2tTWw
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/09.transitions.md', 'Transitions', '{"type":"minimark","value":[["note",{},["p",{},"Nuxt leverages Vue''s ",["a",{"href":"https://vuejs.org/guide/built-ins/transition.html#the-transition-component","rel":["nofollow"]},["code",{},"<Transition>"]]," component to apply transitions between pages and layouts."]],["h2",{"id":"page-transitions"},"Page Transitions"],["p",{},"You can enable page transitions to apply an automatic transition for all your ",["a",{"href":"/docs/guide/directory-structure/app/pages"},"pages"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    pageTransition: { name: ''page'', mode: ''out-in'' }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"If you are changing layouts as well as page, the page transition you set here will not run. Instead, you should set a ",["a",{"href":"/docs/getting-started/transitions#layout-transitions"},"layout transition"],"."]],["p",{},"To start adding transition between your pages, add the following CSS to your ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]],":"],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtPage />\n</template>\n\n<style>\n.page-enter-active,\n.page-leave-active {\n  transition: all 0.4s;\n}\n.page-enter-from,\n.page-leave-to {\n  opacity: 0;\n  filter: blur(1rem);\n}\n</style>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"page-enter-active"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"page-leave-active"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"spFsF"},"  transition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," all "],["span",{"class":"sYRBq"},"0.4s"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"page-enter-from"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"page-leave-to"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":12},["span",{"class":"spFsF"},"  opacity"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":13},["span",{"class":"spFsF"},"  filter"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," blur"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"1rem"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>Home page</h1>\n    <NuxtLink to=\"/about\">About page</NuxtLink>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Home page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/about"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>About page</h1>\n    <NuxtLink to=\"/\">Home page</NuxtLink>\n  </div>\n</template>\n","filename":"app/pages/about.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Home page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"This produces the following result when navigating between pages:"],["video",{"controls":true,"className":["rounded"],"poster":"https://res.cloudinary.com/nuxt/video/upload/v1665061349/nuxt3/nuxt3-page-transitions_umwvmh.jpg"},"\n  ",["source",{"src":"https://res.cloudinary.com/nuxt/video/upload/v1665061349/nuxt3/nuxt3-page-transitions_umwvmh.mp4","type":"video/mp4"}]],["p",{},"To set a different transition for a page, set the ",["code",{},"pageTransition"]," key in ",["a",{"href":"/docs/api/utils/define-page-meta"},["code",{},"definePageMeta"]]," of the page:"],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  pageTransition: {\n    name: ''rotate''\n  }\n})\n</script>\n","filename":"pages/about.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"rotate"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtPage />\n</template>\n\n<style>\n/* ... */\n.rotate-enter-active,\n.rotate-leave-active {\n  transition: all 0.4s;\n}\n.rotate-enter-from,\n.rotate-leave-to {\n  opacity: 0;\n  transform: rotate3d(1, 1, 1, 15deg);\n}\n</style>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"/* ... */\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"rotate-enter-active"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"rotate-leave-active"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"spFsF"},"  transition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," all "],["span",{"class":"sYRBq"},"0.4s"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"rotate-enter-from"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"rotate-leave-to"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"spFsF"},"  opacity"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":14},["span",{"class":"spFsF"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," rotate3d"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 15deg"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"Moving to the about page will add the 3d rotation effect:"],["video",{"controls":true,"className":["rounded"],"poster":"https://res.cloudinary.com/nuxt/video/upload/v1665063233/nuxt3/nuxt3-page-transitions-cutom.jpg"},"\n  ",["source",{"src":"https://res.cloudinary.com/nuxt/video/upload/v1665063233/nuxt3/nuxt3-page-transitions-cutom.mp4","type":"video/mp4"}]],["h2",{"id":"layout-transitions"},"Layout Transitions"],["p",{},"You can enable layout transitions to apply an automatic transition for all your ",["a",{"href":"/docs/guide/directory-structure/app/layouts"},"layouts"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    layoutTransition: { name: ''layout'', mode: ''out-in'' }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    layoutTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"layout"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"To start adding transition between your pages and layouts, add the following CSS to your ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]],":"],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <NuxtLayout>\n    <NuxtPage />\n  </NuxtLayout>\n</template>\n\n<style>\n.layout-enter-active,\n.layout-leave-active {\n  transition: all 0.4s;\n}\n.layout-enter-from,\n.layout-leave-to {\n  filter: grayscale(1);\n}\n</style>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"layout-enter-active"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"layout-leave-active"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"spFsF"},"  transition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," all "],["span",{"class":"sYRBq"},"0.4s"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"layout-enter-from"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"layout-leave-to"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"spFsF"},"  filter"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," grayscale"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <pre>default layout</pre>\n    <slot />\n  </div>\n</template>\n\n<style scoped>\ndiv {\n  background-color: lightgreen;\n}\n</style>\n","filename":"app/layouts/default.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"pre"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"default layout"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"pre"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," scoped"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"div"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"spFsF"},"  background-color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," lightgreen"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <pre>orange layout</pre>\n    <slot />\n  </div>\n</template>\n\n<style scoped>\ndiv {\n  background-color: #eebb90;\n  padding: 20px;\n  height: 100vh;\n}\n</style>\n","filename":"app/layouts/orange.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"pre"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"orange layout"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"pre"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"smZ93"}," scoped"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"div"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"spFsF"},"  background-color"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," #"],["span",{"class":"sZSNi"},"eebb90"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":11},["span",{"class":"spFsF"},"  padding"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 20px"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":12},["span",{"class":"spFsF"},"  height"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 100vh"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <h1>Home page</h1>\n    <NuxtLink to=\"/about\">About page</NuxtLink>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Home page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/about"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  layout: ''orange''\n})\n</script>\n\n<template>\n  <div>\n    <h1>About page</h1>\n    <NuxtLink to=\"/\">Home page</NuxtLink>\n  </div>\n</template>\n","filename":"app/pages/about.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  layout"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"orange"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"About page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"smZ93"}," to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Home page"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"This produces the following result when navigating between pages:"],["video",{"controls":true,"className":["rounded"],"poster":"https://res.cloudinary.com/nuxt/video/upload/v1665065289/nuxt3/nuxt3-layouts-transitions_c9hwlx.jpg"},"\n  ",["source",{"src":"https://res.cloudinary.com/nuxt/video/upload/v1665065289/nuxt3/nuxt3-layouts-transitions_c9hwlx.mp4","type":"video/mp4"}]],["p",{},"Similar to ",["code",{},"pageTransition"],", you can apply a custom ",["code",{},"layoutTransition"]," to the page component using ",["code",{},"definePageMeta"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  layout: ''orange'',\n  layoutTransition: {\n    name: ''slide-in''\n  }\n})\n</script>\n","filename":"pages/about.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  layout"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"orange"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  layoutTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"slide-in"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"global-settings"},"Global Settings"],["p",{},"You can customize these default transition names globally using ",["code",{},"nuxt.config"],"."],["p",{},"Both ",["code",{},"pageTransition"]," and ",["code",{},"layoutTransition"]," keys accept ",["a",{"href":"https://vuejs.org/api/built-in-components.html#transition","rel":["nofollow"]},["code",{},"TransitionProps"]]," as JSON serializable values where you can pass the ",["code",{},"name"],", ",["code",{},"mode"]," and other valid transition-props of the custom CSS transition."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    pageTransition: {\n      name: ''fade'',\n      mode: ''out-in'' // default\n    },\n    layoutTransition: {\n      name: ''slide'',\n      mode: ''out-in'' // default\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"fade"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sWuyu"}," // default\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    layoutTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"slide"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sWuyu"}," // default\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"If you change the ",["code",{},"name"]," property, you also have to rename the CSS classes accordingly."]],["p",{},"To override the global transition property, use the ",["code",{},"definePageMeta"]," to define page or layout transitions for a single Nuxt page and override any page or layout transitions that are defined globally in ",["code",{},"nuxt.config"]," file."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  pageTransition: {\n    name: ''bounce'',\n    mode: ''out-in'' // default\n  }\n})\n</script>\n","filename":"pages/some-page.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"bounce"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sWuyu"}," // default\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"disable-transitions"},"Disable Transitions"],["p",{},["code",{},"pageTransition"]," and ",["code",{},"layoutTransition"]," can be disabled for a specific route:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  pageTransition: false,\n  layoutTransition: false\n})\n</script>\n","filename":"pages/some-page.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  layoutTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Or globally in the ",["code",{},"nuxt.config"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    pageTransition: false,\n    layoutTransition: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    layoutTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"javascript-hooks"},"JavaScript Hooks"],["p",{},"For advanced use-cases, you can use JavaScript hooks to create highly dynamic and custom transitions for your Nuxt pages."],["p",{},"This way presents perfect use-cases for JavaScript animation libraries such as ",["a",{"href":"https://gsap.com","rel":["nofollow"]},"GSAP"],"."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  pageTransition: {\n    name: ''custom-flip'',\n    mode: ''out-in'',\n    onBeforeEnter: (el) => {\n      console.log(''Before enter...'')\n    },\n    onEnter: (el, done) => {},\n    onAfterEnter: (el) => {}\n  }\n})\n</script>\n","filename":"pages/some-page.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"custom-flip"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"    onBeforeEnter"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"el"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"      console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Before enter..."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"    onEnter"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"el"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," done"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {},\n"]],["span",{"class":"line","line":10},["span",{"class":"s3cPz"},"    onAfterEnter"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"el"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {}\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["tip",{},["p",{},"Learn more about additional ",["a",{"href":"https://vuejs.org/guide/built-ins/transition.html#javascript-hooks","rel":["nofollow"]},"JavaScript hooks"]," available in the ",["code",{},"Transition"]," component."]],["h2",{"id":"dynamic-transitions"},"Dynamic Transitions"],["p",{},"To apply dynamic transitions using conditional logic, you can leverage inline ",["a",{"href":"/docs/guide/directory-structure/app/middleware"},"middleware"]," to assign a different transition name to ",["code",{},"to.meta.pageTransition"],"."],["code-group",{},["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  pageTransition: {\n    name: ''slide-right'',\n    mode: ''out-in''\n  },\n  middleware (to, from) {\n    if (to.meta.pageTransition && typeof to.meta.pageTransition !== ''boolean'')\n      to.meta.pageTransition.name = +to.params.id! > +from.params.id! ? ''slide-left'' : ''slide-right''\n  }\n})\n</script>\n\n<template>\n  <h1>#{{ $route.params.id }}</h1>\n</template>\n\n<style>\n.slide-left-enter-active,\n.slide-left-leave-active,\n.slide-right-enter-active,\n.slide-right-leave-active {\n  transition: all 0.2s;\n}\n.slide-left-enter-from {\n  opacity: 0;\n  transform: translate(50px, 0);\n}\n.slide-left-leave-to {\n  opacity: 0;\n  transform: translate(-50px, 0);\n}\n.slide-right-enter-from {\n  opacity: 0;\n  transform: translate(-50px, 0);\n}\n.slide-right-leave-to {\n  opacity: 0;\n  transform: translate(50px, 0);\n}\n</style>\n","filename":"pages/[id].vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  pageTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"slide-right"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  middleware"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"to"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," from"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"    if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"pageTransition"],["span",{"class":"sDfIl"}," &&"],["span",{"class":"sDfIl"}," typeof"],["span",{"class":"sZSNi"}," to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"pageTransition"],["span",{"class":"sDfIl"}," !=="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"boolean"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"      to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"pageTransition"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"name"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," +"],["span",{"class":"sZSNi"},"to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"!"],["span",{"class":"sDfIl"}," >"],["span",{"class":"sDfIl"}," +"],["span",{"class":"sZSNi"},"from"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"!"],["span",{"class":"sDfIl"}," ?"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"slide-left"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," :"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"slide-right"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"#{{ $route.params.id }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-left-enter-active"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-left-leave-active"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-right-enter-active"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-right-leave-active"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":23},["span",{"class":"spFsF"},"  transition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," all "],["span",{"class":"sYRBq"},"0.2s"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":24},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":25},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-left-enter-from"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":26},["span",{"class":"spFsF"},"  opacity"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":27},["span",{"class":"spFsF"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," translate"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"50px"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":28},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":29},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-left-leave-to"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":30},["span",{"class":"spFsF"},"  opacity"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":31},["span",{"class":"spFsF"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," translate"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"-50px"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":32},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":33},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-right-enter-from"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":34},["span",{"class":"spFsF"},"  opacity"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":35},["span",{"class":"spFsF"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," translate"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"-50px"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":36},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":37},["span",{"class":"sDfIl"},"."],["span",{"class":"s52Pk"},"slide-right-leave-to"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":38},["span",{"class":"spFsF"},"  opacity"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":39},["span",{"class":"spFsF"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," translate"],["span",{"class":"sDfIl"},"("],["span",{"class":"sYRBq"},"50px"],["span",{"class":"sDfIl"},","],["span",{"class":"sYRBq"}," 0"],["span",{"class":"sDfIl"},");\n"]],["span",{"class":"line","line":40},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":41},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"style"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst route = useRoute()\nconst id = computed(() => Number(route.params.id || 1))\nconst prev = computed(() => ''/'' + (id.value - 1))\nconst next = computed(() => ''/'' + (id.value + 1))\n</script>\n\n<template>\n  <div>\n    <slot />\n    <div v-if=\"$route.params.id\">\n      <NuxtLink :to=\"prev\">⬅️</NuxtLink> |\n      <NuxtLink :to=\"next\">➡️</NuxtLink>\n    </div>\n  </div>\n</template>\n","filename":"app/layouts/default.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," id "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," Number"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id "],["span",{"class":"sDfIl"},"||"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," prev "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," +"],["span",{"class":"sZSNi"}," (id"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"-"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," next "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," +"],["span",{"class":"sZSNi"}," (id"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"+"],["span",{"class":"sYRBq"}," 1"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"slot"],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"$route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"prev"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"⬅️"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"}," |\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"to"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"next"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"➡️"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"NuxtLink"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["p",{},"The page now applies the ",["code",{},"slide-left"]," transition when going to the next id and ",["code",{},"slide-right"]," for the previous:"],["video",{"controls":true,"className":["rounded"],"poster":"https://res.cloudinary.com/nuxt/video/upload/v1665069410/nuxt3/nuxt-dynamic-page-transitions.jpg"},"\n  ",["source",{"src":"https://res.cloudinary.com/nuxt/video/upload/v1665069410/nuxt3/nuxt-dynamic-page-transitions.mp4","type":"video/mp4"}]],["h2",{"id":"transition-with-nuxtpage"},"Transition with NuxtPage"],["p",{},"When ",["code",{},"<NuxtPage />"]," is used in ",["code",{},"app.vue"],", transitions can be configured with the ",["code",{},"transition"]," prop to activate transitions globally."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <div>\n    <NuxtLayout>\n      <NuxtPage :transition=\"{\n        name: ''bounce'',\n        mode: ''out-in''\n      }\" />\n    </NuxtLayout>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"NuxtPage"],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"transition"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        name"],["span",{"class":"sDfIl"},": "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"bounce"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        mode"],["span",{"class":"sDfIl"},": "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"out-in"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      }"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," />\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"NuxtLayout"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Remember, this page transition cannot be overridden with ",["code",{},"definePageMeta"]," on individual pages."]],["h2",{"id":"view-transitions-api-experimental"},"View Transitions API (experimental)"],["p",{},"Nuxt ships with an experimental implementation of the ",["a",{"href":"https://developer.chrome.com/docs/web-platform/view-transitions","rel":["nofollow"]},["strong",{},"View Transitions API"]]," (see ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API","rel":["nofollow"]},"MDN"],"). This is an exciting new way to implement native browser transitions which (among other things) have the ability to transition between unrelated elements on different pages."],["p",{},"You can check a demo on ",["a",{"href":"https://nuxt-view-transitions.surge.sh","rel":["nofollow"]},"https://nuxt-view-transitions.surge.sh"]," and the ",["a",{"href":"https://stackblitz.com/edit/nuxt-view-transitions","rel":["nofollow"]},"source on StackBlitz"],"."],["p",{},"The Nuxt integration is under active development, but can be enabled with the ",["code",{},"experimental.viewTransition"]," option in your configuration file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    viewTransition: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    viewTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"The possible values are: ",["code",{},"false"],", ",["code",{},"true"],", or ",["code",{},"''always''"],"."],["p",{},"If set to true, Nuxt will not apply transitions if the user''s browser matches ",["code",{},"prefers-reduced-motion: reduce"]," (recommended). If set to ",["code",{},"always"],", Nuxt will always apply the transition and it is up to you to respect the user''s preference."],["p",{},"By default, view transitions are enabled for all ",["a",{"href":"/docs/guide/directory-structure/app/pages"},"pages"],", but you can set a different global default."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  app: {\n    // Disable view transitions globally, and opt-in on a per page basis\n    viewTransition: false\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Disable view transitions globally, and opt-in on a per page basis\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    viewTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"It is possible to override the default ",["code",{},"viewTransition"]," value for a page by setting the ",["code",{},"viewTransition"]," key in ",["a",{"href":"/docs/api/utils/define-page-meta"},["code",{},"definePageMeta"]]," of the page:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  viewTransition: false\n})\n</script>\n","filename":"pages/about.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"definePageMeta"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  viewTransition"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["warning",{},["p",{},"Overriding view transitions on a per-page basis will only have an effect if you have enabled the ",["code",{},"experimental.viewTransition"]," option."]],["p",{},"If you are also using Vue transitions like ",["code",{},"pageTransition"]," and ",["code",{},"layoutTransition"]," (see above) to achieve the same result as the new View Transitions API, then you may wish to ",["em",{},"disable"]," Vue transitions if the user''s browser supports the newer, native web API. You can do this by creating ",["code",{},"~/middleware/disable-vue-transitions.global.ts"]," with the following contents:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtRouteMiddleware(to => {\n  if (import.meta.server || !document.startViewTransition) { return }\n\n  // Disable built-in Vue transitions\n  to.meta.pageTransition = false\n  to.meta.layoutTransition = false\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtRouteMiddleware"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"to"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"server"],["span",{"class":"sDfIl"}," ||"],["span",{"class":"sDfIl"}," !"],["span",{"class":"sZSNi"},"document"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"startViewTransition"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{"],["span",{"class":"s8R28"}," return"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // Disable built-in Vue transitions\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"pageTransition"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  to"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"layoutTransition"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"known-issues"},"Known Issues"],["ul",{},["li",{},"If you perform data fetching within your page setup functions, you may wish to reconsider using this feature for the moment. (By design, View Transitions completely freeze DOM updates whilst they are taking place.) We''re looking at restricting the View Transition to the final moments before ",["code",{},"<Suspense>"]," resolves, but in the interim you may want to consider carefully whether to adopt this feature if this describes you."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .spFsF, html code.shiki .spFsF{--shiki-light:#8796B0;--shiki-default:#8796B0;--shiki-dark:#B2CCD6}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"page-transitions","depth":2,"text":"Page Transitions"},{"id":"layout-transitions","depth":2,"text":"Layout Transitions"},{"id":"global-settings","depth":2,"text":"Global Settings"},{"id":"disable-transitions","depth":2,"text":"Disable Transitions"},{"id":"javascript-hooks","depth":2,"text":"JavaScript Hooks"},{"id":"dynamic-transitions","depth":2,"text":"Dynamic Transitions"},{"id":"transition-with-nuxtpage","depth":2,"text":"Transition with NuxtPage"},{"id":"view-transitions-api-experimental","depth":2,"text":"View Transitions API (experimental)","children":[{"id":"known-issues","depth":3,"text":"Known Issues"}]}]}}', 'Apply transitions between pages and layouts with Vue or native browser View Transitions.', 'md', NULL, '{}', '{"icon":"i-lucide-toggle-right"}', '/nuxt/nuxtcore/live/getting-started/transitions', '{"title":"Transitions","description":"Apply transitions between pages and layouts with Vue or native browser View Transitions."}', 'nuxt/nuxtcore/live/1.getting-started/09.transitions', NULL, 'WiXwxjaXPKeZCpaFZQGlEkkuUAbZUigdZRD_1QXQbHE'); -- WiXwxjaXPKeZCpaFZQGlEkkuUAbZUigdZRD_1QXQbHE
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/10.data-fetching.md', 'Data Fetching', '{"type":"minimark","value":[["p",{},"Nuxt comes with two composables and a built-in library to perform data-fetching in browser or server environments: ",["code",{},"useFetch"],", ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," and ",["code",{},"$fetch"],"."],["p",{},"In a nutshell:"],["ul",{},["li",{},["a",{"href":"/docs/api/utils/dollarfetch"},["code",{},"$fetch"]]," is the simplest way to make a network request."],["li",{},["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," is a wrapper around ",["code",{},"$fetch"]," that fetches data only once in ",["a",{"href":"/docs/guide/concepts/rendering#universal-rendering"},"universal rendering"],"."],["li",{},["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," is similar to ",["code",{},"useFetch"]," but offers more fine-grained control."]],["p",{},"Both ",["code",{},"useFetch"]," and ",["code",{},"useAsyncData"]," share a common set of options and patterns that we will detail in the last sections."],["h2",{"id":"the-need-for-usefetch-and-useasyncdata"},"The need for ",["code",{},"useFetch"]," and ",["code",{},"useAsyncData"]],["p",{},"Nuxt is a framework which can run isomorphic (or universal) code in both server and client environments. If the ",["a",{"href":"/docs/api/utils/dollarfetch"},["code",{},"$fetch"]," function"]," is used to perform data fetching in the setup function of a Vue component, this may cause data to be fetched twice, once on the server (to render the HTML) and once again on the client (when the HTML is hydrated). This can cause hydration issues, increase the time to interactivity and cause unpredictable behavior."],["p",{},"The ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," and ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," composables solve this problem by ensuring that if an API call is made on the server, the data is forwarded to the client in the payload."],["p",{},"The payload is a JavaScript object accessible through ",["a",{"href":"/docs/api/composables/use-nuxt-app#payload"},["code",{},"useNuxtApp().payload"]],". It is used on the client to avoid refetching the same data when the code is executed in the browser ",["a",{"href":"/docs/guide/concepts/rendering#universal-rendering"},"during hydration"],"."],["tip",{},["p",{},"Use the ",["a",{"href":"https://devtools.nuxt.com","rel":["nofollow"]},"Nuxt DevTools"]," to inspect this data in the ",["strong",{},"Payload tab"],"."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data } = await useFetch(''/api/data'')\n\nasync function handleFormSubmit() {\n  const res = await $fetch(''/api/submit'', {\n    method: ''POST'',\n    body: {\n      // My form data\n    }\n  })\n}\n</script>\n\n<template>\n  <div v-if=\"data == undefined\">\n    No data\n  </div>\n  <div v-else>\n    <form @submit=\"handleFormSubmit\">\n      <!-- form input tags -->\n    </form>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/data"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," handleFormSubmit"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," res"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/submit"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"POST"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    body"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"      // My form data\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"data"],["span",{"class":"sDfIl"}," == undefined"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sZSNi"},"    No data\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-else"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"form"],["span",{"class":"sDfIl"}," @"],["span",{"class":"smZ93"},"submit"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"handleFormSubmit"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":20},["span",{"class":"sWuyu"},"      <!-- form input tags -->\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"form"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":23},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"In the example above, ",["code",{},"useFetch"]," would make sure that the request would occur in the server and is properly forwarded to the browser. ",["code",{},"$fetch"]," has no such mechanism and is a better option to use when the request is solely made from the browser."],["h3",{"id":"suspense"},"Suspense"],["p",{},"Nuxt uses Vue''s ",["a",{"href":"https://vuejs.org/guide/built-ins/suspense","rel":["nofollow"]},["code",{},"<Suspense>"]]," component under the hood to prevent navigation before every async data is available to the view. The data fetching composables can help you leverage this feature and use what suits best on a per-call basis."],["note",{},["p",{},"You can add the ",["a",{"href":"/docs/api/components/nuxt-loading-indicator"},["code",{},"<NuxtLoadingIndicator>"]]," to add a progress bar between page navigations."]],["h2",{"id":"fetch"},["code",{},"$fetch"]],["p",{},"Nuxt includes the ",["a",{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"ofetch"]," library, and is auto-imported as the ",["code",{},"$fetch"]," alias globally across your application."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nasync function addTodo() {\n  const todo = await $fetch(''/api/todos'', {\n    method: ''POST'',\n    body: {\n      // My todo data\n    }\n  })\n}\n</script>\n","filename":"pages/todos.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," addTodo"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," todo"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/todos"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"POST"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    body"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"      // My todo data\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["warning",{},["p",{},"Beware that using only ",["code",{},"$fetch"]," will not provide ",["a",{"href":"#the-need-for-usefetch-and-useasyncdata"},"network calls de-duplication and navigation prevention"],". ",["br",{}],"\nIt is recommended to use ",["code",{},"$fetch"]," for client-side interactions (event-based) or combined with ",["a",{"href":"#useasyncdata"},["code",{},"useAsyncData"]]," when fetching the initial component data."]],["read-more",{"to":"/docs/api/utils/dollarfetch"},["p",{},"Read more about ",["code",{},"$fetch"],"."]],["h3",{"id":"pass-client-headers-to-the-api"},"Pass Client Headers to the API"],["p",{},"When calling ",["code",{},"useFetch"]," on the server, Nuxt will use ",["a",{"href":"/docs/api/composables/use-request-fetch"},["code",{},"useRequestFetch"]]," to proxy client headers and cookies (with the exception of headers not meant to be forwarded, like ",["code",{},"host"],")."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data } = await useFetch(''/api/echo'');\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/echo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// /api/echo.ts\nexport default defineEventHandler(event => parseCookies(event))\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// /api/echo.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"event"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," parseCookies"],["span",{"class":"sZSNi"},"(event))\n"]]]],["p",{},"Alternatively, the example below shows how to use ",["a",{"href":"/docs/api/composables/use-request-headers"},["code",{},"useRequestHeaders"]]," to access and send cookies to the API from a server-side request (originating on the client). Using an isomorphic ",["code",{},"$fetch"]," call, we ensure that the API endpoint has access to the same ",["code",{},"cookie"]," header originally sent by the user''s browser. This is only necessary if you aren''t using ",["code",{},"useFetch"],"."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst headers = useRequestHeaders([''cookie''])\n\nasync function getCurrentUser() {\n  return await $fetch(''/api/me'', { headers })\n}\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," headers "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRequestHeaders"],["span",{"class":"sZSNi"},"(["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"cookie"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"])\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," getCurrentUser"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/me"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," headers"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["tip",{},["p",{},"You can also use ",["a",{"href":"/docs/api/composables/use-request-fetch"},["code",{},"useRequestFetch"]]," to proxy headers to the call automatically."]],["caution",{},["p",{},"Be very careful before proxying headers to an external API and just include headers that you need. Not all headers are safe to be bypassed and might introduce unwanted behavior. Here is a list of common headers that are NOT to be proxied:"],["ul",{},["li",{},["code",{},"host"],", ",["code",{},"accept"]],["li",{},["code",{},"content-length"],", ",["code",{},"content-md5"],", ",["code",{},"content-type"]],["li",{},["code",{},"x-forwarded-host"],", ",["code",{},"x-forwarded-port"],", ",["code",{},"x-forwarded-proto"]],["li",{},["code",{},"cf-connecting-ip"],", ",["code",{},"cf-ray"]]]],["h2",{"id":"usefetch"},["code",{},"useFetch"]],["p",{},"The ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," composable uses ",["code",{},"$fetch"]," under-the-hood to make SSR-safe network calls in the setup function."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data: count } = await useFetch(''/api/count'')\n</script>\n\n<template>\n  <p>Page visits: {{ count }}</p>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," count "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/count"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Page visits: {{ count }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"This composable is a wrapper around the ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," composable and ",["code",{},"$fetch"]," utility."],["video-accordion",{"title":"Watch a video from Alexander Lichter to avoid using useFetch the wrong way","video-id":"njsGVmcWviY"}],["read-more",{"to":"/docs/api/composables/use-fetch"}],["link-example",{"to":"/docs/examples/features/data-fetching"}],["h2",{"id":"useasyncdata"},["code",{},"useAsyncData"]],["p",{},"The ",["code",{},"useAsyncData"]," composable is responsible for wrapping async logic and returning the result once it is resolved."],["tip",{},["p",{},["code",{},"useFetch(url)"]," is nearly equivalent to ",["code",{},"useAsyncData(url, () => event.$fetch(url))"],". ",["br",{}],"\nIt''s developer experience sugar for the most common use case. (You can find out more about ",["code",{},"event.fetch"]," at ",["a",{"href":"/docs/api/composables/use-request-fetch"},["code",{},"useRequestFetch"]],".)"]],["video-accordion",{"title":"Watch a video from Alexander Lichter to dig deeper into the difference between useFetch and useAsyncData","video-id":"0X-aOpSGabA"}],["p",{},"There are some cases when using the ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," composable is not appropriate, for example when a CMS or a third-party provide their own query layer. In this case, you can use ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," to wrap your calls and still keep the benefits provided by the composable."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data, error } = await useAsyncData(''users'', () => myGetFunction(''users''))\n\n// This is also possible:\nconst { data, error } = await useAsyncData(() => myGetFunction(''users''))\n</script>\n","filename":"app/pages/users.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," myGetFunction"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// This is also possible:\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," myGetFunction"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"The first argument of ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," is a unique key used to cache the response of the second argument, the querying function. This key can be ignored by directly passing the querying function, the key will be auto-generated.\n",["br",{}]," ",["br",{}],"\nSince the autogenerated key only takes into account the file and line where ",["code",{},"useAsyncData"]," is invoked, it is recommended to always create your own key to avoid unwanted behavior, like when you are creating your own custom composable wrapping ",["code",{},"useAsyncData"],".\n",["br",{}]," ",["br",{}],"\nSetting a key can be useful to share the same data between components using ",["a",{"href":"/docs/api/composables/use-nuxt-data"},["code",{},"useNuxtData"]]," or to ",["a",{"href":"/docs/api/utils/refresh-nuxt-data#refresh-specific-data"},"refresh specific data"],"."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { id } = useRoute().params\n\nconst { data, error } = await useAsyncData(`user:${id}`, () => {\n  return myGetFunction(''users'', { id })\n})\n</script>\n","filename":"app/pages/users/[id].vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," id "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"user:"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," myGetFunction"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," id"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"The ",["code",{},"useAsyncData"]," composable is a great way to wrap and wait for multiple ",["code",{},"$fetch"]," requests to be completed, and then process the results."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data: discounts, status } = await useAsyncData(''cart-discount'', async () => {\n  const [coupons, offers] = await Promise.all([\n    $fetch(''/cart/coupons''),\n    $fetch(''/cart/offers'')\n  ])\n\n  return { coupons, offers }\n})\n// discounts.value.coupons\n// discounts.value.offers\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," discounts"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," status "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"cart-discount"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," ["],["span",{"class":"sZSNi"},"coupons"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," offers"],["span",{"class":"sDfIl"},"]"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s52Pk"}," Promise"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"all"],["span",{"class":"sRlkE"},"([\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"    $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/cart/coupons"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"    $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/cart/offers"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  ])\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," coupons"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," offers"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"// discounts.value.coupons\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"// discounts.value.offers\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},["code",{},"useAsyncData"]," is for fetching and caching data, not triggering side effects like calling Pinia actions, as this can cause unintended behavior such as repeated executions with nullish values. If you need to trigger side effects, use the ",["a",{"href":"/docs/api/utils/call-once"},["code",{},"callOnce"]]," utility to do so."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst offersStore = useOffersStore()\n\n// you can''t do this\nawait useAsyncData(() => offersStore.getOffer(route.params.slug))\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," offersStore "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useOffersStore"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// you can''t do this\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," offersStore"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getOffer"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug))\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]]],["read-more",{"to":"/docs/api/composables/use-async-data"},["p",{},"Read more about ",["code",{},"useAsyncData"],"."]],["h2",{"id":"return-values"},"Return Values"],["p",{},["code",{},"useFetch"]," and ",["code",{},"useAsyncData"]," have the same return values listed below."],["ul",{},["li",{},["code",{},"data"],": the result of the asynchronous function that is passed in."],["li",{},["code",{},"refresh"],"/",["code",{},"execute"],": a function that can be used to refresh the data returned by the ",["code",{},"handler"]," function."],["li",{},["code",{},"clear"],": a function that can be used to set ",["code",{},"data"]," to ",["code",{},"undefined"]," (or the value of ",["code",{},"options.default()"]," if provided), set ",["code",{},"error"]," to ",["code",{},"undefined"],", set ",["code",{},"status"]," to ",["code",{},"idle"],", and mark any currently pending requests as cancelled."],["li",{},["code",{},"error"],": an error object if the data fetching failed."],["li",{},["code",{},"status"],": a string indicating the status of the data request (",["code",{},"\"idle\""],", ",["code",{},"\"pending\""],", ",["code",{},"\"success\""],", ",["code",{},"\"error\""],")."]],["note",{},["p",{},["code",{},"data"],", ",["code",{},"error"]," and ",["code",{},"status"]," are Vue refs accessible with ",["code",{},".value"]," in ",["code",{},"<script setup>"]]],["p",{},"By default, Nuxt waits until a ",["code",{},"refresh"]," is finished before it can be executed again."],["note",{},["p",{},"If you have not fetched data on the server (for example, with ",["code",{},"server: false"],"), then the data ",["em",{},"will not"]," be fetched until hydration completes. This means even if you await ",["code",{},"useFetch"]," on client-side, ",["code",{},"data"]," will remain null within ",["code",{},"<script setup>"],"."]],["h2",{"id":"options"},"Options"],["p",{},["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," and ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," return the same object type and accept a common set of options as their last argument. They can help you control the composables behavior, such as navigation blocking, caching or execution."],["h3",{"id":"lazy"},"Lazy"],["p",{},"By default, data fetching composables will wait for the resolution of their asynchronous function before navigating to a new page by using Vue''s Suspense. This feature can be ignored on client-side navigation with the ",["code",{},"lazy"]," option. In that case, you will have to manually handle loading state using the ",["code",{},"status"]," value."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { status, data: posts } = useFetch(''/api/posts'', {\n  lazy: true\n})\n</script>\n\n<template>\n  <!-- you will need to handle a loading state -->\n  <div v-if=\"status === ''pending''\">\n    Loading ...\n  </div>\n  <div v-else>\n    <div v-for=\"post in posts\">\n      <!-- do something -->\n    </div>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," status"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," posts "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/posts"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  lazy"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"  <!-- you will need to handle a loading state -->\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"status === ''pending''"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"    Loading ...\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," v-else"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," v-for"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"post in posts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"      <!-- do something -->\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"You can alternatively use ",["a",{"href":"/docs/api/composables/use-lazy-fetch"},["code",{},"useLazyFetch"]]," and ",["code",{},"useLazyAsyncData"]," as convenient methods to perform the same."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { status, data: posts } = useLazyFetch(''/api/posts'')\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," status"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," posts "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useLazyFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/posts"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/composables/use-lazy-fetch"},["p",{},"Read more about ",["code",{},"useLazyFetch"],"."]],["read-more",{"to":"/docs/api/composables/use-lazy-async-data"},["p",{},"Read more about ",["code",{},"useLazyAsyncData"],"."]],["video-accordion",{"title":"Watch a video from Vue School on blocking vs. non-blocking (lazy) requests","video-id":"1022000555","platform":"vimeo"}],["h3",{"id":"client-only-fetching"},"Client-only fetching"],["p",{},"By default, data fetching composables will perform their asynchronous function on both client and server environments. Set the ",["code",{},"server"]," option to ",["code",{},"false"]," to only perform the call on the client-side. On initial load, the data will not be fetched before hydration is complete so you have to handle a pending state, though on subsequent client-side navigation the data will be awaited before loading the page."],["p",{},"Combined with the ",["code",{},"lazy"]," option, this can be useful for data that is not needed on the first render (for example, non-SEO sensitive data)."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"/* This call is performed before hydration */\nconst articles = await useFetch(''/api/article'')\n\n/* This call will only be performed on the client */\nconst { status, data: comments } = useFetch(''/api/comments'', {\n  lazy: true,\n  server: false\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"/* This call is performed before hydration */\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," articles "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/article"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"/* This call will only be performed on the client */\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," status"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," comments "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/comments"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  lazy"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  server"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"The ",["code",{},"useFetch"]," composable is meant to be invoked in setup method or called directly at the top level of a function in lifecycle hooks, otherwise you should use ",["a",{"href":"#fetch"},["code",{},"$fetch"]," method"],"."],["h3",{"id":"minimize-payload-size"},"Minimize payload size"],["p",{},"The ",["code",{},"pick"]," option helps you to minimize the payload size stored in your HTML document by only selecting the fields that you want returned from the composables."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n/* only pick the fields used in your template */\nconst { data: mountain } = await useFetch(''/api/mountains/everest'', {\n  pick: [''title'', ''description'']\n})\n</script>\n\n<template>\n  <h1>{{ mountain.title }}</h1>\n  <p>{{ mountain.description }}</p>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"/* only pick the fields used in your template */\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," mountain "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/mountains/everest"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  pick"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"title"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"description"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," mountain"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"title "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," mountain"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"description "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you need more control or map over several objects, you can use the ",["code",{},"transform"]," function to alter the result of the query."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const { data: mountains } = await useFetch(''/api/mountains'', {\n  transform: (mountains) => {\n    return mountains.map(mountain => ({ title: mountain.title, description: mountain.description }))\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," mountains "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/mountains"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"mountains"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"    return"],["span",{"class":"sZSNi"}," mountains"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"map"],["span",{"class":"sRlkE"},"("],["span",{"class":"s1nJG"},"mountain"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," title"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," mountain"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"title"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," description"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," mountain"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"description"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"Both ",["code",{},"pick"]," and ",["code",{},"transform"]," don''t prevent the unwanted data from being fetched initially. But they will prevent unwanted data from being added to the payload transferred from server to client."]],["video-accordion",{"title":"Watch a video from Vue School on minimizing payload size","video-id":"1026410430","platform":"vimeo"}],["h3",{"id":"caching-and-refetching"},"Caching and refetching"],["h4",{"id":"keys"},"Keys"],["p",{},["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," and ",["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," use keys to prevent refetching the same data."],["ul",{},["li",{},["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," uses the provided URL as a key. Alternatively, a ",["code",{},"key"]," value can be provided in the ",["code",{},"options"]," object passed as a last argument."],["li",{},["a",{"href":"/docs/api/composables/use-async-data"},["code",{},"useAsyncData"]]," uses its first argument as a key if it is a string. If the first argument is the handler function that performs the query, then a key that is unique to the file name and line number of the instance of ",["code",{},"useAsyncData"]," will be generated for you."]],["tip",{},["p",{},"To get the cached data by key, you can use ",["a",{"href":"/docs/api/composables/use-nuxt-data"},["code",{},"useNuxtData"]]]],["video-accordion",{"title":"Watch a video from Vue School on caching data with the key option","video-id":"1026410044","platform":"vimeo"}],["h4",{"id":"shared-state-and-option-consistency"},"Shared State and Option Consistency"],["p",{},"When multiple components use the same key with ",["code",{},"useAsyncData"]," or ",["code",{},"useFetch"],", they will share the same ",["code",{},"data"],", ",["code",{},"error"]," and ",["code",{},"status"]," refs. This ensures consistency across components but requires some options to be consistent."],["p",{},"The following options ",["strong",{},"must be consistent"]," across all calls with the same key:"],["ul",{},["li",{},["code",{},"handler"]," function"],["li",{},["code",{},"deep"]," option"],["li",{},["code",{},"transform"]," function"],["li",{},["code",{},"pick"]," array"],["li",{},["code",{},"getCachedData"]," function"],["li",{},["code",{},"default"]," value"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// ❌ This will trigger a development warning\nconst { data: users1 } = useAsyncData(''users'', () => $fetch(''/api/users''), { deep: false })\nconst { data: users2 } = useAsyncData(''users'', () => $fetch(''/api/users''), { deep: true })\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// ❌ This will trigger a development warning\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users1 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," deep"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users2 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," deep"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"The following options ",["strong",{},"can safely differ"]," without triggering warnings:"],["ul",{},["li",{},["code",{},"server"]],["li",{},["code",{},"lazy"]],["li",{},["code",{},"immediate"]],["li",{},["code",{},"dedupe"]],["li",{},["code",{},"watch"]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// ✅ This is allowed\nconst { data: users1 } = useAsyncData(''users'', () => $fetch(''/api/users''), { immediate: true })\nconst { data: users2 } = useAsyncData(''users'', () => $fetch(''/api/users''), { immediate: false })\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// ✅ This is allowed\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users1 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," immediate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users2 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," immediate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"If you need independent instances, use different keys:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// These are completely independent instances\nconst { data: users1 } = useAsyncData(''users-1'', () => $fetch(''/api/users''))\nconst { data: users2 } = useAsyncData(''users-2'', () => $fetch(''/api/users''))\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// These are completely independent instances\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users1 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users-1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users2 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users-2"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]]]],["h4",{"id":"reactive-keys"},"Reactive Keys"],["p",{},"You can use computed refs, plain refs or getter functions as keys, allowing for dynamic data fetching that automatically updates when dependencies change:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// Using a computed property as a key\nconst userId = ref(''123'')\nconst { data: user } = useAsyncData(\n  computed(() => `user-${userId.value}`),\n  () => fetchUser(userId.value)\n)\n\n// When userId changes, the data will be automatically refetched\n// and the old data will be cleaned up if no other components use it\nuserId.value = ''456''\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// Using a computed property as a key\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," userId "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"123"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," user "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"(\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"  computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"user-"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"userId"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," fetchUser"],["span",{"class":"sZSNi"},"(userId"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value)\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"// When userId changes, the data will be automatically refetched\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"// and the old data will be cleaned up if no other components use it\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"userId"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"456"],["span",{"class":"sDfIl"},"''\n"]]]],["h4",{"id":"refresh-and-execute"},"Refresh and execute"],["p",{},"If you want to fetch or refresh data manually, use the ",["code",{},"execute"]," or ",["code",{},"refresh"]," function provided by the composables."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data, error, execute, refresh } = await useFetch(''/api/users'')\n</script>\n\n<template>\n  <div>\n    <p>{{ data }}</p>\n    <button @click=\"() => refresh()\">Refresh data</button>\n  </div>\n</template>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," execute"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," refresh "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"{{ data }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"() => refresh()"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Refresh data"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"The ",["code",{},"execute"]," function is an alias for ",["code",{},"refresh"]," that works in exactly the same way but is more semantic for cases when the fetch is ",["a",{"href":"#not-immediate"},"not immediate"],"."],["tip",{},["p",{},"To globally refetch or invalidate cached data, see ",["a",{"href":"/docs/api/utils/clear-nuxt-data"},["code",{},"clearNuxtData"]]," and ",["a",{"href":"/docs/api/utils/refresh-nuxt-data"},["code",{},"refreshNuxtData"]],"."]],["h4",{"id":"clear"},"Clear"],["p",{},"If you want to clear the data provided, for whatever reason, without needing to know the specific key to pass to ",["code",{},"clearNuxtData"],", you can use the ",["code",{},"clear"]," function provided by the composables."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data, clear } = await useFetch(''/api/users'')\n\nconst route = useRoute()\nwatch(() => route.path, (path) => {\n  if (path === ''/'') clear()\n})\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," clear "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"watch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"path"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"path"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"path"],["span",{"class":"sDfIl"}," ==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},") "],["span",{"class":"s3cPz"},"clear"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h4",{"id":"watch"},"Watch"],["p",{},"To re-run your fetching function each time other reactive values in your application change, use the ",["code",{},"watch"]," option. You can use it for one or multiple ",["em",{},"watchable"]," elements."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst id = ref(1)\n\nconst { data, error, refresh } = await useFetch(''/api/users'', {\n  /* Changing the id will trigger a refetch */\n  watch: [id]\n})\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," id "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"c', 'Nuxt provides composables to handle data fetching within your application.', 'md', NULL, '{}', '{"icon":"i-lucide-cable"}', '/nuxt/nuxtcore/live/getting-started/data-fetching', '{"title":"Data Fetching","description":"Nuxt provides composables to handle data fetching within your application."}', 'nuxt/nuxtcore/live/1.getting-started/10.data-fetching', NULL, 'i5rBV5PgxnhErVpGHNv8OHT-8AM0VAp8_FASOuEC1tQ-70000'); -- i5rBV5PgxnhErVpGHNv8OHT-8AM0VAp8_FASOuEC1tQ
UPDATE _content_nuxtcore SET body = CONCAT(body, 'lass":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," refresh "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  /* Changing the id will trigger a refetch */\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  watch"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [id]\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Note that ",["strong",{},"watching a reactive value won''t change the URL fetched"],". For example, this will keep fetching the same initial ID of the user because the URL is constructed at the moment the function is invoked."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst id = ref(1)\n\nconst { data, error, refresh } = await useFetch(`/api/users/${id.value}`, {\n  watch: [id]\n})\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," id "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," refresh "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/api/users/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  watch"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [id]\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you need to change the URL based on a reactive value, you may want to use a ",["a",{"href":"#computed-url"},"computed URL"]," instead."],["h4",{"id":"computed-url"},"Computed URL"],["p",{},"Sometimes you may need to compute a URL from reactive values, and refresh the data each time these change. Instead of juggling your way around, you can attach each param as a reactive value. Nuxt will automatically use the reactive value and re-fetch each time it changes."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst id = ref(null)\n\nconst { data, status } = useLazyFetch(''/api/user'', {\n  query: {\n    user_id: id\n  }\n})\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," id "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"null"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," status "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useLazyFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/user"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  query"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    user_id"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," id\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"In the case of more complex URL construction, you may use a callback as a ",["a",{"href":"https://vuejs.org/guide/essentials/computed.html","rel":["nofollow"]},"computed getter"]," that returns the URL string."],["p",{},"Every time a dependency changes, the data will be fetched using the newly constructed URL. Combine this with ",["a",{"href":"#not-immediate"},"not-immediate"],", and you can wait until the reactive element changes before fetching."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst id = ref(null)\n\nconst { data, status } = useLazyFetch(() => `/api/users/${id.value}`, {\n  immediate: false\n})\n\nconst pending = computed(() => status.value === ''pending'');\n</script>\n\n<template>\n  <div>\n    <!-- disable the input while fetching -->\n    <input v-model=\"id\" type=\"number\" :disabled=\"pending\"/>\n\n    <div v-if=\"status === ''idle''\">\n      Type an user ID\n    </div>\n\n    <div v-else-if=\"pending\">\n      Loading ...\n    </div>\n\n    <div v-else>\n      {{ data }}\n    </div>\n  </div>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," id "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"null"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," status "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useLazyFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"/api/users/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  immediate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," pending "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," status"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"==="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"pending"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"    <!-- disable the input while fetching -->\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"input"],["span",{"class":"smZ93"}," v-model"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"id"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," type"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"number"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"disabled"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"pending"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"/>\n"]],["span",{"class":"line","line":15},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"status"],["span",{"class":"sDfIl"}," === "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"idle"],["span",{"class":"sDfIl"},"''\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"class":"sZSNi"},"      Type an user ID\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":19},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-else-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"pending"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":21},["span",{"class":"sZSNi"},"      Loading ...\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":23},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":24},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-else"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":25},["span",{"class":"sDfIl"},"      {{"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}}\n"]],["span",{"class":"line","line":26},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":27},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":28},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"If you need to force a refresh when other reactive values change, you can also ",["a",{"href":"#watch"},"watch other values"],"."],["h3",{"id":"not-immediate"},"Not immediate"],["p",{},"The ",["code",{},"useFetch"]," composable will start fetching data the moment is invoked. You may prevent this by setting ",["code",{},"immediate: false"],", for example, to wait for user interaction."],["p",{},"With that, you will need both the ",["code",{},"status"]," to handle the fetch lifecycle, and ",["code",{},"execute"]," to start the data fetch."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst { data, error, execute, status } = await useLazyFetch(''/api/comments'', {\n  immediate: false\n})\n</script>\n\n<template>\n  <div v-if=\"status === ''idle''\">\n    <button @click=\"execute\">Get data</button>\n  </div>\n\n  <div v-else-if=\"status === ''pending''\">\n    Loading comments...\n  </div>\n\n  <div v-else>\n    {{ data }}\n  </div>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," execute"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," status "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useLazyFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/comments"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  immediate"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"status"],["span",{"class":"sDfIl"}," === "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"idle"],["span",{"class":"sDfIl"},"''\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"}," @"],["span",{"class":"smZ93"},"click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"execute"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Get data"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-else-if"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"status"],["span",{"class":"sDfIl"}," === "],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"pending"],["span",{"class":"sDfIl"},"''\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sZSNi"},"    Loading comments...\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"s8R28"}," v-else"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"    {{"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}}\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"For finer control, the ",["code",{},"status"]," variable can be:"],["ul",{},["li",{},["code",{},"idle"]," when the fetch hasn''t started"],["li",{},["code",{},"pending"]," when a fetch has started but not yet completed"],["li",{},["code",{},"error"]," when the fetch fails"],["li",{},["code",{},"success"]," when the fetch is completed successfully"]],["h2",{"id":"passing-headers-and-cookies"},"Passing Headers and Cookies"],["p",{},"When we call ",["code",{},"$fetch"]," in the browser, user headers like ",["code",{},"cookie"]," will be directly sent to the API."],["p",{},"Normally, during server-side-rendering, due to security considerations, the ",["code",{},"$fetch"]," wouldn''t include the user''s browser cookies, nor pass on cookies from the fetch response."],["p",{},"However, when calling ",["code",{},"useFetch"]," with a relative URL on the server, Nuxt will use ",["a",{"href":"/docs/api/composables/use-request-fetch"},["code",{},"useRequestFetch"]]," to proxy headers and cookies (with the exception of headers not meant to be forwarded, like ",["code",{},"host"],")."],["h3",{"id":"pass-cookies-from-server-side-api-calls-on-ssr-response"},"Pass Cookies From Server-side API Calls on SSR Response"],["p",{},"If you want to pass on/proxy cookies in the other direction, from an internal request back to the client, you will need to handle this yourself."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { appendResponseHeader } from ''h3''\nimport type { H3Event } from ''h3''\n\nexport const fetchWithCookie = async (event: H3Event, url: string) => {\n  /* Get the response from the server endpoint */\n  const res = await $fetch.raw(url)\n  /* Get the cookies from the response */\n  const cookies = res.headers.getSetCookie()\n  /* Attach each cookie to our incoming Request */\n  for (const cookie of cookies) {\n    appendResponseHeader(event, ''set-cookie'', cookie)\n  }\n  /* Return the data of the response */\n  return res._data\n}\n","filename":"app/composables/fetch.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," appendResponseHeader"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"h3"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," H3Event"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"h3"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," fetchWithCookie "],["span",{"class":"sDfIl"},"="],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," H3Event"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," url"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  /* Get the response from the server endpoint */\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," res"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"sZSNi"}," $fetch"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"raw"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"url"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"  /* Get the cookies from the response */\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," cookies"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," res"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"headers"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getSetCookie"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"  /* Attach each cookie to our incoming Request */\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"  for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," cookie"],["span",{"class":"sDfIl"}," of"],["span",{"class":"sZSNi"}," cookies"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":11},["span",{"class":"s3cPz"},"    appendResponseHeader"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"event"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"set-cookie"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," cookie"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"  /* Return the data of the response */\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," res"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"_data\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n// This composable will automatically pass cookies to the client\nconst event = useRequestEvent()\n\nconst { data: result } = await useAsyncData(() => fetchWithCookie(event!, ''/api/with-cookie''))\n\nonMounted(() => console.log(document.cookie))\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// This composable will automatically pass cookies to the client\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," event "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRequestEvent"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," result "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," fetchWithCookie"],["span",{"class":"sZSNi"},"(event"],["span",{"class":"sDfIl"},"!,"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/api/with-cookie"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"onMounted"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(document"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"cookie))\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"options-api-support"},"Options API Support"],["p",{},"Nuxt provides a way to perform ",["code",{},"asyncData"]," fetching within the Options API. You must wrap your component definition within ",["code",{},"defineNuxtComponent"]," for this to work."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script>\nexport default defineNuxtComponent({\n  /* Use the fetchKey option to provide a unique key */\n  fetchKey: ''hello'',\n  async asyncData () {\n    return {\n      hello: await $fetch(''/api/hello'')\n    }\n  }\n})\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  /* Use the fetchKey option to provide a unique key */\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  fetchKey"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"  async"],["span",{"class":"sRlkE"}," asyncData"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      hello"],["span",{"class":"sDfIl"},":"],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["note",{},["p",{},"Using ",["code",{},"<script setup>"]," or ",["code",{},"<script setup lang=\"ts\">"]," are the recommended way of declaring Vue components in Nuxt."]],["read-more",{"to":"/docs/api/utils/define-nuxt-component"}],["h2",{"id":"serializing-data-from-server-to-client"},"Serializing Data From Server to Client"],["p",{},"When using ",["code",{},"useAsyncData"]," and ",["code",{},"useLazyAsyncData"]," to transfer data fetched on server to the client (as well as anything else that utilizes ",["a",{"href":"/docs/api/composables/use-nuxt-app#payload"},"the Nuxt payload"],"), the payload is serialized with ",["a",{"href":"https://github.com/Rich-Harris/devalue","rel":["nofollow"]},["code",{},"devalue"]],". This allows us to transfer not just basic JSON but also to serialize and revive/deserialize more advanced kinds of data, such as regular expressions, Dates, Map and Set, ",["code",{},"ref"],", ",["code",{},"reactive"],", ",["code",{},"shallowRef"],", ",["code",{},"shallowReactive"]," and ",["code",{},"NuxtError"]," - and more."],["p",{},"It is also possible to define your own serializer/deserializer for types that are not supported by Nuxt. You can read more in the ",["a",{"href":"/docs/api/composables/use-nuxt-app#payload"},["code",{},"useNuxtApp"]]," docs."],["note",{},["p",{},"Note that this ",["em",{},"does not apply"]," to data passed from your server routes when fetched with ",["code",{},"$fetch"]," or ",["code",{},"useFetch"]," - see the next section for more information."]],["h2",{"id":"serializing-data-from-api-routes"},"Serializing Data From API Routes"],["p",{},"When fetching data from the ",["code",{},"server"]," directory, the response is serialized using ",["code",{},"JSON.stringify"],". However, since serialization is limited to only JavaScript primitive types, Nuxt does its best to convert the return type of ",["code",{},"$fetch"]," and ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch"]]," to match the actual value."],["read-more",{"to":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#description","icon":"i-simple-icons-mdnwebdocs","target":"_blank"},["p",{},"Learn more about ",["code",{},"JSON.stringify"]," limitations."]],["h3",{"id":"example"},"Example"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(() => {\n  return new Date()\n})\n","filename":"server/api/foo.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n// Type of `data` is inferred as string even though we returned a Date object\nconst { data } = await useFetch(''/api/foo'')\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// Type of `data` is inferred as string even though we returned a Date object\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/foo"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"custom-serializer-function"},"Custom serializer function"],["p",{},"To customize the serialization behavior, you can define a ",["code",{},"toJSON"]," function on your returned object. If you define a ",["code",{},"toJSON"]," method, Nuxt will respect the return type of the function and will not try to convert the types."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(() => {\n  const data = {\n    createdAt: new Date(),\n\n    toJSON() {\n      return {\n        createdAt: {\n          year: this.createdAt.getFullYear(),\n          month: this.createdAt.getMonth(),\n          day: this.createdAt.getDate(),\n        },\n      }\n    },\n  }\n  return data\n})\n\n","filename":"server/api/bar.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    createdAt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    toJSON"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"        createdAt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"          year"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," this."],["span",{"class":"sZSNi"},"createdAt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getFullYear"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"          month"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," this."],["span",{"class":"sZSNi"},"createdAt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getMonth"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"          day"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," this."],["span",{"class":"sZSNi"},"createdAt"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getDate"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"        },\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":15},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," data\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n// Type of `data` is inferred as\n// {\n//   createdAt: {\n//     year: number\n//     month: number\n//     day: number\n//   }\n// }\nconst { data } = await useFetch(''/api/bar'')\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// Type of `data` is inferred as\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"// {\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"//   createdAt: {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"//     year: number\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"//     month: number\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"//     day: number\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"//   }\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"// }\n"]],["span",{"class":"line","line":10},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/bar"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"using-an-alternative-serializer"},"Using an alternative serializer"],["p",{},"Nuxt does not currently support an alternative serializer to ",["code",{},"JSON.stringify"],". However, you can return your payload as a normal string and utilize the ",["code",{},"toJSON"]," method to maintain type safety."],["p",{},"In the example below, we use ",["a",{"href":"https://github.com/blitz-js/superjson","rel":["nofollow"]},"superjson"]," as our serializer."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import superjson from ''superjson''\n\nexport default defineEventHandler(() => {\n  const data = {\n    createdAt: new Date(),\n\n    // Workaround the type conversion\n    toJSON() {\n      return this\n    }\n  }\n\n  // Serialize the output to string, using superjson\n  return superjson.stringify(data) as unknown as typeof data\n})\n","filename":"server/api/superjson.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," superjson "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"superjson"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    createdAt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // Workaround the type conversion\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    toJSON"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," this\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":12},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"  // Serialize the output to string, using superjson\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," superjson"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"stringify"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"data"],["span",{"class":"sRlkE"},") "],["span",{"class":"s8R28"},"as"],["span",{"class":"s52Pk"}," unknown"],["span",{"class":"s8R28"}," as"],["span",{"class":"sDfIl"}," typeof"],["span",{"class":"sZSNi"}," data\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport superjson from ''superjson''\n\n// `date` is inferred as { createdAt: Date } and you can safely use the Date object methods\nconst { data } = await useFetch(''/api/superjson'', {\n  transform: (value) => {\n    return superjson.parse(value as unknown as string)\n  },\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," superjson "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"superjson"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// `date` is inferred as { createdAt: Date } and you can safely use the Date object methods\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/superjson"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"  transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"value"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"    return"],["span",{"class":"sZSNi"}," superjson"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"parse"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"value"],["span",{"class":"s8R28"}," as"],["span",{"class":"s52Pk"}," unknown"],["span",{"class":"s8R28"}," as"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h2",{"id":"recipes"},"Recipes"],["h3",{"id":"consuming-sse-server-sent-events-via-post-request"},"Consuming SSE (Server-Sent Events) via POST request"],["tip",{},["p",{},"If you''re consuming SSE via GET request, you can use ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/API/EventSource","rel":["nofollow"]},["code",{},"EventSource"]]," or VueUse composable ",["a",{"href":"https://vueuse.org/core/useEventSource/","rel":["nofollow"]},["code",{},"useEventSource"]],"."]],["p",{},"When consuming SSE via POST request, you need to handle the connection manually. Here''s how you can do it:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// Make a POST request to the SSE endpoint\nconst response = await $fetch<ReadableStream>(''/chats/ask-ai'', {\n  method: ''POST'',\n  body: {\n    query: \"Hello AI, how are you?\",\n  },\n  responseType: ''stream'',\n})\n\n// Create a new ReadableStream from the response with TextDecoderStream to get the data as text\nconst reader = response.pipeThrough(new TextDecoderStream()).getReader()\n\n// Read the chunk of data as we get it\nwhile (true) {\n  const { value, done } = await reader.read()\n\n  if (done)\n    break\n\n  console.log(''Received:'', value)\n}\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// Make a POST request to the SSE endpoint\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," response "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"ReadableStream"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/chats/ask-ai"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"POST"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  body"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    query"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"Hello AI, how are you?"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  responseType"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"stream"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"// Create a new ReadableStream from the response with TextDecoderStream to get the data as text\n"]],["span",{"class":"line","line":11},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," reader "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," response"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"pipeThrough"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"new"],["span",{"class":"s3cPz"}," TextDecoderStream"],["span",{"class":"sZSNi"},"())"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getReader"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":12},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"// Read the chunk of data as we get it\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"while"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sbKd-"},"true"],["span",{"class":"sZSNi"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":15},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," value"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," done"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"sZSNi"}," reader"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"read"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":16},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":17},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"done"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":18},["span",{"class":"s8R28"},"    break\n"]],["span",{"class":"line","line":19},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":20},["span",{"class":"sZSNi"},"  console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Received:"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," value"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"}\n"]]]],["h3",{"id":"making-parallel-requests"},"Making parallel requests"],["p",{},"When requests don''t rely on each other, you can make them in parallel with ",["code",{},"Promise.all()"]," to boost performance."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const { data } = await useAsyncData(() => {\n  return Promise.all([\n    $fetch(\"/api/comments/\"), \n    $fetch(\"/api/author/12\")\n  ]);\n});\n\nconst comments = computed(() => data.value?.[0]);\nconst author = computed(() => data.value?.[1]);\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"s52Pk"}," Promise"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"all"],["span",{"class":"sRlkE"},"([\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"    $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/api/comments/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," \n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"    $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/api/author/12"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  ])"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," comments "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"?."],["span",{"class":"sZSNi"},"["],["span",{"class":"sYRBq"},"0"],["span",{"class":"sZSNi"},"])"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":9},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," author "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"?."],["span",{"class":"sZSNi"},"["],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},"])"],["span",{"class":"sDfIl"},";\n"]]]],["video-accordion",{"title":"Watch a video from Vue School on parallel data fetching","video-id":"1024262536","platform":"vimeo"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"the-need-for-usefetch-and-useasyncdata","depth":2,"text":"The need for useFetch and useAsyncData","children":[{"id":"suspense","depth":3,"text":"Suspense"}]},{"id":"fetch","depth":2,"text":"$fetch","children":[{"id":"pass-client-headers-to-the-api","depth":3,"text":"Pass Client Headers to the API"}]},{"id":"usefetch","depth":2,"text":"useFetch"},{"id":"useasyncdata","depth":2,"text":"useAsyncData"},{"id":"return-values","depth":2,"text":"Return Values"},{"id":"options","depth":2,"text":"Options","children":[{"id":"lazy","depth":3,"text":"Lazy"},{"id":"client-only-fetching","depth":3,"text":"Client-only fetching"},{"id":"minimize-payload-size","depth":3,"text":"Minimize payload size"},{"id":"caching-and-refetching","depth":3,"text":"Caching and refetching"},{"id":"not-immediate","depth":3,"text":"Not immediate"}]},{"id":"passing-headers-and-cookies","depth":2,"text":"Passing Headers and Cookies","children":[{"id":"pass-cookies-from-server-side-api-calls-on-ssr-response","depth":3,"text":"Pass Cookies From Server-side API Calls on SSR Response"}]},{"id":"options-api-support","depth":2,"text":"Options API Support"},{"id":"serializing-data-from-server-to-client","depth":2,"text":"Serializing Data From Server to Client"},{"id":"serializing-data-from-api-routes","depth":2,"text":"Serializing Data From API Routes","children":[{"id":"example","depth":3,"text":"Example"},{"id":"custom-serializer-function","depth":3,"text":"Custom serializer function"},{"id":"using-an-alternative-serializer","depth":3,"text":"Using an alternative serializer"}]},{"id":"recipes","depth":2,"text":"Recipes","children":[{"id":"consuming-sse-server-sent-events-via-post-request","depth":3,"text":"Consuming SSE (Server-Sent Events) via POST request"},{"id":"making-parallel-requests","depth":3,"text":"Making parallel requests"}]}]}}'), "__hash__" = 'i5rBV5PgxnhErVpGHNv8OHT-8AM0VAp8_FASOuEC1tQ' WHERE id = 'nuxtcore/nuxt/nuxtcore/live/1.getting-started/10.data-fetching.md' AND "__hash__" = 'i5rBV5PgxnhErVpGHNv8OHT-8AM0VAp8_FASOuEC1tQ-70000'; -- i5rBV5PgxnhErVpGHNv8OHT-8AM0VAp8_FASOuEC1tQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/11.state-management.md', 'State Management', '{"type":"minimark","value":[["p",{},"Nuxt provides the ",["a",{"href":"/docs/api/composables/use-state"},["code",{},"useState"]]," composable to create a reactive and SSR-friendly shared state across components."],["p",{},["a",{"href":"/docs/api/composables/use-state"},["code",{},"useState"]]," is an SSR-friendly ",["a",{"href":"https://vuejs.org/api/reactivity-core.html#ref","rel":["nofollow"]},["code",{},"ref"]]," replacement. Its value will be preserved after server-side rendering (during client-side hydration) and shared across all components using a unique key."],["video-accordion",{"title":"Watch a video from Alexander Lichter about why and when to use useState","video-id":"mv0WcBABcIk"}],["important",{},["p",{},"Because the data inside ",["a",{"href":"/docs/api/composables/use-state"},["code",{},"useState"]]," will be serialized to JSON, it is important that it does not contain anything that cannot be serialized, such as classes, functions or symbols."]],["read-more",{"to":"/docs/api/composables/use-state"},["p",{},"Read more about ",["code",{},"useState"]," composable."]],["h2",{"id":"best-practices"},"Best Practices"],["warning",{},["p",{},"Never define ",["code",{},"const state = ref()"]," outside of ",["code",{},"<script setup>"]," or ",["code",{},"setup()"]," function.",["br",{}],"\nFor example, doing ",["code",{},"export myState = ref({})"]," would result in state shared across requests on the server and can lead to memory leaks."]],["tip",{"icon":"i-lucide-circle-check"},["p",{},"Instead use ",["code",{},"const useX = () => useState(''x'')"]]],["h2",{"id":"examples"},"Examples"],["h3",{"id":"basic-usage"},"Basic Usage"],["p",{},"In this example, we use a component-local counter state. Any other component that uses ",["code",{},"useState(''counter'')"]," shares the same reactive state."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst counter = useState(''counter'', () => Math.round(Math.random() * 1000))\n</script>\n\n<template>\n  <div>\n    Counter: {{ counter }}\n    <button @click=\"counter++\">\n      +\n    </button>\n    <button @click=\"counter--\">\n      -\n    </button>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," counter "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"counter"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," Math"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"round"],["span",{"class":"sZSNi"},"(Math"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"random"],["span",{"class":"sZSNi"},"() "],["span",{"class":"sDfIl"},"*"],["span",{"class":"sYRBq"}," 1000"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    Counter: {{ counter }}\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"counter++"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"      +\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"counter--"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"      -\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["link-example",{"to":"/docs/examples/features/state-management"}],["note",{},["p",{},"To globally invalidate cached state, see ",["a",{"href":"/docs/api/utils/clear-nuxt-state"},["code",{},"clearNuxtState"]]," util."]],["h3",{"id":"initializing-state"},"Initializing State"],["p",{},"Most of the time, you will want to initialize your state with data that resolves asynchronously. You can use the ",["a",{"href":"/docs/guide/directory-structure/app"},["code",{},"app.vue"]]," component with the ",["a",{"href":"/docs/api/utils/call-once"},["code",{},"callOnce"]]," util to do so."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst websiteConfig = useState(''config'')\n\nawait callOnce(async () => {\n  websiteConfig.value = await $fetch(''https://my-cms.com/api/website-config'')\n})\n</script>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," websiteConfig "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"config"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"await"],["span",{"class":"s3cPz"}," callOnce"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  websiteConfig"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"https://my-cms.com/api/website-config"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["tip",{},["p",{},"This is similar to the ",["a",{"href":"https://v2.nuxt.com/docs/directory-structure/store/#the-nuxtserverinit-action","rel":["nofollow"]},["code",{},"nuxtServerInit"]," action"]," in Nuxt 2, which allows filling the initial state of your store server-side before rendering the page."]],["read-more",{"to":"/docs/api/utils/call-once"}],["h3",{"id":"usage-with-pinia"},"Usage with Pinia"],["p",{},"In this example, we leverage the ",["a",{"href":"/modules/pinia"},"Pinia module"]," to create a global store and use it across the app."],["important",{},["p",{},"Make sure to install the Pinia module with ",["code",{},"npx nuxt module add pinia"]," or follow the ",["a",{"href":"https://pinia.vuejs.org/ssr/nuxt.html#Installation","rel":["nofollow"]},"module''s installation steps"],"."]],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const useWebsiteStore = defineStore(''websiteStore'', {\n  state: () => ({\n    name: '''',\n    description: ''''\n  }),\n  actions: {\n    async fetch() {\n      const infos = await $fetch(''https://api.nuxt.com/modules/pinia'')\n\n      this.name = infos.name\n      this.description = infos.description\n    }\n  }\n})\n","filename":"app/stores/website.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useWebsiteStore "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," defineStore"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"websiteStore"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"  state"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    description"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''''\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  actions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"    async"],["span",{"class":"sRlkE"}," fetch"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," infos"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"https://api.nuxt.com/modules/pinia"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"      this."],["span",{"class":"sZSNi"},"name"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," infos"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"name\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      this."],["span",{"class":"sZSNi"},"description"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," infos"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"description\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst website = useWebsiteStore()\n\nawait callOnce(website.fetch)\n</script>\n\n<template>\n  <main>\n    <h1>{{ website.name }}</h1>\n    <p>{{ website.description }}</p>\n  </main>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," website "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useWebsiteStore"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"await"],["span",{"class":"s3cPz"}," callOnce"],["span",{"class":"sZSNi"},"(website"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"fetch)\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"main"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," website"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"name "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," website"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"description "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"main"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["h2",{"id":"advanced-usage"},"Advanced Usage"],["code-group",{},["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import type { Ref } from ''vue''\n\nexport const useLocale = () => {\n  return useState<string>(''locale'', () => useDefaultLocale().value)\n}\n\nexport const useDefaultLocale = (fallback = ''en-US'') => {\n  const locale = ref(fallback)\n  if (import.meta.server) {\n    const reqLocale = useRequestHeaders()[''accept-language'']?.split('','')[0]\n    if (reqLocale) {\n      locale.value = reqLocale\n    }\n  } else if (import.meta.client) {\n    const navLang = navigator.language\n    if (navLang) {\n      locale.value = navLang\n    }\n  }\n  return locale\n}\n\nexport const useLocales = () => {\n  const locale = useLocale()\n  const locales = ref([\n    ''en-US'',\n    ''en-GB'',\n    ...\n    ''ja-JP-u-ca-japanese''\n  ])\n  if (!locales.value.includes(locale.value)) {\n    locales.value.unshift(locale.value)\n  }\n  return locales\n}\n\nexport const useLocaleDate = (date: Ref<Date> | Date, locale = useLocale()) => {\n  return computed(() => new Intl.DateTimeFormat(locale.value, { dateStyle: ''full'' }).format(unref(date)))\n}\n","filename":"app/composables/locale.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," Ref"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useLocale "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"string"],["span",{"class":"sDfIl"},">"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"locale"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," useDefaultLocale"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useDefaultLocale "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"fallback"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"en-US"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," locale"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"fallback"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"server"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":10},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," reqLocale"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRequestHeaders"],["span",{"class":"sRlkE"},"()["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"accept-language"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"]"],["span",{"class":"sDfIl"},"?."],["span",{"class":"s3cPz"},"split"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},","],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")["],["span",{"class":"sYRBq"},"0"],["span",{"class":"sRlkE"},"]\n"]],["span",{"class":"line","line":11},["span",{"class":"s8R28"},"    if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"reqLocale"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"      locale"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," reqLocale\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"  }"],["span",{"class":"s8R28"}," else"],["span",{"class":"s8R28"}," if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"client"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":15},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," navLang"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," navigator"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"language\n"]],["span",{"class":"line","line":16},["span",{"class":"s8R28"},"    if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"navLang"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":17},["span",{"class":"sZSNi"},"      locale"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," navLang\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":20},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," locale\n"]],["span",{"class":"line","line":21},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":22},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":23},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useLocales "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":24},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," locale"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useLocale"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":25},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," locales"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sRlkE"},"([\n"]],["span",{"class":"line","line":26},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"en-US"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":27},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"en-GB"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":28},["span",{"class":"sDfIl"},"    ...\n"]],["span",{"class":"line","line":29},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"ja-JP-u-ca-japanese"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":30},["span",{"class":"sRlkE"},"  ])\n"]],["span",{"class":"line","line":31},["span",{"class":"s8R28"},"  if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sDfIl"},"!"],["span",{"class":"sZSNi"},"locales"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"includes"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"locale"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":32},["span",{"class":"sZSNi"},"    locales"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"unshift"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"locale"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":33},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":34},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," locales\n"]],["span",{"class":"line","line":35},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":36},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":37},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useLocaleDate "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"date"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," Ref"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"Date"],["span",{"class":"sDfIl"},">"],["span",{"class":"sDfIl"}," |"],["span",{"class":"s52Pk"}," Date"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," locale"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useLocale"],["span",{"class":"sZSNi"},"()"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":38},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," new"],["span",{"class":"sZSNi"}," Intl"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"DateTimeFormat"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"locale"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," dateStyle"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"full"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"format"],["span",{"class":"sRlkE"},"("],["span",{"class":"s3cPz"},"unref"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"date"],["span",{"class":"sRlkE"},")))\n"]],["span",{"class":"line","line":39},["span",{"class":"sDfIl"},"}\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst locales = useLocales()\nconst locale = useLocale()\nconst date = useLocaleDate(new Date(''2016-10-26''))\n</script>\n\n<template>\n  <div>\n    <h1>Nuxt birthday</h1>\n    <p>{{ date }}</p>\n    <label for=\"locale-chooser\">Preview a different locale</label>\n    <select id=\"locale-chooser\" v-model=\"locale\">\n      <option v-for=\"loc of locales\" :key=\"loc\" :value=\"loc\">\n        {{ loc }}\n      </option>\n    </select>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," locales "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useLocales"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," locale "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useLocale"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," date "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useLocaleDate"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"2016-10-26"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Nuxt birthday"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," date "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"label"],["span",{"class":"smZ93"}," for"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"locale-chooser"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Preview a different locale"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"label"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"select"],["span",{"class":"smZ93"}," id"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"locale-chooser"],["span",{"class":"sDfIl"},"\""],["span",{"class":"smZ93"}," v-model"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"locale"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"option"],["span",{"class":"s8R28"}," v-for"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"loc"],["span",{"class":"sDfIl"}," of "],["span",{"class":"sZSNi"},"locales"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"key"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"loc"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," :"],["span",{"class":"smZ93"},"value"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"loc"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"        {{"],["span",{"class":"sZSNi"}," loc "],["span",{"class":"sDfIl"},"}}\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"option"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"select"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["link-example",{"to":"/docs/examples/advanced/locale"}],["h2",{"id":"shared-state"},"Shared State"],["p",{},"By using ",["a",{"href":"/docs/guide/directory-structure/app/composables"},"auto-imported composables"]," we can define global type-safe states and import them across the app."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const useColor = () => useState<string>(''color'', () => ''pink'')\n","filename":"composables/states.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useColor "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"string"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"color"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"pink"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n// ---cut-start---\nconst useColor = () => useState<string>(''color'', () => ''pink'')\n// ---cut-end---\nconst color = useColor() // Same as useState(''color'')\n</script>\n\n<template>\n  <p>Current color: {{ color }}</p>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// ---cut-start---\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," useColor "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," useState"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"string"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"color"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"pink"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// ---cut-end---\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," color "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useColor"],["span",{"class":"sZSNi"},"() "],["span",{"class":"sWuyu"},"// Same as useState(''color'')\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Current color: "],["span",{"class":"sDfIl"},"{{"],["span",{"class":"sZSNi"}," color "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["video-accordion",{"title":"Watch a video from Daniel Roe on how to deal with global state and SSR in Nuxt","video-id":"dZSNW07sO-A"}],["h2",{"id":"using-third-party-libraries"},"Using third-party libraries"],["p",{},"Nuxt ",["strong",{},"used to rely"]," on the Vuex library to provide global state management. If you are migrating from Nuxt 2, please head to ",["a",{"href":"/docs/migration/configuration#vuex"},"the migration guide"],"."],["p",{},"Nuxt is not opinionated about state management, so feel free to choose the right solution for your needs. There are multiple integrations with the most popular state management libraries, including:"],["ul",{},["li",{},["a",{"href":"/modules/pinia"},"Pinia"]," - the official Vue recommendation"],["li",{},["a",{"href":"/modules/harlem"},"Harlem"]," - immutable global state management"],["li",{},["a",{"href":"/modules/xstate"},"XState"]," - state machine approach with tools for visualizing and testing your state logic"]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"best-practices","depth":2,"text":"Best Practices"},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"basic-usage","depth":3,"text":"Basic Usage"},{"id":"initializing-state","depth":3,"text":"Initializing State"},{"id":"usage-with-pinia","depth":3,"text":"Usage with Pinia"}]},{"id":"advanced-usage","depth":2,"text":"Advanced Usage"},{"id":"shared-state","depth":2,"text":"Shared State"},{"id":"using-third-party-libraries","depth":2,"text":"Using third-party libraries"}]}}', 'Nuxt provides powerful state management libraries and the useState composable to create a reactive and SSR-friendly shared state.', 'md', NULL, '{}', '{"icon":"i-lucide-database"}', '/nuxt/nuxtcore/live/getting-started/state-management', '{"title":"State Management","description":"Nuxt provides powerful state management libraries and the useState composable to create a reactive and SSR-friendly shared state."}', 'nuxt/nuxtcore/live/1.getting-started/11.state-management', NULL, 'UJ-K6_EF0y0i4yz1Ub1nevo3GoET4U9gxg4CKctrkgA'); -- UJ-K6_EF0y0i4yz1Ub1nevo3GoET4U9gxg4CKctrkgA
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/12.error-handling.md', 'Error Handling', '{"type":"minimark","value":[["p",{},"Nuxt is a full-stack framework, which means there are several sources of unpreventable user runtime errors that can happen in different contexts:"],["ul",{},["li",{},"Errors during the Vue rendering lifecycle (SSR & CSR)"],["li",{},"Server and client startup errors (SSR + CSR)"],["li",{},"Errors during Nitro server lifecycle (",["a",{"href":"/docs/guide/directory-structure/server"},["code",{},"server/"]]," directory)"],["li",{},"Errors downloading JS chunks"]],["tip",{},["p",{},["strong",{},"SSR"]," stands for ",["strong",{},"Server-Side Rendering"]," and ",["strong",{},"CSR"]," for ",["strong",{},"Client-Side Rendering"],"."]],["h2",{"id":"vue-errors"},"Vue Errors"],["p",{},"You can hook into Vue errors using ",["a",{"href":"https://vuejs.org/api/composition-api-lifecycle.html#onerrorcaptured","rel":["nofollow"]},["code",{},"onErrorCaptured"]],"."],["p",{},"In addition, Nuxt provides a ",["a",{"href":"/docs/api/advanced/hooks#app-hooks-runtime"},["code",{},"vue:error"]]," hook that will be called if any errors propagate up to the top level."],["p",{},"If you are using an error reporting framework, you can provide a global handler through ",["a",{"href":"https://vuejs.org/api/application.html#app-config-errorhandler","rel":["nofollow"]},["code",{},"vueApp.config.errorHandler"]],". It will receive all Vue errors, even if they are handled."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin((nuxtApp) => {\n  nuxtApp.vueApp.config.errorHandler = (error, instance, info) => {\n    // handle error, e.g. report to a service\n  }\n\n  // Also possible\n  nuxtApp.hook(''vue:error'', (error, instance, info) => {\n    // handle error, e.g. report to a service\n  })\n})\n","filename":"plugins/error-handler.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"vueApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"config"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"errorHandler"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"error"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," instance"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," info"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // handle error, e.g. report to a service\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // Also possible\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"vue:error"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"error"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," instance"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," info"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"    // handle error, e.g. report to a service\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"Note that the ",["code",{},"vue:error"]," hook is based on ",["a",{"href":"https://vuejs.org/api/composition-api-lifecycle.html#onerrorcaptured","rel":["nofollow"]},["code",{},"onErrorCaptured"]]," lifecycle hook."]],["h2",{"id":"startup-errors"},"Startup Errors"],["p",{},"Nuxt will call the ",["code",{},"app:error"]," hook if there are any errors in starting your Nuxt application."],["p",{},"This includes:"],["ul",{},["li",{},"running ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Nuxt plugins"]],["li",{},"processing ",["code",{},"app:created"]," and ",["code",{},"app:beforeMount"]," hooks"],["li",{},"rendering your Vue app to HTML (during SSR)"],["li",{},"mounting the app (on client-side), though you should handle this case with ",["code",{},"onErrorCaptured"]," or with ",["code",{},"vue:error"]],["li",{},"processing the ",["code",{},"app:mounted"]," hook"]],["h2",{"id":"nitro-server-errors"},"Nitro Server Errors"],["p",{},"You cannot currently define a server-side handler for these errors, but can render an error page, see the ",["a",{"href":"#error-page"},"Render an Error Page"]," section."],["h2",{"id":"errors-with-js-chunks"},"Errors with JS Chunks"],["p",{},"You might encounter chunk loading errors due to a network connectivity failure or a new deployment (which invalidates your old, hashed JS chunk URLs). Nuxt provides built-in support for handling chunk loading errors by performing a hard reload when a chunk fails to load during route navigation."],["p",{},"You can change this behavior by setting ",["code",{},"experimental.emitRouteChunkError"]," to ",["code",{},"false"]," (to disable hooking into these errors at all) or to ",["code",{},"manual"]," if you want to handle them yourself. If you want to handle chunk loading errors manually, you can check out the ",["a",{"href":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/plugins/chunk-reload.client.ts","rel":["nofollow"]},"the automatic implementation"]," for ideas."],["h2",{"id":"error-page"},"Error Page"],["note",{},["p",{},"When Nuxt encounters a fatal error (any unhandled error on the server, or an error created with ",["code",{},"fatal: true"]," on the client) it will either render a JSON response (if requested with ",["code",{},"Accept: application/json"]," header) or trigger a full-screen error page."]],["p",{},"An error may occur during the server lifecycle when:"],["ul",{},["li",{},"processing your Nuxt plugins"],["li",{},"rendering your Vue app into HTML"],["li",{},"a server API route throws an error"]],["p",{},"It can also occur on the client side when:"],["ul",{},["li",{},"processing your Nuxt plugins"],["li",{},"before mounting the application (",["code",{},"app:beforeMount"]," hook)"],["li",{},"mounting your app if the error was not handled with ",["code",{},"onErrorCaptured"]," or ",["code",{},"vue:error"]," hook"],["li",{},"the Vue app is initialized and mounted in browser (",["code",{},"app:mounted"],")."]],["read-more",{"to":"/docs/api/advanced/hooks"},["p",{},"Discover all the Nuxt lifecycle hooks."]],["p",{},"Customize the default error page by adding ",["code",{},"~/error.vue"]," in the source directory of your application, alongside ",["code",{},"app.vue"],"."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport type { NuxtError } from ''#app''\n\nconst props = defineProps({\n  error: Object as () => NuxtError\n})\n\nconst handleError = () => clearError({ redirect: ''/'' })\n</script>\n\n<template>\n  <div>\n    <h2>{{ error?.statusCode }}</h2>\n    <button @click=\"handleError\">Clear errors</button>\n  </div>\n</template>\n","filename":"error.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," NuxtError"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#app"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," props "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," defineProps"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  error"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," Object "],["span",{"class":"s8R28"},"as"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s52Pk"}," NuxtError\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," handleError "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," clearError"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," redirect"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h2"],["span",{"class":"sDfIl"},">{{"],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},"?."],["span",{"class":"sZSNi"},"statusCode "],["span",{"class":"sDfIl"},"}}</"],["span",{"class":"sRlkE"},"h2"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"}," @"],["span",{"class":"smZ93"},"click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"handleError"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Clear errors"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/guide/directory-structure/error"},["p",{},"Read more about ",["code",{},"error.vue"]," and its uses."]],["p",{},"For custom errors we highly recommend using ",["code",{},"onErrorCaptured"]," composable that can be called in a page/component setup function or ",["code",{},"vue:error"]," runtime nuxt hook that can be configured in a nuxt plugin."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin(nuxtApp => {\n  nuxtApp.hook(''vue:error'', (err) => {\n    //\n  })\n})\n","filename":"plugins/error-handler.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"nuxtApp"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  nuxtApp"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hook"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"vue:error"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"err"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    //\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"When you are ready to remove the error page, you can call the ",["a",{"href":"/docs/api/utils/clear-error"},["code",{},"clearError"]]," helper function, which takes an optional path to redirect to (for example, if you want to navigate to a ''safe'' page)."],["important",{},["p",{},"Make sure to check before using anything dependent on Nuxt plugins, such as ",["code",{},"$route"]," or ",["code",{},"useRouter"],", as if a plugin threw an error, then it won''t be re-run until you clear the error."]],["note",{},["p",{},"Rendering an error page is an entirely separate page load, meaning any registered middleware will run again. You can use ",["a",{"href":"#useerror"},["code",{},"useError"]]," in middleware to check if an error is being handled."]],["note",{},["p",{},"If you are running on Node 16 and you set any cookies when rendering your error page, they will ",["a",{"href":"https://github.com/nuxt/nuxt/pull/20585","rel":["nofollow"]},"overwrite cookies previously set"],". We recommend using a newer version of Node as Node 16 reached end-of-life in September 2023."]],["h2",{"id":"error-utils"},"Error Utils"],["h3",{"id":"useerror"},["code",{},"useError"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"function useError (): Ref<Error | { url, statusCode, statusMessage, message, description, data }>\n","filename":"TS Signature","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," useError"],["span",{"class":"sDfIl"}," ():"],["span",{"class":"s52Pk"}," Ref"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"Error"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," url"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," statusCode"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," statusMessage"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," message"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," description"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"}," }>\n"]]]],["p",{},"This function will return the global Nuxt error that is being handled."],["read-more",{"to":"/docs/api/composables/use-error"},["p",{},"Read more about ",["code",{},"useError"]," composable."]],["h3",{"id":"createerror"},["code",{},"createError"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"function createError (err: string | { cause, data, message, name, stack, statusCode, statusMessage, fatal }): Error\n","filename":"TS Signature","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," createError"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"err"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," cause"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," message"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," name"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," stack"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," statusCode"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," statusMessage"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," fatal"],["span",{"class":"sDfIl"}," }):"],["span",{"class":"s52Pk"}," Error\n"]]]],["p",{},"Create an error object with additional metadata. You can pass a string to be set as the error ",["code",{},"message"]," or an object containing error properties. It is usable in both the Vue and Server portions of your app, and is meant to be thrown."],["p",{},"If you throw an error created with ",["code",{},"createError"],":"],["ul",{},["li",{},"on server-side, it will trigger a full-screen error page which you can clear with ",["a",{"href":"#clearerror"},["code",{},"clearError"]],"."],["li",{},"on client-side, it will throw a non-fatal error for you to handle. If you need to trigger a full-screen error page, then you can do this by setting ",["code",{},"fatal: true"],"."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst route = useRoute()\nconst { data } = await useFetch(`/api/movies/${route.params.slug}`)\n\nif (!data.value) {\n  throw createError({\n    statusCode: 404,\n    statusMessage: ''Page Not Found''\n  })\n}\n</script>\n","filename":"pages/movies/[slug].vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/api/movies/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"if"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"!"],["span",{"class":"sZSNi"},"data"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"  throw"],["span",{"class":"s3cPz"}," createError"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 404"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"    statusMessage"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Page Not Found"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/utils/create-error"},["p",{},"Read more about ",["code",{},"createError"]," util."]],["h3",{"id":"showerror"},["code",{},"showError"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"function showError (err: string | Error | { statusCode, statusMessage }): Error\n","filename":"TS Signature","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," showError"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"err"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"s52Pk"}," Error"],["span",{"class":"sDfIl"}," |"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," statusCode"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," statusMessage"],["span",{"class":"sDfIl"}," }):"],["span",{"class":"s52Pk"}," Error\n"]]]],["p",{},"You can call this function at any point on client-side, or (on server side) directly within middleware, plugins or ",["code",{},"setup()"]," functions. It will trigger a full-screen error page which you can clear with ",["a",{"href":"#clearerror"},["code",{},"clearError"]],"."],["p",{},"It is recommended instead to use ",["code",{},"throw createError()"],"."],["read-more",{"to":"/docs/api/utils/show-error"},["p",{},"Read more about ",["code",{},"showError"]," util."]],["h3",{"id":"clearerror"},["code",{},"clearError"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"function clearError (options?: { redirect?: string }): Promise<void>\n","filename":"TS Signature","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"function"],["span",{"class":"s3cPz"}," clearError"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"options"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," redirect"],["span",{"class":"sDfIl"},"?:"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," }):"],["span",{"class":"s52Pk"}," Promise"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"void"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"This function will clear the currently handled Nuxt error. It also takes an optional path to redirect to (for example, if you want to navigate to a ''safe'' page)."],["read-more",{"to":"/docs/api/utils/clear-error"},["p",{},"Read more about ",["code",{},"clearError"]," util."]],["h2",{"id":"render-error-in-component"},"Render Error in Component"],["p",{},"Nuxt also provides a ",["a",{"href":"/docs/api/components/nuxt-error-boundary"},["code",{},"<NuxtErrorBoundary>"]]," component that allows you to handle client-side errors within your app, without replacing your entire site with an error page."],["p",{},"This component is responsible for handling errors that occur within its default slot. On client-side, it will prevent the error from bubbling up to the top level, and will render the ",["code",{},"#error"]," slot instead."],["p",{},"The ",["code",{},"#error"]," slot will receive ",["code",{},"error"]," as a prop. (If you set ",["code",{},"error = null"]," it will trigger re-rendering the default slot; you''ll need to ensure that the error is fully resolved first or the error slot will just be rendered a second time.)"],["tip",{},["p",{},"If you navigate to another route, the error will be cleared automatically."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <!-- some content -->\n  <NuxtErrorBoundary @error=\"someErrorLogger\">\n    <!-- You use the default slot to render your content -->\n    <template #error=\"{ error, clearError }\">\n      You can display the error locally here: {{ error }}\n      <button @click=\"clearError\">\n        This will clear the error.\n      </button>\n    </template>\n  </NuxtErrorBoundary>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  <!-- some content -->\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"NuxtErrorBoundary"],["span",{"class":"sDfIl"}," @"],["span",{"class":"smZ93"},"error"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"someErrorLogger"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"    <!-- You use the default slot to render your content -->\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"}," #"],["span",{"class":"smZ93"},"error"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"{"],["span",{"class":"sZSNi"}," error"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," clearError "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"      You can display the error locally here: "],["span",{"class":"sDfIl"},"{{"],["span",{"class":"sZSNi"}," error "],["span",{"class":"sDfIl"},"}}\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"}," @"],["span",{"class":"smZ93"},"click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"clearError"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"        This will clear the error.\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      </"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    </"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"NuxtErrorBoundary"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["link-example",{"to":"/docs/examples/advanced/error-handling"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"vue-errors","depth":2,"text":"Vue Errors"},{"id":"startup-errors","depth":2,"text":"Startup Errors"},{"id":"nitro-server-errors","depth":2,"text":"Nitro Server Errors"},{"id":"errors-with-js-chunks","depth":2,"text":"Errors with JS Chunks"},{"id":"error-page","depth":2,"text":"Error Page"},{"id":"error-utils","depth":2,"text":"Error Utils","children":[{"id":"useerror","depth":3,"text":"useError"},{"id":"createerror","depth":3,"text":"createError"},{"id":"showerror","depth":3,"text":"showError"},{"id":"clearerror","depth":3,"text":"clearError"}]},{"id":"render-error-in-component","depth":2,"text":"Render Error in Component"}]}}', 'Learn how to catch and handle errors in Nuxt.', 'md', NULL, '{}', '{"icon":"i-lucide-bug-off"}', '/nuxt/nuxtcore/live/getting-started/error-handling', '{"title":"Error Handling","description":"Learn how to catch and handle errors in Nuxt."}', 'nuxt/nuxtcore/live/1.getting-started/12.error-handling', NULL, 't7XnNzuuI2ZoRmHpwu4LupCK9heiWN1ELiLa2Itq8oI'); -- t7XnNzuuI2ZoRmHpwu4LupCK9heiWN1ELiLa2Itq8oI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/13.server.md', 'Server', '{"type":"minimark","value":[["read-more",{"to":"/docs/guide/directory-structure/server"}],["h2",{"id":"powered-by-nitro"},"Powered by Nitro"],["p",{},["img",{"alt":"Server engine","src":"/assets/docs/getting-started/server.svg"}]],["p",{},"Nuxt''s server is ",["a",{"href":"https://github.com/nitrojs/nitro","rel":["nofollow"]},"Nitro"],". It was originally created for Nuxt but is now part of ",["a",{"href":"https://unjs.io","rel":["nofollow"]},"UnJS"]," and open for other frameworks - and can even be used on its own."],["p",{},"Using Nitro gives Nuxt superpowers:"],["ul",{},["li",{},"Full control of the server-side part of your app"],["li",{},"Universal deployment on any provider (many zero-config)"],["li",{},"Hybrid rendering"]],["p",{},"Nitro is internally using ",["a",{"href":"https://github.com/h3js/h3","rel":["nofollow"]},"h3"],", a minimal H(TTP) framework built for high performance and portability."],["video-accordion",{"title":"Watch a video from Alexander Lichter to understand the responsibilities of Nuxt and Nitro in your application","video-id":"DkvgJa-X31k"}],["h2",{"id":"server-endpoints-middleware"},"Server Endpoints & Middleware"],["p",{},"You can easily manage the server-only part of your Nuxt app, from API endpoints to middleware."],["p",{},"Both endpoints and middleware can be defined like this:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineEventHandler(async (event) => {\n  // ... Do whatever you want here\n})\n","filename":"server/api/test.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineEventHandler"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"event"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // ... Do whatever you want here\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"And you can directly return ",["code",{},"text"],", ",["code",{},"json"],", ",["code",{},"html"]," or even a ",["code",{},"stream"],"."],["p",{},"Out-of-the-box, it supports ",["strong",{},"hot module replacement"]," and ",["strong",{},"auto-import"]," like the other parts of your Nuxt application."],["read-more",{"to":"/docs/guide/directory-structure/server"}],["h2",{"id":"universal-deployment"},"Universal Deployment"],["p",{},"Nitro offers the ability to deploy your Nuxt app anywhere, from a bare metal server to the edge network, with a start time of just a few milliseconds. That''s fast!"],["read-more",{"to":"/blog/nuxt-on-the-edge"}],["p",{},"There are more than 15 presets to build your Nuxt app for different cloud providers and servers, including:"],["ul",{},["li",{},["a",{"href":"https://workers.cloudflare.com","rel":["nofollow"]},"Cloudflare Workers"]],["li",{},["a",{"href":"https://www.netlify.com/products/functions","rel":["nofollow"]},"Netlify Functions"]],["li",{},["a",{"href":"https://vercel.com/docs/edge-network","rel":["nofollow"]},"Vercel Edge Network"]]],["p",{},"Or for other runtimes:"],["card-group",{},["card",{"icon":"i-logos-deno","target":"_blank","title":"Deno","to":"https://deno.land"}],["card",{"icon":"i-logos-bun","target":"_blank","title":"Bun","to":"https://bun.sh"}]],["read-more",{"to":"/docs/getting-started/deployment"}],["h2",{"id":"hybrid-rendering"},"Hybrid Rendering"],["p",{},"Nitro has a powerful feature called ",["code",{},"routeRules"]," which allows you to define a set of rules to customize how each route of your Nuxt app is rendered (and more)."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  routeRules: {\n    // Generated at build time for SEO purpose\n    ''/'': { prerender: true },\n    // Cached for 1 hour\n    ''/api/*'': { cache: { maxAge: 60 * 60 } },\n    // Redirection to avoid 404\n    ''/old-page'': {\n      redirect: { to: ''/new-page'', statusCode: 302 }\n    }\n    // ...\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  routeRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Generated at build time for SEO purpose\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Cached for 1 hour\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/api/*"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," cache"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," maxAge"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 60"],["span",{"class":"sDfIl"}," *"],["span",{"class":"sYRBq"}," 60"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // Redirection to avoid 404\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/old-page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"      redirect"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," to"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/new-page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," statusCode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 302"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"    // ...\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"to":"/docs/guide/concepts/rendering#hybrid-rendering"},["p",{},"Learn about all available route rules are available to customize the rendering mode of your routes."]],["p",{},"In addition, there are some route rules (for example, ",["code",{},"ssr"],", ",["code",{},"appMiddleware"],", and ",["code",{},"noScripts"],") that are Nuxt specific to change the behavior when rendering your pages to HTML."],["p",{},"Some route rules (",["code",{},"appMiddleware"],", ",["code",{},"redirect"]," and ",["code",{},"prerender"],") also affect client-side behavior."],["p",{},"Nitro is used to build the app for server side rendering, as well as pre-rendering."],["read-more",{"to":"/docs/guide/concepts/rendering"}],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"powered-by-nitro","depth":2,"text":"Powered by Nitro"},{"id":"server-endpoints-middleware","depth":2,"text":"Server Endpoints & Middleware"},{"id":"universal-deployment","depth":2,"text":"Universal Deployment"},{"id":"hybrid-rendering","depth":2,"text":"Hybrid Rendering"}]}}', 'Build full-stack applications with Nuxt''s server framework. You can fetch data from your database or another server, create APIs, or even generate static server-side content like a sitemap or a RSS feed - all from a single codebase.', 'md', NULL, '{}', '{"icon":"i-lucide-pc-case"}', '/nuxt/nuxtcore/live/getting-started/server', '{"title":"Server","description":"Build full-stack applications with Nuxt''s server framework. You can fetch data from your database or another server, create APIs, or even generate static server-side content like a sitemap or a RSS feed - all from a single codebase."}', 'nuxt/nuxtcore/live/1.getting-started/13.server', NULL, 'z2IR-d4BFJS1f75XpcOI9uMWZ8-TFghymDS0xuquzho'); -- z2IR-d4BFJS1f75XpcOI9uMWZ8-TFghymDS0xuquzho
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/14.layers.md', 'Layers', '{"type":"minimark","value":[["p",{},"One of the core features of Nuxt is the layers and extending support. You can extend a default Nuxt application to reuse components, utils, and configuration. The layers structure is almost identical to a standard Nuxt application which makes them easy to author and maintain."],["h2",{"id":"use-cases"},"Use Cases"],["ul",{},["li",{},"Share reusable configuration presets across projects using ",["code",{},"nuxt.config"]," and ",["code",{},"app.config"]],["li",{},"Create a component library using ",["a",{"href":"/docs/guide/directory-structure/app/components"},["code",{},"app/components/"]]," directory"],["li",{},"Create utility and composable library using ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/"]]," and ",["a",{"href":"/docs/guide/directory-structure/app/utils"},["code",{},"app/utils/"]]," directories"],["li",{},"Create Nuxt module presets"],["li",{},"Share standard setup across projects"],["li",{},"Create Nuxt themes"],["li",{},"Enhance code organization by implementing a modular architecture and support Domain-Driven Design (DDD) pattern in large scale projects."]],["h2",{"id":"usage"},"Usage"],["p",{},"By default, any layers within your project in the ",["code",{},"~~/layers"]," directory will be automatically registered as layers in your project."],["note",{},["p",{},"Layer auto-registration was introduced in Nuxt v3.12.0."]],["p",{},"In addition, named layer aliases to the ",["code",{},"srcDir"]," of each of these layers will automatically be created. For example, you will be able to access the ",["code",{},"~~/layers/test"]," layer via ",["code",{},"#layers/test"],"."],["note",{},["p",{},"Named layer aliases were introduced in Nuxt v3.16.0."]],["p",{},"In addition, you can extend from a layer by adding the ",["a",{"href":"/docs/api/nuxt-config#extends"},"extends"]," property to your ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config"]]," file."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    ''../base'',                     // Extend from a local layer\n    ''@my-themes/awesome'',          // Extend from an installed npm package\n    ''github:my-themes/awesome#v1'', // Extend from a git repository\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"../base"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"                     // Extend from a local layer\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"@my-themes/awesome"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"          // Extend from an installed npm package\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"github:my-themes/awesome#v1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // Extend from a git repository\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can also pass an authentication token if you are extending from a private GitHub repository:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    // per layer configuration\n    [''github:my-themes/private-awesome'', { auth: process.env.GITHUB_TOKEN }]\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // per layer configuration\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"github:my-themes/private-awesome"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," auth"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," process"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"env"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"GITHUB_TOKEN "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["tip",{},["p",{},"You can override a layer''s alias by specifying it in the options next to the layer source."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    [\n      ''github:my-themes/awesome'',\n      { \n        meta: {\n          name: ''my-awesome-theme'',\n        },\n      },\n    ],\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    [\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sGFVr"},"github:my-themes/awesome"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      {"],["span",{"class":"sZSNi"}," \n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        meta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"          name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-awesome-theme"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"        },\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      },\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"    ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["p",{},"Nuxt uses ",["a",{"href":"https://c12.unjs.io","rel":["nofollow"]},"unjs/c12"]," and ",["a",{"href":"https://giget.unjs.io","rel":["nofollow"]},"unjs/giget"]," for extending remote layers. Check the documentation for more information and all available options."],["h2",{"id":"layer-priority"},"Layer Priority"],["p",{},"When using multiple layers, it''s important to understand how they override each other:"],["ol",{},["li",{},["strong",{},"Layers in ",["code",{},"extends"]]," - earlier entries have higher priority (first overrides second)"],["li",{},["strong",{},"Auto-scanned local layers"]," from ",["code",{},"~~/layers"]," directory in alphabetical order (Z overrides A)"],["li",{},["strong",{},"Your project"]," has the highest priority in the stack - it will always override other layers"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  extends: [\n    ''../base'',                     // Highest priority (among extends)\n    ''@my-themes/awesome'',          // Medium priority\n    ''github:my-themes/awesome#v1'', // Lower priority\n  ]\n  // Your project has the highest priority\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"../base"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"                     // Highest priority (among extends)\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"@my-themes/awesome"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"},"          // Medium priority\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"github:my-themes/awesome#v1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sWuyu"}," // Lower priority\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"  // Your project has the highest priority\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This means if multiple layers define the same component, configuration, or file, the one with higher priority will be used."],["read-more",{"to":"/docs/guide/going-further/layers"},["p",{},"Read more about layers in the ",["strong",{},"Layer Author Guide"],"."]],["video-accordion",{"title":"Watch a video from Learn Vue about Nuxt Layers","video-id":"lnFCM7c9f7I"}],["video-accordion",{"title":"Watch a video from Alexander Lichter about Nuxt Layers","video-id":"fr5yo3aVkfA"}],["h2",{"id":"examples"},"Examples"],["card-group",{},["card",{"icon":"i-simple-icons-github","target":"_blank","title":"Content Wind","to":"https://github.com/Atinux/content-wind"},["p",{},"A lightweight Nuxt theme to build a Markdown driven website. Powered by Nuxt Content, TailwindCSS and Iconify."]]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"use-cases","depth":2,"text":"Use Cases"},{"id":"usage","depth":2,"text":"Usage"},{"id":"layer-priority","depth":2,"text":"Layer Priority"},{"id":"examples","depth":2,"text":"Examples"}]}}', 'Nuxt provides a powerful system that allows you to extend the default files, configs, and much more.', 'md', NULL, '{}', '{"icon":"i-lucide-layers"}', '/nuxt/nuxtcore/live/getting-started/layers', '{"title":"Layers","description":"Nuxt provides a powerful system that allows you to extend the default files, configs, and much more."}', 'nuxt/nuxtcore/live/1.getting-started/14.layers', NULL, 'a5JrDGc7KRif_MKx8xrrDIgBFi6vZRBDfq_j7z62Dts'); -- a5JrDGc7KRif_MKx8xrrDIgBFi6vZRBDfq_j7z62Dts
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/15.prerendering.md', 'Prerendering', '{"type":"minimark","value":[["p",{},"Nuxt allows for select pages from your application to be rendered at build time. Nuxt will serve the prebuilt pages when requested instead of generating them on the fly."],["read-more",{"to":"/docs/guide/concepts/rendering","title":"Nuxt rendering modes"}],["h2",{"id":"crawl-based-pre-rendering"},"Crawl-based Pre-rendering"],["p",{},"Use the ",["a",{"href":"/docs/api/commands/generate"},["code",{},"nuxt generate"]," command"]," to build and pre-render your application using the ",["a",{"href":"/docs/guide/concepts/server-engine"},"Nitro"]," crawler. This command is similar to ",["code",{},"nuxt build"]," with the ",["code",{},"nitro.static"]," option set to ",["code",{},"true"],", or running ",["code",{},"nuxt build --prerender"],"."],["p",{},"This will build your site, stand up a nuxt instance, and, by default, prerender the root page ",["code",{},"/"]," along with any of your site''s pages it links to, any of your site''s pages they link to, and so on."],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt generate\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," generate\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn nuxt generate\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," generate\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm nuxt generate\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," generate\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun x nuxt generate\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," x"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," generate\n"]]]]],["p",{},"You can now deploy the ",["code",{},".output/public"]," directory to any static hosting service or preview it locally with ",["code",{},"npx serve .output/public"],"."],["p",{},"Working of the Nitro crawler:"],["ol",{},["li",{},"Load the HTML of your application''s root route (",["code",{},"/"],"), any non-dynamic pages in your ",["code",{},"~/pages"]," directory, and any other routes in the ",["code",{},"nitro.prerender.routes"]," array."],["li",{},"Save the HTML and ",["code",{},"payload.json"]," to the ",["code",{},"~/.output/public/"]," directory to be served statically."],["li",{},"Find all anchor tags (",["code",{},"<a href=\"...\">"],") in the HTML to navigate to other routes."],["li",{},"Repeat steps 1-3 for each anchor tag found until there are no more anchor tags to crawl."]],["p",{},"This is important to understand since pages that are not linked to a discoverable page can''t be pre-rendered automatically."],["read-more",{"to":"/docs/api/commands/generate#nuxt-generate"},["p",{},"Read more about the ",["code",{},"nuxt generate"]," command."]],["h3",{"id":"selective-pre-rendering"},"Selective Pre-rendering"],["p",{},"You can manually specify routes that ",["a",{"href":"/docs/guide/concepts/server-engine"},"Nitro"]," will fetch and pre-render during the build or ignore routes that you don''t want to pre-render like ",["code",{},"/dynamic"]," in the ",["code",{},"nuxt.config"]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  nitro: {\n    prerender: {\n      routes: [\"/user/1\", \"/user/2\"],\n      ignore: [\"/dynamic\"],\n    },\n  },\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      routes"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/user/1"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"/user/2"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      ignore"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/dynamic"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["p",{},"You can combine this with the ",["code",{},"crawlLinks"]," option to pre-render a set of routes that the crawler can''t discover like your ",["code",{},"/sitemap.xml"]," or ",["code",{},"/robots.txt"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  nitro: {\n    prerender: {\n      crawlLinks: true,\n      routes: [\"/sitemap.xml\", \"/robots.txt\"],\n    },\n  },\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      crawlLinks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      routes"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/sitemap.xml"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"/robots.txt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["p",{},"Setting ",["code",{},"nitro.prerender"]," to ",["code",{},"true"]," is similar to ",["code",{},"nitro.prerender.crawlLinks"]," to ",["code",{},"true"],"."],["read-more",{"to":"https://nitro.build/config#prerender"},["p",{},"Read more about pre-rendering in the Nitro documentation."]],["p",{},"Lastly, you can manually configure this using routeRules."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  routeRules: {\n    // Set prerender to true to configure it to be prerendered\n    \"/rss.xml\": { prerender: true },\n    // Set it to false to configure it to be skipped for prerendering\n    \"/this-DOES-NOT-get-prerendered\": { prerender: false },\n    // Everything under /blog gets prerendered as long as it\n    // is linked to from another page\n    \"/blog/**\": { prerender: true },\n  },\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  routeRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Set prerender to true to configure it to be prerendered\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    \""],["span",{"class":"sRlkE"},"/rss.xml"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Set it to false to configure it to be skipped for prerendering\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    \""],["span",{"class":"sRlkE"},"/this-DOES-NOT-get-prerendered"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // Everything under /blog gets prerendered as long as it\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"    // is linked to from another page\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    \""],["span",{"class":"sRlkE"},"/blog/**"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["read-more",{"to":"https://nitro.build/config#routerules"},["p",{},"Read more about Nitro''s ",["code",{},"routeRules"]," configuration."]],["p",{},"As a shorthand, you can also configure this in a page file using ",["a",{"href":"/docs/api/utils/define-route-rules"},["code",{},"defineRouteRules"]],"."],["read-more",{"to":"/docs/guide/going-further/experimental-features#inlinerouterules","icon":"i-lucide-star"},["p",{},"This feature is experimental and in order to use it you must enable the ",["code",{},"experimental.inlineRouteRules"]," option in your ",["code",{},"nuxt.config"],"."]],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\n// Or set at the page level\ndefineRouteRules({\n  prerender: true,\n});\n</script>\n\n<template>\n  <div>\n    <h1>Homepage</h1>\n    <p>Pre-rendered at build time</p>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// Or set at the page level\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"defineRouteRules"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Homepage"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Pre-rendered at build time"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"This will be translated to:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  routeRules: {\n    \"/\": { prerender: true },\n  },\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  routeRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    \""],["span",{"class":"sRlkE"},"/"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["h2",{"id":"runtime-prerender-configuration"},"Runtime Prerender Configuration"],["h3",{"id":"prerenderroutes"},["code",{},"prerenderRoutes"]],["p",{},"You can use this at runtime within a ",["a",{"href":"/docs/guide/going-further/nuxt-app#the-nuxt-context"},"Nuxt context"]," to add more routes for Nitro to prerender."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup>\nprerenderRoutes([\"/some/other/url\"]);\nprerenderRoutes(\"/api/content/article/my-article\");\n</script>\n\n<template>\n  <div>\n    <h1>This will register other routes for prerendering when prerendered</h1>\n  </div>\n</template>\n","filename":"app/pages/index.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s3cPz"},"prerenderRoutes"],["span",{"class":"sZSNi"},"(["],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/some/other/url"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},"])"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"prerenderRoutes"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"/api/content/article/my-article"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"This will register other routes for prerendering when prerendered"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"h1"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["read-more",{"to":"/docs/api/utils/prerender-routes","title":"prerenderRoutes"}],["h3",{"id":"prerenderroutes-nuxt-hook"},["code",{},"prerender:routes"]," Nuxt hook"],["p",{},"This is called before prerendering for additional routes to be registered."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  hooks: {\n    async \"prerender:routes\"(ctx) {\n      const { pages } = await fetch(\"https://api.some-cms.com/pages\").then(\n        (res) => res.json(),\n      );\n      for (const page of pages) {\n        ctx.routes.add(`/${page.name}`);\n      }\n    },\n  },\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"    async"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"prerender:routes"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"ctx"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"      const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," pages"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"https://api.some-cms.com/pages"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"then"],["span",{"class":"sRlkE"},"(\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"        ("],["span",{"class":"s1nJG"},"res"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," res"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"json"],["span",{"class":"sRlkE"},"()"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      )"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"      for"],["span",{"class":"sRlkE"}," ("],["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"}," of"],["span",{"class":"sZSNi"}," pages"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"        ctx"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"routes"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"add"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"name"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["h3",{"id":"prerendergenerate-nitro-hook"},["code",{},"prerender:generate"]," Nitro hook"],["p",{},"This is called for each route during prerendering. You can use this for fine-grained handling of each route that gets prerendered."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  nitro: {\n    hooks: {\n      \"prerender:generate\"(route) {\n        if (route.route?.includes(\"private\")) {\n          route.skip = true;\n        }\n      },\n    },\n  },\n});\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      \""],["span",{"class":"sGFVr"},"prerender:generate"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"route"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"        if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"?."],["span",{"class":"s3cPz"},"includes"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"private"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"          route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"skip"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"      },\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"crawl-based-pre-rendering","depth":2,"text":"Crawl-based Pre-rendering","children":[{"id":"selective-pre-rendering","depth":3,"text":"Selective Pre-rendering"}]},{"id":"runtime-prerender-configuration","depth":2,"text":"Runtime Prerender Configuration","children":[{"id":"prerenderroutes","depth":3,"text":"prerenderRoutes"},{"id":"prerenderroutes-nuxt-hook","depth":3,"text":"prerender:routes Nuxt hook"},{"id":"prerendergenerate-nitro-hook","depth":3,"text":"prerender:generate Nitro hook"}]}]}}', 'Nuxt allows pages to be statically rendered at build time to improve certain performance or SEO metrics', 'md', NULL, '{}', '{"icon":"i-lucide-file-code-2"}', '/nuxt/nuxtcore/live/getting-started/prerendering', '{"title":"Prerendering","description":"Nuxt allows pages to be statically rendered at build time to improve certain performance or SEO metrics"}', 'nuxt/nuxtcore/live/1.getting-started/15.prerendering', NULL, '-MAKM3lm7z8fr--RU5m_awFx2kG27EGHm0XJLsPkRio'); -- -MAKM3lm7z8fr--RU5m_awFx2kG27EGHm0XJLsPkRio
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/16.deployment.md', 'Deployment', '{"type":"minimark","value":[["p",{},"A Nuxt application can be deployed on a Node.js server, pre-rendered for static hosting, or deployed to serverless or edge (CDN) environments."],["tip",{},["p",{},"If you are looking for a list of cloud providers that support Nuxt, see the ",["a",{"href":"/deploy"},"Hosting providers"]," section."]],["h2",{"id":"nodejs-server"},"Node.js Server"],["p",{},"Discover the Node.js server preset with Nitro to deploy on any Node hosting."],["ul",{},["li",{},["strong",{},"Default output format"]," if none is specified or auto-detected ",["br",{}]],["li",{},"Loads only the required chunks to render the request for optimal cold start timing ",["br",{}]],["li",{},"Useful for deploying Nuxt apps to any Node.js hosting"]],["h3",{"id":"entry-point"},"Entry Point"],["p",{},"When running ",["code",{},"nuxt build"]," with the Node server preset, the result will be an entry point that launches a ready-to-run Node server."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"node .output/server/index.mjs\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"node"],["span",{"class":"sGFVr"}," .output/server/index.mjs\n"]]]],["p",{},"This will launch your production Nuxt server that listens on port 3000 by default."],["p",{},"It respects the following runtime environment variables:"],["ul",{},["li",{},["code",{},"NITRO_PORT"]," or ",["code",{},"PORT"]," (defaults to ",["code",{},"3000"],")"],["li",{},["code",{},"NITRO_HOST"]," or ",["code",{},"HOST"]," (defaults to ",["code",{},"''0.0.0.0''"],")"],["li",{},["code",{},"NITRO_SSL_CERT"]," and ",["code",{},"NITRO_SSL_KEY"]," - if both are present, this will launch the server in HTTPS mode. In the vast majority of cases, this should not be used other than for testing, and the Nitro server should be run behind a reverse proxy like nginx or Cloudflare which terminates SSL."]],["h3",{"id":"pm2"},"PM2"],["p",{},["a",{"href":"https://pm2.keymetrics.io/","rel":["nofollow"]},"PM2"]," (Process Manager 2) is a fast and easy solution for hosting your Nuxt application on your server or VM."],["p",{},"To use ",["code",{},"pm2"],", use an ",["code",{},"ecosystem.config.cjs"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"module.exports = {\n  apps: [\n    {\n      name: ''NuxtAppName'',\n      port: ''3000'',\n      exec_mode: ''cluster'',\n      instances: ''max'',\n      script: ''./.output/server/index.mjs''\n    }\n  ]\n}\n","filename":"ecosystem.config.cjs","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"module.exports"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  apps"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"NuxtAppName"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      port"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"3000"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      exec_mode"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"cluster"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"      instances"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"max"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      script"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"./.output/server/index.mjs"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}\n"]]]],["h3",{"id":"cluster-mode"},"Cluster Mode"],["p",{},"You can use ",["code",{},"NITRO_PRESET=node_cluster"]," in order to leverage multi-process performance using Node.js ",["a",{"href":"https://nodejs.org/dist/latest/docs/api/cluster.html","rel":["nofollow"]},"cluster"]," module."],["p",{},"By default, the workload gets distributed to the workers with the round robin strategy."],["h3",{"id":"learn-more"},"Learn More"],["read-more",{"to":"https://nitro.build/deploy/runtimes/node","title":"the Nitro documentation for node-server preset"}],["video-accordion",{"title":"Watch Daniel Roe''s short video on the topic","video-id":"0x1H6K5yOfs"}],["h2",{"id":"static-hosting"},"Static Hosting"],["p",{},"There are two ways to deploy a Nuxt application to any static hosting services:"],["ul",{},["li",{},"Static site generation (SSG) with ",["code",{},"ssr: true"]," pre-renders routes of your application at build time. (This is the default behavior when running ",["code",{},"nuxt generate"],".) It will also generate ",["code",{},"/200.html"]," and ",["code",{},"/404.html"]," single-page app fallback pages, which can render dynamic routes or 404 errors on the client (though you may need to configure this on your static host)."],["li",{},"Alternatively, you can prerender your site with ",["code",{},"ssr: false"]," (static single-page app). This will produce HTML pages with an empty ",["code",{},"<div id=\"__nuxt\"></div>"]," where your Vue app would normally be rendered. You will lose many SEO benefits of prerendering your site, so it is suggested instead to use ",["a",{"href":"/docs/api/components/client-only"},["code",{},"<ClientOnly>"]]," to wrap the portions of your site that cannot be server rendered (if any)."]],["read-more",{"to":"/docs/getting-started/prerendering","title":"Nuxt prerendering"}],["h3",{"id":"client-side-only-rendering"},"Client-side Only Rendering"],["p",{},"If you don''t want to pre-render your routes, another way of using static hosting is to set the ",["code",{},"ssr"]," property to ",["code",{},"false"]," in the ",["code",{},"nuxt.config"]," file. The ",["code",{},"nuxt generate"]," command will then output an ",["code",{},".output/public/index.html"]," entrypoint and JavaScript bundles like a classic client-side Vue.js application."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  ssr: false\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"hosting-providers"},"Hosting Providers"],["p",{},"Nuxt can be deployed to several cloud providers with a minimal amount of configuration:"],["read-more",{"to":"/deploy"}],["h2",{"id":"presets"},"Presets"],["p",{},"In addition to Node.js servers and static hosting services, a Nuxt project can be deployed with several well-tested presets and minimal amount of configuration."],["p",{},"You can explicitly set the desired preset in the ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  nitro: {\n    preset: ''node-server''\n  }\n})\n","filename":"nuxt.config.ts","language":"js","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    preset"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node-server"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"... or use the ",["code",{},"NITRO_PRESET"]," environment variable when running ",["code",{},"nuxt build"],":"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"NITRO_PRESET=node-server nuxt build\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"NITRO_PRESET"],["span",{"class":"sDfIl"},"="],["span",{"class":"sGFVr"},"node-server"],["span",{"class":"s52Pk"}," nuxt"],["span",{"class":"sGFVr"}," build\n"]]]],["p",{},"🔎 Check ",["a",{"href":"https://nitro.build/deploy","rel":["nofollow"]},"the Nitro deployment"]," for all possible deployment presets and providers."],["h2",{"id":"cdn-proxy"},"CDN Proxy"],["p",{},"In most cases, Nuxt can work with third-party content that is not generated or created by Nuxt itself. But sometimes such content can cause problems, especially Cloudflare''s \"Minification and Security Options\"."],["p",{},"Accordingly, you should make sure that the following options are unchecked / disabled in Cloudflare. Otherwise, unnecessary re-rendering or hydration errors could impact your production application."],["ol",{},["li",{},"Speed > Optimization > Content Optimization > Disable \"Rocket Loader™\""],["li",{},"Speed > Optimization > Image Optimization > Disable \"Mirage\""],["li",{},"Scrape Shield > Disable \"Email Address Obfuscation\""]],["p",{},"With these settings, you can be sure that Cloudflare won''t inject scripts into your Nuxt application that may cause unwanted side effects."],["tip",{},["p",{},"Their location on the Cloudflare dashboard sometimes changes so don''t hesitate to look around."]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nodejs-server","depth":2,"text":"Node.js Server","children":[{"id":"entry-point","depth":3,"text":"Entry Point"},{"id":"pm2","depth":3,"text":"PM2"},{"id":"cluster-mode","depth":3,"text":"Cluster Mode"},{"id":"learn-more","depth":3,"text":"Learn More"}]},{"id":"static-hosting","depth":2,"text":"Static Hosting","children":[{"id":"client-side-only-rendering","depth":3,"text":"Client-side Only Rendering"}]},{"id":"hosting-providers","depth":2,"text":"Hosting Providers"},{"id":"presets","depth":2,"text":"Presets"},{"id":"cdn-proxy","depth":2,"text":"CDN Proxy"}]}}', 'Learn how to deploy your Nuxt application to any hosting provider.', 'md', NULL, '{}', '{"icon":"i-lucide-cloud"}', '/nuxt/nuxtcore/live/getting-started/deployment', '{"title":"Deployment","description":"Learn how to deploy your Nuxt application to any hosting provider."}', 'nuxt/nuxtcore/live/1.getting-started/16.deployment', NULL, 'M86pxbhzfTu3BtTb6Q5QayeoBNVQkMoe8aq79zEDrPg'); -- M86pxbhzfTu3BtTb6Q5QayeoBNVQkMoe8aq79zEDrPg
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/17.testing.md', 'Testing', '{"type":"minimark","value":[["tip",{},["p",{},"If you are a module author, you can find more specific information in the ",["a",{"href":"/docs/guide/going-further/modules#testing"},"Module Author''s guide"],"."]],["p",{},"Nuxt offers first-class support for end-to-end and unit testing of your Nuxt application via ",["code",{},"@nuxt/test-utils"],", a library of test utilities and configuration that currently powers the ",["a",{"href":"https://github.com/nuxt/nuxt/tree/main/test","rel":["nofollow"]},"tests we use on Nuxt itself"]," and tests throughout the module ecosystem."],["video-accordion",{"title":"Watch a video from Alexander Lichter about getting started with @nuxt/test-utils","video-id":"yGzwk9xi9gU"}],["h2",{"id":"installation"},"Installation"],["p",{},"In order to allow you to manage your other testing dependencies, ",["code",{},"@nuxt/test-utils"]," ships with various optional peer dependencies. For example:"],["ul",{},["li",{},"you can choose between ",["code",{},"happy-dom"]," and ",["code",{},"jsdom"]," for a runtime Nuxt environment"],["li",{},"you can choose between ",["code",{},"vitest"],", ",["code",{},"cucumber"],", ",["code",{},"jest"]," and ",["code",{},"playwright"]," for end-to-end test runners"],["li",{},["code",{},"playwright-core"]," is only required if you wish to use the built-in browser testing utilities (and are not using ",["code",{},"@playwright/test"]," as your test runner)"]],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm i --save-dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," i"],["span",{"class":"sGFVr"}," --save-dev"],["span",{"class":"sGFVr"}," @nuxt/test-utils"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," playwright-core\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add --dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," @nuxt/test-utils"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," playwright-core\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add -D @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," @nuxt/test-utils"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," playwright-core\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add --dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," @nuxt/test-utils"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," playwright-core\n"]]]]],["h2",{"id":"unit-testing"},"Unit Testing"],["p",{},"We currently ship an environment for unit testing code that needs a ",["a",{"href":"https://nuxt.com","rel":["nofollow"]},"Nuxt"]," runtime environment. It currently ",["em",{},"only has support for ",["code",{},"vitest"]]," (although contribution to add other runtimes would be welcome)."],["h3",{"id":"setup"},"Setup"],["ol",{},["li",{},"Add ",["code",{},"@nuxt/test-utils/module"]," to your ",["code",{},"nuxt.config"]," file (optional). It adds a Vitest integration to your Nuxt DevTools which supports running your unit tests in development.",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  modules: [\n    ''@nuxt/test-utils/module''\n  ]\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  modules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/module"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["li",{},"Create a ",["code",{},"vitest.config.ts"]," with the following content:",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineConfig } from ''vitest/config''\nimport { defineVitestProject } from ''@nuxt/test-utils/config''\n\nexport default defineConfig({\n  test: {\n    projects: [\n      {\n        test: {\n          name: ''unit'',\n          include: [''test/{e2e,unit}/*.{test,spec}.ts''],\n          environment: ''node'',\n        },\n      },\n      await defineVitestProject({\n        test: {\n          name: ''nuxt'',\n          include: [''test/nuxt/*.{test,spec}.ts''],\n          environment: ''nuxt'',\n        },\n      }),\n    ],\n  },\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest/config"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineVitestProject"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/config"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    projects"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"        test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"          name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"unit"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"          include"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"test/{e2e,unit}/*.{test,spec}.ts"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"          environment"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"        },\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"      },\n"]],["span",{"class":"line","line":14},["span",{"class":"s8R28"},"      await"],["span",{"class":"s3cPz"}," defineVitestProject"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":15},["span",{"class":"sRlkE"},"        test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"          name"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":17},["span",{"class":"sRlkE"},"          include"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"test/nuxt/*.{test,spec}.ts"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":18},["span",{"class":"sRlkE"},"          environment"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"        },\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"      }"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":21},["span",{"class":"sZSNi"},"    ]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":22},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":23},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]]],["tip",{},["p",{},"When importing ",["code",{},"@nuxt/test-utils"]," in your vitest config, It is necessary to have ",["code",{},"\"type\": \"module\""]," specified in your ",["code",{},"package.json"]," or rename your vitest config file appropriately."],["blockquote",{},["p",{},"i.e., ",["code",{},"vitest.config.m{ts,js}"],"."]]],["tip",{},["p",{},"It is possible to set environment variables for testing by using the ",["code",{},".env.test"]," file."]],["h3",{"id":"using-a-nuxt-runtime-environment"},"Using a Nuxt Runtime Environment"],["p",{},"Using ",["a",{"href":"https://vitest.dev/guide/projects.html#test-projects","rel":["nofollow"]},"Vitest projects"],", you have fine-grained control over which tests run in which environment:"],["ul",{},["li",{},["strong",{},"Unit tests"],": Place regular unit tests in ",["code",{},"test/unit/"]," - these run in a Node environment for speed"],["li",{},["strong",{},"Nuxt tests"],": Place tests that rely on the Nuxt runtime environment in ",["code",{},"test/nuxt/"]," - these will run within a Nuxt runtime environment"]],["h4",{"id":"alternative-simple-setup"},"Alternative: Simple Setup"],["p",{},"If you prefer a simpler setup and want all tests to run in the Nuxt environment, you can use the basic configuration:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineVitestConfig } from ''@nuxt/test-utils/config''\n\nexport default defineVitestConfig({\n  test: {\n    environment: ''nuxt'',\n    // you can optionally set Nuxt-specific environment options\n    // environmentOptions: {\n    //   nuxt: {\n    //     rootDir: fileURLToPath(new URL(''./playground'', import.meta.url)),\n    //     domEnvironment: ''happy-dom'', // ''happy-dom'' (default) or ''jsdom''\n    //     overrides: {\n    //       // other Nuxt config you want to pass\n    //     }\n    //   }\n    // }\n  }\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineVitestConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/config"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineVitestConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    environment"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"nuxt"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"    // you can optionally set Nuxt-specific environment options\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // environmentOptions: {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"    //   nuxt: {\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"    //     rootDir: fileURLToPath(new URL(''./playground'', import.meta.url)),\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"    //     domEnvironment: ''happy-dom'',"],["span",{"class":"sWuyu"}," // ''happy-dom'' (default) or ''jsdom''\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"    //     overrides: {\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"    //"],["span",{"class":"sWuyu"},"       // other Nuxt config you want to pass\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"    //     }\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"    //   }\n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"    // }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":17},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"If you''re using the simple setup with ",["code",{},"environment: ''nuxt''"]," by default, you can opt ",["em",{},"out"]," of the ",["a",{"href":"https://vitest.dev/guide/environment.html#test-environment","rel":["nofollow"]},"Nuxt environment"]," per test file as needed."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @vitest-environment node\nimport { test } from ''vitest''\n\ntest(''my test'', () => {\n  // ... test without Nuxt environment!\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// @vitest-environment node\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," test"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"test"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  // ... test without Nuxt environment!\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"This approach is not recommended as it creates a hybrid environment where Nuxt Vite plugins run but the Nuxt entry and ",["code",{},"nuxtApp"]," are not initialized. This can lead to hard-to-debug errors."]],["h3",{"id":"organizing-your-tests"},"Organizing Your Tests"],["p",{},"With the project-based setup, you might organize your tests as follows:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"test/\n├── e2e/\n│   └── ssr.test.ts\n├── nuxt/\n│   ├── components.test.ts\n│   └── composables.test.ts\n├── unit/\n│   └── utils.test.ts\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"test/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"├──"],["span",{"class":"sGFVr"}," e2e/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"│"],["span",{"class":"sGFVr"},"   └──"],["span",{"class":"sGFVr"}," ssr.test.ts\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"├──"],["span",{"class":"sGFVr"}," nuxt/\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"│"],["span",{"class":"sGFVr"},"   ├──"],["span",{"class":"sGFVr"}," components.test.ts\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"│"],["span",{"class":"sGFVr"},"   └──"],["span",{"class":"sGFVr"}," composables.test.ts\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"├──"],["span",{"class":"sGFVr"}," unit/\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"│"],["span",{"class":"sGFVr"},"   └──"],["span",{"class":"sGFVr"}," utils.test.ts\n"]]]],["p",{},"You can of course opt for any test structure, but keeping the Nuxt runtime environment separated from Nuxt end-to-end tests is important for test stability."],["h4",{"id":"running-tests"},"Running Tests"],["p",{},"With the project setup, you can run different test suites:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"# Run all tests\nnpx vitest\n\n# Run only unit tests\nnpx vitest --project unit\n\n# Run only Nuxt tests\nnpx vitest --project nuxt\n\n# Run tests in watch mode\nnpx vitest --watch\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"# Run all tests\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," vitest\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"# Run only unit tests\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," --project"],["span",{"class":"sGFVr"}," unit\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"# Run only Nuxt tests\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," --project"],["span",{"class":"sGFVr"}," nuxt\n"]],["span",{"class":"line","line":9},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"# Run tests in watch mode\n"]],["span",{"class":"line","line":11},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," --watch\n"]]]],["warning",{},["p",{},"When you run your tests within the Nuxt environment, they will be running in a ",["a",{"href":"https://github.com/capricorn86/happy-dom","rel":["nofollow"]},["code",{},"happy-dom"]]," or ",["a",{"href":"https://github.com/jsdom/jsdom","rel":["nofollow"]},["code",{},"jsdom"]]," environment. Before your tests run, a global Nuxt app will be initialized (including, for example, running any plugins or code you''ve defined in your ",["code",{},"app.vue"],")."],["p",{},"This means you should take particular care not to mutate the global state in your tests (or, if you need to, to reset it afterwards)."]],["h3",{"id":"built-in-mocks"},"🎭 Built-In Mocks"],["p",{},["code",{},"@nuxt/test-utils"]," provides some built-in mocks for the DOM environment."],["h4",{"id":"intersectionobserver"},["code",{},"intersectionObserver"]],["p",{},"Default ",["code",{},"true"],", creates a dummy class without any functionality for the IntersectionObserver API"],["h4",{"id":"indexeddb"},["code",{},"indexedDB"]],["p",{},"Default ",["code",{},"false"],", uses ",["a",{"href":"https://github.com/dumbmatter/fakeIndexedDB","rel":["nofollow"]},["code",{},"fake-indexeddb"]]," to create a functional mock of the IndexedDB API"],["p",{},"These can be configured in the ",["code",{},"environmentOptions"]," section of your ",["code",{},"vitest.config.ts"]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineVitestConfig } from ''@nuxt/test-utils/config''\n\nexport default defineVitestConfig({\n  test: {\n    environmentOptions: {\n      nuxt: {\n        mock: {\n          intersectionObserver: true,\n          indexedDb: true,\n        }\n      }\n    }\n  }\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineVitestConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/config"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineVitestConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    environmentOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      nuxt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"        mock"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"          intersectionObserver"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"          indexedDb"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"️-helpers"},"🛠️ Helpers"],["p",{},["code",{},"@nuxt/test-utils"]," provides a number of helpers to make testing Nuxt apps easier."],["h4",{"id":"mountsuspended"},["code",{},"mountSuspended"]],["p",{},["code",{},"mountSuspended"]," allows you to mount any Vue component within the Nuxt environment, allowing async setup and access to injections from your Nuxt plugins."],["note",{},["p",{},"Under the hood, ",["code",{},"mountSuspended"]," wraps ",["code",{},"mount"]," from ",["code",{},"@vue/test-utils"],", so you can check out ",["a",{"href":"https://test-utils.vuejs.org/guide/","rel":["nofollow"]},"the Vue Test Utils documentation"]," for more on the options you can pass, and how to use this utility."]],["p",{},"For example:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @noErrors\nimport { it, expect } from ''vitest''\nimport type { Component } from ''vue''\ndeclare module ''#components'' {\n  export const SomeComponent: Component\n}\n// ---cut---\n// tests/components/SomeComponents.nuxt.spec.ts\nimport { mountSuspended } from ''@nuxt/test-utils/runtime''\nimport { SomeComponent } from ''#components''\n\nit(''can mount some component'', async () => {\n    const component = await mountSuspended(SomeComponent)\n    expect(component.text()).toMatchInlineSnapshot(\n        ''\"This is an auto-imported component\"''\n    )\n})\n\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// tests/components/SomeComponents.nuxt.spec.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mountSuspended"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," SomeComponent"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#components"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"it"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"can mount some component"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," component"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," mountSuspended"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"SomeComponent"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"    expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"component"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"text"],["span",{"class":"sRlkE"},"())"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toMatchInlineSnapshot"],["span",{"class":"sRlkE"},"(\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"        ''"],["span",{"class":"sGFVr"},"\"This is an auto-imported component\""],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"    )\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @noErrors\nimport { it, expect } from ''vitest''\n// ---cut---\n// tests/components/SomeComponents.nuxt.spec.ts\nimport { mountSuspended } from ''@nuxt/test-utils/runtime''\nimport App from ''~/app.vue''\n\n// tests/App.nuxt.spec.ts\nit(''can also mount an app'', async () => {\n    const component = await mountSuspended(App, { route: ''/test'' })\n    expect(component.html()).toMatchInlineSnapshot(`\n      \"<div>This is an auto-imported component</div>\n      <div> I am a global component </div>\n      <div>/</div>\n      <a href=\"/test\"> Test link </a>\"\n    `)\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// tests/components/SomeComponents.nuxt.spec.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mountSuspended"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," App "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/app.vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"// tests/App.nuxt.spec.ts\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"it"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"can also mount an app"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," component"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," mountSuspended"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"App"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," route"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"    expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"component"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"html"],["span",{"class":"sRlkE"},"())"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toMatchInlineSnapshot"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":9},["span",{"class":"sGFVr"},"      \"<div>This is an auto-imported component</div>\n"]],["span",{"class":"line","line":10},["span",{"class":"sGFVr"},"      <div> I am a global component </div>\n"]],["span",{"class":"line","line":11},["span",{"class":"sGFVr"},"      <div>/</div>\n"]],["span",{"class":"line","line":12},["span",{"class":"sGFVr"},"      <a href=\"/test\"> Test link </a>\"\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"    `"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"rendersuspended"},["code",{},"renderSuspended"]],["p",{},["code",{},"renderSuspended"]," allows you to render any Vue component within the Nuxt environment using ",["code",{},"@testing-library/vue"],", allowing async setup and access to injections from your Nuxt plugins."],["p",{},"This should be used together with utilities from Testing Library, e.g. ",["code",{},"screen"]," and ",["code",{},"fireEvent"],". Install ",["a",{"href":"https://testing-library.com/docs/vue-testing-library/intro","rel":["nofollow"]},"@testing-library/vue"]," in your project to use these."],["p",{},"Additionally, Testing Library also relies on testing globals for cleanup. You should turn these on in your ",["a",{"href":"https://vitest.dev/config/#globals","rel":["nofollow"]},"Vitest config"],"."],["p",{},"The passed in component will be rendered inside a ",["code",{},"<div id=\"test-wrapper\"></div>"],"."],["p",{},"Examples:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @noErrors\nimport { it, expect } from ''vitest''\nimport type { Component } from ''vue''\ndeclare module ''#components'' {\n  export const SomeComponent: Component\n}\n// ---cut---\n// tests/components/SomeComponents.nuxt.spec.ts\nimport { renderSuspended } from ''@nuxt/test-utils/runtime''\nimport { SomeComponent } from ''#components''\nimport { screen } from ''@testing-library/vue''\n\nit(''can render some component'', async () => {\n  await renderSuspended(SomeComponent)\n  expect(screen.getByText(''This is an auto-imported component'')).toBeDefined()\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// tests/components/SomeComponents.nuxt.spec.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," renderSuspended"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," SomeComponent"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#components"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," screen"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@testing-library/vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"it"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"can render some component"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," renderSuspended"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"SomeComponent"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"s3cPz"},"  expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"screen"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getByText"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"This is an auto-imported component"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toBeDefined"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @noErrors\nimport { it, expect } from ''vitest''\n// ---cut---\n// tests/App.nuxt.spec.ts\nimport { renderSuspended } from ''@nuxt/test-utils/runtime''\nimport App from ''~/app.vue''\n\nit(''can also render an app'', async () => {\n  const html = await renderSuspended(App, { route: ''/test'' })\n  expect(html).toMatchInlineSnapshot(`\n    \"<div id=\"test-wrapper\">\n      <div>This is an auto-imported component</div>\n      <div> I am a global component </div>\n      <div>Index page</div><a href=\"/test\"> Test link </a>\n    </div>\"\n  `)\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// tests/App.nuxt.spec.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," renderSuspended"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," App "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"~/app.vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"it"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"can also render an app"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," html"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," renderSuspended"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"App"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," route"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"  expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"html"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toMatchInlineSnapshot"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`\n"]],["span",{"class":"line","line":8},["span",{"class":"sGFVr"},"    \"<div id=\"test-wrapper\">\n"]],["span",{"class":"line","line":9},["span",{"class":"sGFVr"},"      <div>This is an auto-imported component</div>\n"]],["span",{"class":"line","line":10},["span",{"class":"sGFVr"},"      <div> I am a global component </div>\n"]],["span",{"class":"line","line":11},["span",{"class":"sGFVr"},"      <div>Index page</div><a href=\"/test\"> Test link </a>\n"]],["span",{"class":"line","line":12},["span",{"class":"sGFVr"},"    </div>\"\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  `"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"mocknuxtimport"},["code",{},"mockNuxtImport"]],["p",{},["code",{},"mockNuxtImport"]," allows you to mock Nuxt''s auto import functionality. For example, to mock ",["code",{},"useStorage"],", you can do so like this:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { mockNuxtImport } from ''@nuxt/test-utils/runtime''\n\nmockNuxtImport(''useStorage'', () => {\n  return () => {\n    return { value: ''mocked storage'' }\n  }\n})\n\n// your tests here\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mockNuxtImport"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"mockNuxtImport"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"useStorage"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," value"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"mocked storage"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"// your tests here\n"]]]],["note",{},["p",{},["code",{},"mockNuxtImport"]," can only be used once per mocked import per test file. It is actually a macro that gets transformed to ",["code",{},"vi.mock"]," and ",["code",{},"vi.mock"]," is hoisted, as described ",["a",{"href":"https://vitest.dev/api/vi.html#vi-mock","rel":["nofollow"]},"in the Vitest docs"],"."]],["p",{},"If you need to mock a Nuxt import and provide different implementations between tests, you can do it by creating and exposing your mocks using ",["a",{"href":"https://vitest.dev/api/vi.html#vi-hoisted","rel":["nofollow"]},["code",{},"vi.hoisted"]],", and then use those mocks in ",["code",{},"mockNuxtImport"],". You then have access to the mocked imports, and can change the implementation between tests. Be careful to ",["a",{"href":"https://vitest.dev/api/mock.html#mockrestore","rel":["nofollow"]},"restore mocks"]," before or after each test to undo mock state changes between runs."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { vi } from ''vitest''\nimport { mockNuxtImport } from ''@nuxt/test-utils/runtime''\n\nconst { useStorageMock } = vi.hoisted(() => {\n  return {\n    useStorageMock: vi.fn(() => {\n      return { value: ''mocked storage''}\n    })\n  }\n})\n\nmockNuxtImport(''useStorage'', () => {\n  return useStorageMock\n})\n\n// Then, inside a test\nuseStorageMock.mockImplementation(() => {\n  return { value: ''something else'' }\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," vi"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mockNuxtImport"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," useStorageMock "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," vi"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"hoisted"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    useStorageMock"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," vi"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"fn"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," value"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"mocked storage"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"s3cPz"},"mockNuxtImport"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"useStorage"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":13},["span",{"class":"s8R28"},"  return"],["span",{"class":"sZSNi"}," useStorageMock\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":15},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":16},["span",{"class":"sWuyu"},"// Then, inside a test\n"]],["span",{"class":"line","line":17},["span",{"class":"sZSNi"},"useStorageMock"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"mockImplementation"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":18},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," value"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"something else"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"mockcomponent"},["code",{},"mockComponent"]],["p",{},["code",{},"mockComponent"]," allows you to mock Nuxt''s component.\nThe first argument can be the component name in PascalCase, or the relative path of the component.\nThe second argument is a factory function that returns the mocked component."],["p",{},"For example, to mock ",["code",{},"MyComponent"],", you can:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { mockComponent } from ''@nuxt/test-utils/runtime''\n\nmockComponent(''MyComponent'', {\n  props: {\n    value: String\n  },\n  setup(props) {\n    // ...\n  }\n})\n\n// relative path or alias also works\nmockComponent(''~/components/my-component.vue'', async () => {\n  // or a factory function\n  return defineComponent({\n    setup(props) {\n      // ...\n    }\n  })\n})\n\n// or you can use SFC for redirecting to a mock component\nmockComponent(''MyComponent'', () => import(''./MockComponent.vue''))\n\n// your tests here\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mockComponent"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"mockComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"MyComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  props"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    value"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," String\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"props"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sWuyu"},"    // ...\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"// relative path or alias also works\n"]],["span",{"class":"line","line":13},["span",{"class":"s3cPz"},"mockComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"~/components/my-component.vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"  // or a factory function\n"]],["span",{"class":"line","line":15},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," defineComponent"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":16},["span",{"class":"sRlkE"},"    setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"props"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":17},["span",{"class":"sWuyu"},"      // ...\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":21},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":22},["span",{"class":"sWuyu"},"// or you can use SFC for redirecting to a mock component\n"]],["span",{"class":"line","line":23},["span",{"class":"s3cPz"},"mockComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"MyComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./MockComponent.vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":24},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":25},["span",{"class":"sWuyu"},"// your tests here\n"]]]],["blockquote",{},["p",{},["strong",{},"Note"],": You can''t reference local variables in the factory function since they are hoisted. If you need to access Vue APIs or other variables, you need to import them in your factory function."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { mockComponent } from ''@nuxt/test-utils/runtime''\n\nmockComponent(''MyComponent'', async () => {\n  const { ref, h } = await import(''vue'')\n\n  return defineComponent({\n    setup(props) {\n      const counter = ref(0)\n      return () => h(''div'', null, counter.value)\n    }\n  })\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mockComponent"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"mockComponent"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"MyComponent"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," ref"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," h"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"vue"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," defineComponent"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    setup"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"props"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"      const"],["span",{"class":"sZSNi"}," counter"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sRlkE"},"("],["span",{"class":"sYRBq"},"0"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," h"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"div"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," null,"],["span",{"class":"sZSNi"}," counter"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"registerendpoint"},["code",{},"registerEndpoint"]],["p",{},["code",{},"registerEndpoint"]," allows you create Nitro endpoint that returns mocked data. It can come in handy if you want to test a component that makes requests to API to display some data."],["p",{},"The first argument is the endpoint name (e.g. ",["code",{},"/test/"],").\nThe second argument is a factory function that returns the mocked data."],["p",{},"For example, to mock ",["code",{},"/test/"]," endpoint, you can do:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { registerEndpoint } from ''@nuxt/test-utils/runtime''\n\nregisterEndpoint(''/test/'', () => ({\n  test: ''test-field''\n}))\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," registerEndpoint"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"registerEndpoint"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/test/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"test-field"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},"))\n"]]]],["p",{},"By default, your request will be made using the ",["code",{},"GET"]," method. You may use another method by setting an object as the second argument instead of a function."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { registerEndpoint } from ''@nuxt/test-utils/runtime''\n\nregisterEndpoint(''/test/'', {\n  method: ''POST'',\n  handler: () => ({ test: ''test-field'' })\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," registerEndpoint"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"registerEndpoint"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/test/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  method"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"POST"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"s3cPz"},"  handler"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"test-field"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["blockquote",{},["p",{},["strong",{},"Note"],": If your requests in a component go to an external API, you can use ",["code",{},"baseURL"]," and then make it empty using ",["a",{"href":"/docs/getting-started/configuration#environment-overrides"},"Nuxt Environment Override Config"]," (",["code",{},"$test"],") so all your requests will go to Nitro server."]],["h4",{"id":"conflict-with-end-to-end-testing"},"Conflict with End-To-End Testing"],["p",{},["code",{},"@nuxt/test-utils/runtime"]," and ",["code",{},"@nuxt/test-utils/e2e"]," need to run in different testing environments and so can''t be used in the same file."],["p",{},"If you would like to use both the end-to-end and unit testing functionality of ",["code",{},"@nuxt/test-utils"],", you can split your tests into separate files. You then either specify a test environment per-file with the special ",["code",{},"// @vitest-environment nuxt"]," comment, or name your runtime unit test files with the ",["code",{},".nuxt.spec.ts"]," extension."],["p",{},["code",{},"app.nuxt.spec.ts"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { mockNuxtImport } from ''@nuxt/test-utils/runtime''\n\nmockNuxtImport(''useStorage'', () => {\n  return () => {\n    return { value: ''mocked storage'' }\n  }\n})\n\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mockNuxtImport"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/runtime"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"mockNuxtImport"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"useStorage"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  return"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," value"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"mocked storage"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},["code",{},"app.e2e.spec.ts"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { setup, $fetch } from ''@nuxt/test-utils/e2e''\n\nawait setup({\n  setupTimeout: 10000,\n})\n\n// ...\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," setup"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," $fetch"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"await"],["span",{"class":"s3cPz"}," setup"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setupTimeout"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 10000"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"// ...\n"]]]],["h3",{"id":"using-vuetest-utils"},"Using ",["code",{},"@vue/test-utils"]],["p",{},"If you prefer to use ",["code",{},"@vue/test-utils"]," on its own for unit testing in Nuxt, and you are only testing components which do not rely on Nuxt composables, auto-imports or context, you can follow these steps to set it up."],["ol",{},["li",{},"Install the needed dependencies",["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm i --save-dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," i"],["span",{"class":"sGFVr"}," --save-dev"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," @vitejs/plugin-vue\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add --dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," @vitejs/plugin-vue\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add -D vitest @vue/test-utils happy-dom @vitejs/plugin-vue\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," @vitejs/plugin-vue\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add --dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," vitest"],["span",{"class":"sGFVr"}," @vue/test-utils"],["span",{"class":"sGFVr"}," happy-dom"],["span",{"class":"sGFVr"}," @vitejs/plugin-vue\n"]]]]]],["li",{},"Create a ",["code",{},"vitest.config.ts"]," with the following content:",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { defineConfig } from ''vitest/config''\nimport vue from ''@vitejs/plugin-vue''\n\nexport default defineConfig({\n  plugins: [vue()],\n  test: {\n    environment: ''happy-dom'',\n  },\n});\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineConfig"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest/config"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," vue "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@vitejs/plugin-vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  plugins"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"s3cPz"},"vue"],["span",{"class":"sZSNi"},"()]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    environment"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"happy-dom"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";\n"]]]]],["li",{},"Add a new command for test in your ",["code",{},"package.json"],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"\"scripts\": {\n  \"build\": \"nuxt build\",\n  \"dev\": \"nuxt dev\",\n  ...\n  \"test\": \"vitest\"\n},\n","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"scripts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sZSNi"},": "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"build"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt build"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"dev"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"nuxt dev"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  ...\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"test"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":6},["span",{"class":"', 'How to test your Nuxt application.', 'md', NULL, '{}', '{"icon":"i-lucide-circle-check"}', '/nuxt/nuxtcore/live/getting-started/testing', '{"title":"Testing","description":"How to test your Nuxt application."}', 'nuxt/nuxtcore/live/1.getting-started/17.testing', NULL, 'QtF2K3WJr8Ap4pQK-oRsr0O5tfhZBZo0Xhu_qTRJhZU-70000'); -- QtF2K3WJr8Ap4pQK-oRsr0O5tfhZBZo0Xhu_qTRJhZU
UPDATE _content_nuxtcore SET body = CONCAT(body, 'sDfIl"},"}"],["span",{"class":"sZSNi"},",\n"]]]]],["li",{},"Create a simple ",["code",{},"<HelloWorld>"]," component ",["code",{},"app/components/HelloWorld.vue"]," with the following content:",["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<template>\n  <p>Hello world</p>\n</template>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Hello world"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]]],["li",{},"Create a simple unit test for this newly created component ",["code",{},"~/components/HelloWorld.spec.ts"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { describe, it, expect } from ''vitest''\nimport { mount } from ''@vue/test-utils''\n\nimport HelloWorld from ''./HelloWorld.vue''\n\ndescribe(''HelloWorld'', () => {\n  it(''component renders Hello world properly'', () => {\n    const wrapper = mount(HelloWorld)\n    expect(wrapper.text()).toContain(''Hello world'')\n  })\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," describe"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," it"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," expect"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," mount"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@vue/test-utils"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," HelloWorld "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"./HelloWorld.vue"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s3cPz"},"describe"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"HelloWorld"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"  it"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"component renders Hello world properly"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," wrapper"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," mount"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"HelloWorld"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"    expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"wrapper"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"text"],["span",{"class":"sRlkE"},"())"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toContain"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Hello world"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["li",{},"Run vitest command",["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm run test\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," run"],["span",{"class":"sGFVr"}," test\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn test\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," test\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm run test\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," run"],["span",{"class":"sGFVr"}," test\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun run test\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," run"],["span",{"class":"sGFVr"}," test\n"]]]]]]],["p",{},"Congratulations, you''re all set to start unit testing with ",["code",{},"@vue/test-utils"]," in Nuxt! Happy testing!"],["h2",{"id":"end-to-end-testing"},"End-To-End Testing"],["p",{},"For end-to-end testing, we support ",["a",{"href":"https://github.com/vitest-dev/vitest","rel":["nofollow"]},"Vitest"],", ",["a",{"href":"https://jestjs.io","rel":["nofollow"]},"Jest"],", ",["a",{"href":"https://cucumber.io/","rel":["nofollow"]},"Cucumber"]," and ",["a",{"href":"https://playwright.dev/","rel":["nofollow"]},"Playwright"]," as test runners."],["h3",{"id":"setup-1"},"Setup"],["p",{},"In each ",["code",{},"describe"]," block where you are taking advantage of the ",["code",{},"@nuxt/test-utils/e2e"]," helper methods, you will need to set up the test context before beginning."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { describe, test } from ''vitest''\nimport { setup, $fetch } from ''@nuxt/test-utils/e2e''\n\ndescribe(''My test'', async () => {\n  await setup({\n    // test context options\n  })\n\n  test(''my test'', () => {\n    // ...\n  })\n})\n","filename":"test/my-test.spec.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," describe"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," test"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," setup"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," $fetch"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"describe"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"My test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," setup"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"    // test context options\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"  test"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"sWuyu"},"    // ...\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Behind the scenes, ",["code",{},"setup"]," performs a number of tasks in ",["code",{},"beforeAll"],", ",["code",{},"beforeEach"],", ",["code",{},"afterEach"]," and ",["code",{},"afterAll"]," to set up the Nuxt test environment correctly."],["p",{},"Please use the options below for the ",["code",{},"setup"]," method."],["h4",{"id":"nuxt-config"},"Nuxt Config"],["ul",{},["li",{},["code",{},"rootDir"],": Path to a directory with a Nuxt app to be put under test.\n",["ul",{},["li",{},"Type: ",["code",{},"string"]],["li",{},"Default: ",["code",{},"''.''"]]]],["li",{},["code",{},"configFile"],": Name of the configuration file.\n",["ul",{},["li",{},"Type: ",["code",{},"string"]],["li",{},"Default: ",["code",{},"''nuxt.config''"]]]]],["h4",{"id":"timings"},"Timings"],["ul",{},["li",{},["code",{},"setupTimeout"],": The amount of time (in milliseconds) to allow for ",["code",{},"setupTest"]," to complete its work (which could include building or generating files for a Nuxt application, depending on the options that are passed).",["ul",{},["li",{},"Type: ",["code",{},"number"]],["li",{},"Default: ",["code",{},"120000"]," or ",["code",{},"240000"]," on windows"]]],["li",{},["code",{},"teardownTimeout"],": The amount of time (in milliseconds) to allow tearing down the test environment, such as closing the browser.",["ul",{},["li",{},"Type: ",["code",{},"number"]],["li",{},"Default: ",["code",{},"30000"]]]]],["h4",{"id":"features"},"Features"],["ul",{},["li",{},["code",{},"build"],": Whether to run a separate build step.",["ul",{},["li",{},"Type: ",["code",{},"boolean"]],["li",{},"Default: ",["code",{},"true"]," (",["code",{},"false"]," if ",["code",{},"browser"]," or ",["code",{},"server"]," is disabled, or if a ",["code",{},"host"]," is provided)"]]],["li",{},["code",{},"server"],": Whether to launch a server to respond to requests in the test suite.",["ul",{},["li",{},"Type: ",["code",{},"boolean"]],["li",{},"Default: ",["code",{},"true"]," (",["code",{},"false"]," if a ",["code",{},"host"]," is provided)"]]],["li",{},["code",{},"port"],": If provided, set the launched test server port to the value.",["ul",{},["li",{},"Type: ",["code",{},"number | undefined"]],["li",{},"Default: ",["code",{},"undefined"]]]],["li",{},["code",{},"host"],": If provided, a URL to use as the test target instead of building and running a new server. Useful for running \"real\" end-to-end tests against a deployed version of your application, or against an already running local server (which may provide a significant reduction in test execution timings). See the ",["a",{"href":"#target-host-end-to-end-example"},"target host end-to-end example below"],".",["ul",{},["li",{},"Type: ",["code",{},"string"]],["li",{},"Default: ",["code",{},"undefined"]]]],["li",{},["code",{},"browser"],": Under the hood, Nuxt test utils uses ",["a",{"href":"https://playwright.dev","rel":["nofollow"]},["code",{},"playwright"]]," to carry out browser testing. If this option is set, a browser will be launched and can be controlled in the subsequent test suite.",["ul",{},["li",{},"Type: ",["code",{},"boolean"]],["li",{},"Default: ",["code",{},"false"]]]],["li",{},["code",{},"browserOptions"],["ul",{},["li",{},"Type: ",["code",{},"object"]," with the following properties\n",["ul",{},["li",{},["code",{},"type"],": The type of browser to launch - either ",["code",{},"chromium"],", ",["code",{},"firefox"]," or ",["code",{},"webkit"]],["li",{},["code",{},"launch"],": ",["code",{},"object"]," of options that will be passed to playwright when launching the browser. See ",["a",{"href":"https://playwright.dev/docs/api/class-browsertype#browser-type-launch","rel":["nofollow"]},"full API reference"],"."]]]]],["li",{},["code",{},"runner"],": Specify the runner for the test suite. Currently, ",["a",{"href":"https://vitest.dev","rel":["nofollow"]},"Vitest"]," is recommended.",["ul",{},["li",{},"Type: ",["code",{},"''vitest'' | ''jest'' | ''cucumber''"]],["li",{},"Default: ",["code",{},"''vitest''"]]]]],["h5",{"id":"target-host-end-to-end-example"},"Target ",["code",{},"host"]," end-to-end example"],["p",{},"A common use-case for end-to-end testing is running the tests against a deployed application running in the same environment typically used for Production."],["p",{},"For local development or automated deploy pipelines, testing against a separate local server can be more efficient and is typically faster than allowing the test framework to rebuild between tests."],["p",{},"To utilize a separate target host for end-to-end tests, simply provide the ",["code",{},"host"]," property of the ",["code",{},"setup"]," function with the desired URL."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { setup, createPage } from ''@nuxt/test-utils/e2e''\nimport { describe, it, expect } from ''vitest''\n\ndescribe(''login page'', async () => {\n  await setup({\n    host: ''http://localhost:8787'',\n  })\n\n  it(''displays the email and password fields'', async () => {\n    const page = await createPage(''/login'')\n    expect(await page.getByTestId(''email'').isVisible()).toBe(true)\n    expect(await page.getByTestId(''password'').isVisible()).toBe(true)\n  })\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," setup"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," createPage"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," describe"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," it"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," expect"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vitest"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s3cPz"},"describe"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"login page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," setup"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    host"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"http://localhost:8787"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"  it"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"displays the email and password fields"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," createPage"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/login"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"s3cPz"},"    expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"await"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getByTestId"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"email"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"isVisible"],["span",{"class":"sRlkE"},"())"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toBe"],["span",{"class":"sRlkE"},"("],["span",{"class":"sbKd-"},"true"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"s3cPz"},"    expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"s8R28"},"await"],["span",{"class":"sZSNi"}," page"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getByTestId"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"password"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"isVisible"],["span",{"class":"sRlkE"},"())"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toBe"],["span",{"class":"sRlkE"},"("],["span",{"class":"sbKd-"},"true"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"apis"},"APIs"],["h4",{"id":"fetchurl"},["code",{},"$fetch(url)"]],["p",{},"Get the HTML of a server-rendered page."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { $fetch } from ''@nuxt/test-utils/e2e''\n\nconst html = await $fetch(''/'')\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," $fetch"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," html "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["h4",{"id":"fetchurl-1"},["code",{},"fetch(url)"]],["p",{},"Get the response of a server-rendered page."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { fetch } from ''@nuxt/test-utils/e2e''\n\nconst res = await fetch(''/'')\nconst { body, headers } = res\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," fetch"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," res "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," body"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," headers "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," res\n"]]]],["h4",{"id":"urlpath"},["code",{},"url(path)"]],["p",{},"Get the full URL for a given page (including the port the test server is running on.)"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { url } from ''@nuxt/test-utils/e2e''\n\nconst pageUrl = url(''/page'')\n// ''http://localhost:6840/page''\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," url"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," pageUrl "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," url"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// ''http://localhost:6840/page''\n"]]]],["h3",{"id":"testing-in-a-browser"},"Testing in a Browser"],["p",{},"We provide built-in support using Playwright within ",["code",{},"@nuxt/test-utils"],", either programmatically or via the Playwright test runner."],["h4",{"id":"createpageurl"},["code",{},"createPage(url)"]],["p",{},"Within ",["code",{},"vitest"],", ",["code",{},"jest"]," or ",["code",{},"cucumber"],", you can create a configured Playwright browser instance with ",["code",{},"createPage"],", and (optionally) point it at a path from the running server. You can find out more about the API methods available from ",["a",{"href":"https://playwright.dev/docs/api/class-page","rel":["nofollow"]},"in the Playwright documentation"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { createPage } from ''@nuxt/test-utils/e2e''\n\nconst page = await createPage(''/page'')\n// you can access all the Playwright APIs from the `page` variable\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," createPage"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/e2e"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," page "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," createPage"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// you can access all the Playwright APIs from the `page` variable\n"]]]],["h4",{"id":"testing-with-playwright-test-runner"},"Testing with Playwright Test Runner"],["p",{},"We also provide first-class support for testing Nuxt within ",["a",{"href":"https://playwright.dev/docs/intro","rel":["nofollow"]},"the Playwright test runner"],"."],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm i --save-dev @playwright/test @nuxt/test-utils\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," i"],["span",{"class":"sGFVr"}," --save-dev"],["span",{"class":"sGFVr"}," @playwright/test"],["span",{"class":"sGFVr"}," @nuxt/test-utils\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add --dev @playwright/test @nuxt/test-utils\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," @playwright/test"],["span",{"class":"sGFVr"}," @nuxt/test-utils\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add -D @playwright/test @nuxt/test-utils\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," @playwright/test"],["span",{"class":"sGFVr"}," @nuxt/test-utils\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add --dev @playwright/test @nuxt/test-utils\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," @playwright/test"],["span",{"class":"sGFVr"}," @nuxt/test-utils\n"]]]]],["p",{},"You can provide global Nuxt configuration, with the same configuration details as the ",["code",{},"setup()"]," function mentioned earlier in this section."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { fileURLToPath } from ''node:url''\nimport { defineConfig, devices } from ''@playwright/test''\nimport type { ConfigOptions } from ''@nuxt/test-utils/playwright''\n\nexport default defineConfig<ConfigOptions>({\n  use: {\n    nuxt: {\n      rootDir: fileURLToPath(new URL(''.'', import.meta.url))\n    }\n  },\n  // ...\n})\n","filename":"playwright.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," fileURLToPath"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node:url"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," defineConfig"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," devices"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@playwright/test"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"import"],["span",{"class":"s8R28"}," type"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," ConfigOptions"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/playwright"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineConfig"],["span",{"class":"sDfIl"},"<"],["span",{"class":"s52Pk"},"ConfigOptions"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"  use"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"sRlkE"},"    nuxt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"      rootDir"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," fileURLToPath"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"new"],["span",{"class":"s3cPz"}," URL"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s8R28"}," import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url))\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"  // ...\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["read-more",{"target":"_blank","title":"See full example config","to":"https://github.com/nuxt/test-utils/blob/main/examples/app-playwright/playwright.config.ts"}],["p",{},"Your test file should then use ",["code",{},"expect"]," and ",["code",{},"test"]," directly from ",["code",{},"@nuxt/test-utils/playwright"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { expect, test } from ''@nuxt/test-utils/playwright''\n\ntest(''test'', async ({ page, goto }) => {\n  await goto(''/'', { waitUntil: ''hydration'' })\n  await expect(page.getByRole(''heading'')).toHaveText(''Welcome to Playwright!'')\n})\n","filename":"tests/example.test.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," expect"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," test"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/playwright"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s3cPz"},"test"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ({"],["span",{"class":"s1nJG"}," page"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," goto"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  await"],["span",{"class":"s8R28"}," goto"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," waitUntil"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"hydration"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getByRole"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"heading"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toHaveText"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Welcome to Playwright!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You can alternatively configure your Nuxt server directly within your test file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { expect, test } from ''@nuxt/test-utils/playwright''\n\ntest.use({\n  nuxt: {\n    rootDir: fileURLToPath(new URL(''..'', import.meta.url))\n  }\n})\n\ntest(''test'', async ({ page, goto }) => {\n  await goto(''/'', { waitUntil: ''hydration'' })\n  await expect(page.getByRole(''heading'')).toHaveText(''Welcome to Playwright!'')\n})\n","filename":"tests/example.test.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," expect"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," test"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@nuxt/test-utils/playwright"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"test"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"use"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  nuxt"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"    rootDir"],["span",{"class":"sDfIl"},":"],["span",{"class":"s3cPz"}," fileURLToPath"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"new"],["span",{"class":"s3cPz"}," URL"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},".."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s8R28"}," import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url))\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"s3cPz"},"test"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"test"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ({"],["span",{"class":"s1nJG"}," page"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," goto"],["span",{"class":"sDfIl"}," })"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"  await"],["span",{"class":"s8R28"}," goto"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," waitUntil"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"hydration"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":11},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," expect"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"page"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"getByRole"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"heading"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"))"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"toHaveText"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"Welcome to Playwright!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"installation","depth":2,"text":"Installation"},{"id":"unit-testing","depth":2,"text":"Unit Testing","children":[{"id":"setup","depth":3,"text":"Setup"},{"id":"using-a-nuxt-runtime-environment","depth":3,"text":"Using a Nuxt Runtime Environment"},{"id":"organizing-your-tests","depth":3,"text":"Organizing Your Tests"},{"id":"built-in-mocks","depth":3,"text":"🎭 Built-In Mocks"},{"id":"️-helpers","depth":3,"text":"🛠️ Helpers"},{"id":"using-vuetest-utils","depth":3,"text":"Using @vue/test-utils"}]},{"id":"end-to-end-testing","depth":2,"text":"End-To-End Testing","children":[{"id":"setup-1","depth":3,"text":"Setup"},{"id":"apis","depth":3,"text":"APIs"},{"id":"testing-in-a-browser","depth":3,"text":"Testing in a Browser"}]}]}}'), "__hash__" = 'QtF2K3WJr8Ap4pQK-oRsr0O5tfhZBZo0Xhu_qTRJhZU' WHERE id = 'nuxtcore/nuxt/nuxtcore/live/1.getting-started/17.testing.md' AND "__hash__" = 'QtF2K3WJr8Ap4pQK-oRsr0O5tfhZBZo0Xhu_qTRJhZU-70000'; -- QtF2K3WJr8Ap4pQK-oRsr0O5tfhZBZo0Xhu_qTRJhZU
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/1.getting-started/18.upgrade.md', 'Upgrade Guide', '{"type":"minimark","value":[["h2",{"id":"upgrading-nuxt"},"Upgrading Nuxt"],["h3",{"id":"latest-release"},"Latest release"],["p",{},"To upgrade Nuxt to the ",["a",{"href":"https://github.com/nuxt/nuxt/releases","rel":["nofollow"]},"latest release"],", use the ",["code",{},"nuxt upgrade"]," command."],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt upgrade\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," upgrade\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn nuxt upgrade\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," upgrade\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm nuxt upgrade\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," upgrade\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun x nuxt upgrade\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," x"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," upgrade\n"]]]]],["h3",{"id":"nightly-release-channel"},"Nightly Release Channel"],["p",{},"To use the latest Nuxt build and test features before their release, read about the ",["a",{"href":"/docs/guide/going-further/nightly-release-channel"},"nightly release channel"]," guide."],["h2",{"id":"migrating-to-nuxt-4"},"Migrating to Nuxt 4"],["p",{},"Nuxt 4 includes significant improvements and changes. This guide will help you migrate your existing Nuxt 3 application to Nuxt 4."],["p",{},"First, upgrade to Nuxt 4:"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install nuxt@^4.0.0\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," nuxt@^4.0.0\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add nuxt@^4.0.0\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," nuxt@^4.0.0\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add nuxt@^4.0.0\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," nuxt@^4.0.0\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add nuxt@^4.0.0\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," nuxt@^4.0.0\n"]]]]],["p",{},"After upgrading, most Nuxt 4 behaviors are now the default. However, some features can still be configured if you need to maintain backward compatibility during your migration."],["p",{},"The following sections detail the key changes and migrations needed when upgrading to Nuxt 4."],["p",{},"Breaking or significant changes are documented below along with migration steps and available configuration options."],["h3",{"id":"migrating-using-codemods"},"Migrating Using Codemods"],["p",{},"To facilitate the upgrade process, we have collaborated with the ",["a",{"href":"https://github.com/codemod-com/codemod","rel":["nofollow"]},"Codemod"]," team to automate many migration steps with some open-source codemods."],["note",{},["p",{},"If you encounter any issues, please report them to the Codemod team with ",["code",{},"npx codemod feedback"]," 🙏"]],["p",{},"For a complete list of Nuxt 4 codemods, detailed information on each, their source, and various ways to run them, visit the ",["a",{"href":"https://go.codemod.com/codemod-registry","rel":["nofollow"]},"Codemod Registry"],"."],["p",{},"You can run all the codemods mentioned in this guide using the following ",["code",{},"codemod"]," recipe:"],["code-group",{},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx codemod@latest nuxt/4/migration-recipe\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," codemod@latest"],["span",{"class":"sGFVr"}," nuxt/4/migration-recipe\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn dlx codemod@latest nuxt/4/migration-recipe\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," dlx"],["span",{"class":"sGFVr"}," codemod@latest"],["span",{"class":"sGFVr"}," nuxt/4/migration-recipe\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm dlx codemod@latest nuxt/4/migration-recipe\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," dlx"],["span",{"class":"sGFVr"}," codemod@latest"],["span",{"class":"sGFVr"}," nuxt/4/migration-recipe\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun x codemod@latest nuxt/4/migration-recipe\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," x"],["span",{"class":"sGFVr"}," codemod@latest"],["span",{"class":"sGFVr"}," nuxt/4/migration-recipe\n"]]]]],["p",{},"This command will execute all codemods in sequence, with the option to deselect any that you do not wish to run. Each codemod is also listed below alongside its respective change and can be executed independently."],["h3",{"id":"new-directory-structure"},"New Directory Structure"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Significant"],["p",{},"Nuxt now defaults to a new directory structure, with backwards compatibility (so if Nuxt detects you are using the old structure, such as with a top-level ",["code",{},"app/pages/"]," directory, this new structure will not apply)."],["p",{},"👉 ",["a",{"href":"https://github.com/nuxt/nuxt/issues/26444","rel":["nofollow"]},"See full RFC"]],["h4",{"id":"what-changed"},"What Changed"],["ul",{},["li",{},"the new Nuxt default ",["code",{},"srcDir"]," is ",["code",{},"app/"]," by default, and most things are resolved from there."],["li",{},["code",{},"serverDir"]," now defaults to ",["code",{},"<rootDir>/server"]," rather than ",["code",{},"<srcDir>/server"]],["li",{},["code",{},"layers/"],", ",["code",{},"modules/"]," and ",["code",{},"public/"]," are resolved relative to ",["code",{},"<rootDir>"]," by default"],["li",{},"if using ",["a",{"href":"https://github.com/nuxt/content/pull/2649","rel":["nofollow"]},"Nuxt Content v2.13+"],", ",["code",{},"content/"]," is resolved relative to ",["code",{},"<rootDir>"]],["li",{},"a new ",["code",{},"dir.app"]," is added, which is the directory we look for ",["code",{},"router.options.ts"]," and ",["code",{},"spa-loading-template.html"]," - this defaults to ",["code",{},"<srcDir>/"]]],["details",{},["summary",{},"An example v4 folder structure."],["pre",{"className":"language-sh shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":".output/\n.nuxt/\napp/\n  assets/\n  components/\n  composables/\n  layouts/\n  middleware/\n  pages/\n  plugins/\n  utils/\n  app.config.ts\n  app.vue\n  router.options.ts\ncontent/\nlayers/\nmodules/\nnode_modules/\npublic/\nshared/\nserver/\n  api/\n  middleware/\n  plugins/\n  routes/\n  utils/\nnuxt.config.ts\n","language":"sh","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},".output/\n"]],["span",{"class":"line","line":2},["span",{},".nuxt/\n"]],["span",{"class":"line","line":3},["span",{},"app/\n"]],["span",{"class":"line","line":4},["span",{},"  assets/\n"]],["span",{"class":"line","line":5},["span",{},"  components/\n"]],["span",{"class":"line","line":6},["span",{},"  composables/\n"]],["span",{"class":"line","line":7},["span",{},"  layouts/\n"]],["span",{"class":"line","line":8},["span",{},"  middleware/\n"]],["span",{"class":"line","line":9},["span",{},"  pages/\n"]],["span",{"class":"line","line":10},["span",{},"  plugins/\n"]],["span",{"class":"line","line":11},["span",{},"  utils/\n"]],["span",{"class":"line","line":12},["span",{},"  app.config.ts\n"]],["span",{"class":"line","line":13},["span",{},"  app.vue\n"]],["span",{"class":"line","line":14},["span",{},"  router.options.ts\n"]],["span",{"class":"line","line":15},["span",{},"content/\n"]],["span",{"class":"line","line":16},["span",{},"layers/\n"]],["span",{"class":"line","line":17},["span",{},"modules/\n"]],["span",{"class":"line","line":18},["span",{},"node_modules/\n"]],["span",{"class":"line","line":19},["span",{},"public/\n"]],["span",{"class":"line","line":20},["span",{},"shared/\n"]],["span",{"class":"line","line":21},["span",{},"server/\n"]],["span",{"class":"line","line":22},["span",{},"  api/\n"]],["span",{"class":"line","line":23},["span",{},"  middleware/\n"]],["span",{"class":"line","line":24},["span",{},"  plugins/\n"]],["span",{"class":"line","line":25},["span",{},"  routes/\n"]],["span",{"class":"line","line":26},["span",{},"  utils/\n"]],["span",{"class":"line","line":27},["span",{},"nuxt.config.ts\n"]]]],["note",{},["p",{},"With this new structure, the ",["code",{},"~"]," alias now points to the ",["code",{},"app/"]," directory by default (your ",["code",{},"srcDir"],"). This means ",["code",{},"~/components"]," resolves to ",["code",{},"app/components/"],", ",["code",{},"~/pages"]," to ",["code",{},"app/pages/"],", etc."]]],["p",{},"👉 For more details, see the ",["a",{"href":"https://github.com/nuxt/nuxt/pull/27029","rel":["nofollow"]},"PR implementing this change"],"."],["h4",{"id":"reasons-for-change"},"Reasons for Change"],["ol",{},["li",{},["strong",{},"Performance"]," - placing all your code in the root of your repo causes issues with ",["code",{},".git/"]," and ",["code",{},"node_modules/"]," folders being scanned/included by FS watchers which can significantly delay startup on non-Mac OSes."],["li",{},["strong",{},"IDE type-safety"]," - ",["code",{},"server/"]," and the rest of your app are running in two entirely different contexts with different global imports available, and making sure ",["code",{},"server/"]," isn''t ",["em",{},"inside"]," the same folder as the rest of your app is a big first step to ensuring you get good auto-completes in your IDE."]],["video-accordion",{"platform":"vimeo","title":"Watch a video from Vue School on the new directory structure","video-id":"1031028378"}],["h4",{"id":"migration-steps"},"Migration Steps"],["ol",{},["li",{},"Create a new directory called ",["code",{},"app/"],"."],["li",{},"Move your ",["code",{},"assets/"],", ",["code",{},"components/"],", ",["code",{},"composables/"],", ",["code",{},"app/layouts/"],", ",["code",{},"app/middleware/"],", ",["code",{},"app/pages/"],", ",["code",{},"app/plugins/"]," and ",["code",{},"utils/"]," folders under it, as well as ",["code",{},"app.vue"],", ",["code",{},"error.vue"],", ",["code",{},"app.config.ts"],". If you have an ",["code",{},"app/router-options.ts"]," or ",["code",{},"app/spa-loading-template.html"],", these paths remain the same."],["li",{},"Make sure your ",["code",{},"nuxt.config.ts"],", ",["code",{},"content/"],", ",["code",{},"layers/"],", ",["code",{},"modules/"],", ",["code",{},"public/"]," and ",["code",{},"server/"]," folders remain outside the ",["code",{},"app/"]," folder, in the root of your project."],["li",{},"Remember to update any third-party configuration files to work with the new directory structure, such as your ",["code",{},"tailwindcss"]," or ",["code",{},"eslint"]," configuration (if required - ",["code",{},"@nuxtjs/tailwindcss"]," should automatically configure ",["code",{},"tailwindcss"]," correctly)."]],["tip",{},["p",{},"You can automate this migration by running ",["code",{},"npx codemod@latest nuxt/4/file-structure"]]],["p",{},"However, migration is ",["em",{},"not required"],". If you wish to keep your current folder structure, Nuxt should auto-detect it. (If it does not, please raise an issue.) The one exception is that if you ",["em",{},"already"]," have a custom ",["code",{},"srcDir"],". In this case, you should be aware that your ",["code",{},"modules/"],", ",["code",{},"public/"]," and ",["code",{},"server/"]," folders will be resolved from your ",["code",{},"rootDir"]," rather than from your custom ",["code",{},"srcDir"],". You can override this by configuring ",["code",{},"dir.modules"],", ",["code",{},"dir.public"]," and ",["code",{},"serverDir"]," if you need to."],["p",{},"You can also force a v3 folder structure with the following configuration:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  // This reverts the new srcDir default from `app` back to your root directory\n  srcDir: ''.'',\n  // This specifies the directory prefix for `router.options.ts` and `spa-loading-template.html`\n  dir: {\n    app: ''app''\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // This reverts the new srcDir default from `app` back to your root directory\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  srcDir"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"."],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"  // This specifies the directory prefix for `router.options.ts` and `spa-loading-template.html`\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"  dir"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"    app"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"app"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"singleton-data-fetching-layer"},"Singleton Data Fetching Layer"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Moderate"],["h4",{"id":"what-changed-1"},"What Changed"],["p",{},"Nuxt''s data fetching system (",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"],") has been significantly reorganized for better performance and consistency:"],["ol",{},["li",{},["strong",{},"Shared refs for the same key"],": All calls to ",["code",{},"useAsyncData"]," or ",["code",{},"useFetch"]," with the same key now share the same ",["code",{},"data"],", ",["code",{},"error"]," and ",["code",{},"status"]," refs. This means that it is important that all calls with an explicit key must not have conflicting ",["code",{},"deep"],", ",["code",{},"transform"],", ",["code",{},"pick"],", ",["code",{},"getCachedData"]," or ",["code",{},"default"]," options."],["li",{},["strong",{},"More control over ",["code",{},"getCachedData"]],": The ",["code",{},"getCachedData"]," function is now called every time data is fetched, even if this is caused by a watcher or calling ",["code",{},"refreshNuxtData"],". (Previously, new data was always fetched and this function was not called in these cases.) To allow more control over when to use cached data and when to refetch, the function now receives a context object with the cause of the request."],["li",{},["strong",{},"Reactive key support"],": You can now use computed refs, plain refs or getter functions as keys, which enables automatic data refetching (and stores data separately)."],["li",{},["strong",{},"Data cleanup"],": When the last component using data fetched with ",["code",{},"useAsyncData"]," is unmounted, Nuxt will remove that data to avoid ever-growing memory usage."]],["h4",{"id":"reasons-for-change-1"},"Reasons for Change"],["p",{},"These changes have been made to improve memory usage and increase consistency with loading states across calls of ",["code",{},"useAsyncData"],"."],["h4",{"id":"migration-steps-1"},"Migration Steps"],["ol",{},["li",{},["strong",{},"Check for inconsistent options"],": Review any components using the same key with different options or fetch functions.",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// This will now trigger a warning\nconst { data: users1 } = useAsyncData(''users'', () => $fetch(''/api/users''), { deep: false })\nconst { data: users2 } = useAsyncData(''users'', () => $fetch(''/api/users''), { deep: true })\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// This will now trigger a warning\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users1 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," deep"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," data"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," users2 "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/users"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," deep"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")\n"]]]],["br",{}],"It may be beneficial to extract any calls to ",["code",{},"useAsyncData"]," that share an explicit key (and have custom options) into their own composable:",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export function useUserData(userId: string) {\n  return useAsyncData(\n    `user-${userId}`,\n    () => fetchUser(userId),\n    { \n      deep: true,\n      transform: (user) => ({ ...user, lastAccessed: new Date() })\n    }\n  )\n}\n","filename":"app/composables/useUserData.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," useUserData"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"userId"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sRlkE"},"(\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    `"],["span",{"class":"sGFVr"},"user-"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"userId"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"s3cPz"}," fetchUser"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"userId"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sRlkE"}," \n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"      deep"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":7},["span",{"class":"s3cPz"},"      transform"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"user"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sDfIl"}," ..."],["span",{"class":"sZSNi"},"user"],["span",{"class":"sDfIl"},","],["span",{"class":"sRlkE"}," lastAccessed"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," new"],["span",{"class":"s3cPz"}," Date"],["span",{"class":"sRlkE"},"() "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"  )\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}\n"]]]]],["li",{},["strong",{},"Update ",["code",{},"getCachedData"]," implementations"],":",["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"useAsyncData(''key'', fetchFunction, {\n-  getCachedData: (key, nuxtApp) => {\n-    return cachedData[key]\n-  }\n+  getCachedData: (key, nuxtApp, ctx) => {\n+    // ctx.cause - can be ''initial'' | ''refresh:hook'' | ''refresh:manual'' | ''watch''\n+    \n+    // Example: Don''t use cache on manual refresh\n+    if (ctx.cause === ''refresh:manual'') return undefined\n+    \n+    return cachedData[key]\n+  }\n})\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"useAsyncData(''key'', fetchFunction, {\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"  getCachedData: (key, nuxtApp) => {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"    return cachedData[key]\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"  getCachedData: (key, nuxtApp, ctx) => {\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"    // ctx.cause - can be ''initial'' | ''refresh:hook'' | ''refresh:manual'' | ''watch''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"    \n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"    // Example: Don''t use cache on manual refresh\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"    if (ctx.cause === ''refresh:manual'') return undefined\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"    \n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"    return cachedData[key]\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sZSNi"},"})\n"]]]]]],["p",{},"Alternatively, for now, you can disable this behaviour with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    granularCachedData: false,\n    purgeCachedData: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    granularCachedData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    purgeCachedData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"corrected-module-loading-order-in-layers"},"Corrected Module Loading Order in Layers"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-2"},"What Changed"],["p",{},"The order in which modules are loaded when using ",["a",{"href":"/docs/guide/going-further/layers"},"Nuxt layers"]," has been corrected. Previously, modules from the project root were loaded before modules from extended layers, which was the reverse of the expected behavior."],["p",{},"Now modules are loaded in the correct order:"],["ol",{},["li",{},["strong",{},"Layer modules first"]," (in extend order - deeper layers first)"],["li",{},["strong",{},"Project modules last"]," (highest priority)"]],["p",{},"This affects both:"],["ul",{},["li",{},"Modules defined in the ",["code",{},"modules"]," array in ",["code",{},"nuxt.config.ts"]],["li",{},"Auto-discovered modules from the ",["code",{},"modules/"]," directory"]],["h4",{"id":"reasons-for-change-2"},"Reasons for Change"],["p",{},"This change ensures that:"],["ul",{},["li",{},"Extended layers have lower priority than the consuming project"],["li",{},"Module execution order matches the intuitive layer inheritance pattern"],["li",{},"Module configuration and hooks work as expected in multi-layer setups"]],["h4",{"id":"migration-steps-2"},"Migration Steps"],["p",{},["strong",{},"Most projects will not need changes"],", as this corrects the loading order to match expected behavior."],["p",{},"However, if your project was relying on the previous incorrect order, you may need to:"],["ol",{},["li",{},["strong",{},"Review module dependencies"],": Check if any modules depend on specific loading order"],["li",{},["strong",{},"Adjust module configuration"],": If modules were configured to work around the incorrect order"],["li",{},["strong",{},"Test thoroughly"],": Ensure all functionality works as expected with the corrected order"]],["p",{},"Example of the new correct order:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// Layer: my-layer/nuxt.config.ts\nexport default defineNuxtConfig({\n  modules: [''layer-module-1'', ''layer-module-2'']\n})\n\n// Project: nuxt.config.ts\nexport default defineNuxtConfig({\n  extends: [''./my-layer''],\n  modules: [''project-module-1'', ''project-module-2'']\n})\n\n// Loading order (corrected):\n// 1. layer-module-1\n// 2. layer-module-2  \n// 3. project-module-1 (can override layer modules)\n// 4. project-module-2 (can override layer modules)\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// Layer: my-layer/nuxt.config.ts\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  modules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"layer-module-1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"layer-module-2"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"// Project: nuxt.config.ts\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"  extends"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./my-layer"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"  modules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"project-module-1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"project-module-2"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"// Loading order (corrected):\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"// 1. layer-module-1\n"]],["span",{"class":"line","line":14},["span",{"class":"sWuyu"},"// 2. layer-module-2  \n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"// 3. project-module-1 (can override layer modules)\n"]],["span",{"class":"line","line":16},["span",{"class":"sWuyu"},"// 4. project-module-2 (can override layer modules)\n"]]]],["p",{},"If you encounter issues with module order dependencies due to needing to register a hook, consider using the ",["a",{"href":"/docs/guide/going-further/modules#custom-hooks"},["code",{},"modules:done"]," hook"]," for modules that need to call a hook. This is run after all other modules have been loaded, which means it is safe to use."],["p",{},"👉 See ",["a",{"href":"https://github.com/nuxt/nuxt/pull/31507","rel":["nofollow"]},"PR #31507"]," and ",["a",{"href":"https://github.com/nuxt/nuxt/issues/25719","rel":["nofollow"]},"issue #25719"]," for more details."],["h3",{"id":"deduplication-of-route-metadata"},"Deduplication of Route Metadata"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-3"},"What Changed"],["p",{},"It''s possible to set some route metadata using ",["code",{},"definePageMeta"],", such as the ",["code",{},"name"],", ",["code",{},"path"],", and so on. Previously these were available both on the route and on route metadata (for example, ",["code",{},"route.name"]," and ",["code",{},"route.meta.name"],")."],["p",{},"Now, they are only accessible on the route object."],["h4",{"id":"reasons-for-change-3"},"Reasons for Change"],["p",{},"This is a result of enabling ",["code",{},"experimental.scanPageMeta"]," by default, and is a performance optimization."],["h4",{"id":"migration-steps-3"},"Migration Steps"],["p",{},"The migration should be straightforward:"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  const route = useRoute()\n  \n- console.log(route.meta.name)\n+ console.log(route.name)\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  const route = useRoute()\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  \n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," console.log(route.meta.name)\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," console.log(route.name)\n"]]]],["h3",{"id":"normalized-component-names"},"Normalized Component Names"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Moderate"],["p",{},"Vue will now generate component names that match the Nuxt pattern for component naming."],["h4",{"id":"what-changed-4"},"What Changed"],["p",{},"By default, if you haven''t set it manually, Vue will assign a component name that matches\nthe filename of the component."],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"├─ components/\n├─── SomeFolder/\n├───── MyComponent.vue\n","filename":"Directory structure","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"├─"],["span",{"class":"sGFVr"}," components/\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"├───"],["span",{"class":"sGFVr"}," SomeFolder/\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"├─────"],["span",{"class":"sGFVr"}," MyComponent.vue\n"]]]],["p",{},"In this case, the component name would be ",["code",{},"MyComponent"],", as far as Vue is concerned. If you wanted to use ",["code",{},"<KeepAlive>"]," with it, or identify it in the Vue DevTools, you would need to use this name."],["p",{},"But in order to auto-import it, you would need to use ",["code",{},"SomeFolderMyComponent"],"."],["p",{},"With this change, these two values will match, and Vue will generate a component name that matches the Nuxt pattern for component naming."],["h4",{"id":"migration-steps-4"},"Migration Steps"],["p",{},"Ensure that you use the updated name in any tests which use ",["code",{},"findComponent"]," from ",["code",{},"@vue/test-utils"]," and in any ",["code",{},"<KeepAlive>"]," which depends on the name of your component."],["p",{},"Alternatively, for now, you can disable this behaviour with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    normalizeComponentNames: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    normalizeComponentNames"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"unhead-v2"},"Unhead v2"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-5"},"What Changed"],["p",{},["a",{"href":"https://unhead.unjs.io/","rel":["nofollow"]},"Unhead"],", used to generate ",["code",{},"<head>"]," tags, has been updated to version 2. While mostly compatible it includes several breaking changes\nfor lower-level APIs."],["ul",{},["li",{},"Removed props: ",["code",{},"vmid"],", ",["code",{},"hid"],", ",["code",{},"children"],", ",["code",{},"body"],"."],["li",{},"Promise input no longer supported."],["li",{},"Tags are now sorted using Capo.js by default."]],["h4",{"id":"migration-steps-5"},"Migration Steps"],["p",{},"The above changes should have minimal impact on your app."],["p",{},"If you have issues you should verify:"],["ul",{},["li",{},"You''re not using any of the removed props."]],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"useHead({\n  meta: [{ \n    name: ''description'', \n    // meta tags don''t need a vmid, or a key    \n-   vmid: ''description'' \n-   hid: ''description''\n  }]\n})\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"useHead({\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  meta: [{ \n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    name: ''description'', \n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    // meta tags don''t need a vmid, or a key    \n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   vmid: ''description'' \n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   hid: ''description''\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"  }]\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"})\n"]]]],["ul",{},["li",{},"If you''re using ",["a",{"href":"https://unhead.unjs.io/docs/head/guides/plugins/template-params","rel":["nofollow"]},"Template Params"]," or ",["a",{"href":"https://unhead.unjs.io/docs/head/guides/plugins/alias-sorting","rel":["nofollow"]},"Alias Tag Sorting"],", you will need to explicitly opt in to these features now."]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { TemplateParamsPlugin, AliasSortingPlugin } from ''@unhead/vue/plugins''\n\nexport default defineNuxtPlugin({\n  setup() {\n    const unhead = injectHead()\n    unhead.use(TemplateParamsPlugin)\n    unhead.use(AliasSortingPlugin)\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," TemplateParamsPlugin"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," AliasSortingPlugin"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"@unhead/vue/plugins"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtPlugin"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"  setup"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"    const"],["span",{"class":"sZSNi"}," unhead"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," injectHead"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"    unhead"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"use"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"TemplateParamsPlugin"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"    unhead"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"use"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"AliasSortingPlugin"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"While not required it''s recommended to update any imports from ",["code",{},"@unhead/vue"]," to ",["code",{},"#imports"]," or ",["code",{},"nuxt/app"],"."],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"-import { useHead } from ''@unhead/vue''\n+import { useHead } from ''#imports''\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"import { useHead } from ''@unhead/vue''\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"import { useHead } from ''#imports''\n"]]]],["p",{},"If you still have issues you may revert to the v1 behavior by enabling the ",["code",{},"head.legacy"]," config."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  unhead: {\n    legacy: true,\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  unhead"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    legacy"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"new-dom-location-for-spa-loading-screen"},"New DOM Location for SPA Loading Screen"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-6"},"What Changed"],["p",{},"When rendering a client-only page (with ",["code",{},"ssr: false"],"), we optionally render a loading screen (from ",["code",{},"~/app/spa-loading-template.html"]," - note that this has also changed to ",["code",{},"~/spa-loading-template.html"]," in Nuxt 4), within the Nuxt app root:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<div id=\"__nuxt\">\n  <!-- spa loading template -->\n</div>\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," id"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"__nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  <!-- spa loading template -->\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Now, we default to rendering the template alongside the Nuxt app root:"],["pre",{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<div id=\"__nuxt\"></div>\n<!-- spa loading template -->\n","language":"html","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"div"],["span",{"class":"smZ93"}," id"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"__nuxt"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},"></"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"<!-- spa loading template -->\n"]]]],["h4",{"id":"reasons-for-change-4"},"Reasons for Change"],["p",{},"This allows the spa loading template to remain in the DOM until the Vue app suspense resolves, preventing a flash of white."],["h4",{"id":"migration-steps-6"},"Migration Steps"],["p",{},"If you were targeting the spa loading template with CSS or ",["code",{},"document.queryElement"]," you will need to update your selectors. For this purpose you can use the new ",["code",{},"app.spaLoaderTag"]," and ",["code",{},"app.spaLoaderAttrs"]," configuration options."],["p",{},"Alternatively, you can revert to the previous behaviour with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    spaLoadingTemplateLocation: ''within'',\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    spaLoadingTemplateLocation"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"within"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"parsed-errordata"},"Parsed ",["code",{},"error.data"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["p",{},"It was possible to throw an error with a ",["code",{},"data"]," property, but this was not parsed. Now, it is parsed and made available in the ",["code",{},"error"]," object. Although a fix, this is technically a breaking change if you were relying on the previous behavior and parsing it manually."],["h4",{"id":"migration-steps-7"},"Migration Steps"],["p",{},"Update your custom ",["code",{},"error.vue"]," to remove any additional parsing of ",["code",{},"error.data"],":"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  <script setup lang=\"ts\">\n  import type { NuxtError } from ''#app''\n\n  const props = defineProps({\n    error: Object as () => NuxtError\n  })\n\n- const data = JSON.parse(error.data)\n+ const data = error.data\n  </script>\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  <script setup lang=\"ts\">\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  import type { NuxtError } from ''#app''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  const props = defineProps({\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    error: Object as () => NuxtError\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  })\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," const data = JSON.parse(error.data)\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," const data = error.data\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"  </script>\n"]]]],["h3",{"id":"more-granular-inline-styles"},"More Granular Inline Styles"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Moderate"],["p",{},"Nuxt will now only inline styles for Vue components, not global CSS."],["h4",{"id":"what-changed-7"},"What Changed"],["p",{},"Previously, Nuxt would inline all CSS, including global styles, and remove ",["code",{},"<link>"]," elements to separate CSS files. Now, Nuxt will only do this for Vue components (which previously produced separate chunks of CSS). We think this is a better balance of reducing separate network requests (just as before, there will not be separate requests for individual ",["code",{},".css"]," files per-page or per-component on the initial load), as well as allowing caching of a single global CSS file and reducing the document download size of the initial request."],["h4",{"id":"migration-steps-8"},"Migration Steps"],["p",{},"This feature is fully configurable and you can revert to the previous behavior by setting ",["code",{},"inlineStyles: true"]," to inline global CSS as well as per-component CSS."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  features: {\n    inlineStyles: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  features"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    inlineStyles"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"scan-page-meta-after-resolution"},"Scan Page Meta After Resolution"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-8"},"What Changed"],["p",{},"We now scan page metadata (defined in ",["code",{},"definePageMeta"],") ",["em",{},"after"]," calling the ",["code",{},"pages:extend"]," hook rather than before."],["h4",{"id":"reasons-for-change-5"},"Reasons for Change"],["p",{},"This was to allow scanning metadata for pages that users wanted to add in ",["code",{},"pages:extend"],". We still offer an opportunity to change or override page metadata in a new ",["code",{},"pages:resolved"]," hook."],["h4",{"id":"migration-steps-9"},"Migration Steps"],["p",{},"If you want to override page metadata, do that in ",["code",{},"pages:resolved"]," rather than in ",["code",{},"pages:extend"],"."],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  export default defineNuxtConfig({\n    hooks: {\n-     ''pages:extend''(pages) {\n+     ''pages:resolved''(pages) {\n        const myPage = pages.find(page => page.path === ''/'')\n        myPage.meta ||= {}\n        myPage.meta.layout = ''overridden-layout''\n      }\n    }\n  })\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  export default defineNuxtConfig({\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"    hooks: {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"     ''pages:extend''(pages) {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     ''pages:resolved''(pages) {\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"        const myPage = pages.find(page => page.path === ''/'')\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"        myPage.meta ||= {}\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"        myPage.meta.layout = ''overridden-layout''\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"      }\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"  })\n"]]]],["p",{},"Alternatively, you can revert to the previous behaviour with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    scanPageMeta: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    scanPageMeta"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"shared-prerender-data"},"Shared Prerender Data"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Medium"],["h4",{"id":"what-changed-9"},"What Changed"],["p",{},"We enabled a previously experimental feature to share data from ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]," calls, across different pages. See ",["a",{"href":"https://github.com/nuxt/nuxt/pull/24894","rel":["nofollow"]},"original PR"],"."],["h4",{"id":"reasons-for-change-6"},"Reasons for Change"],["p",{},"This feature automatically shares payload ",["em",{},"data"]," between pages that are prerendered. This can result in a significant performance improvement when prerendering sites that use ",["code",{},"useAsyncData"]," or ",["code",{},"useFetch"]," and fetch the same data in different pages."],["p",{},"For example, if your site requires a ",["code",{},"useFetch"]," call for every page (for example, to get navigation data for a menu, or site settings from a CMS), this data would only be fetched once when prerendering the first page that uses it, and then cached for use when prerendering other pages."],["h4",{"id":"migration-steps-10"},"Migration Steps"],["p",{},"Make sure that any unique key of your data is always resolvable to the same data. For example, if you are using ",["code",{},"useAsyncData"]," to fetch data related to a particular page, you should provide a key that uniquely matches that data. (",["code",{},"useFetch"]," should do this automatically for you.)"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// This would be unsafe in a dynamic page (e.g. `[slug].vue`) because the route slug makes a difference\n// to the data fetched, but Nuxt can''t know that because it''s not reflected in the key.\nconst route = useRoute()\nconst { data } = await useAsyncData(async () => {\n  return await $fetch(`/api/my-page/${route.params.slug}`)\n})\n// Instead, you should use a key that uniquely identifies the data fetched.\nconst { data } = await useAsyncData(route.params.slug, async () => {\n  return await $fetch(`/api/my-page/${route.params.slug}`)\n})\n","filename":"app/pages/test/[slug].vue","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// This would be unsafe in a dynamic page (e.g. `[slug].vue`) because the route slug makes a difference\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// to the data fetched, but Nuxt can''t know that because it''s not reflected in the key.\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," route "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRoute"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"s8R28"},"  return"],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/api/my-page/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"// Instead, you should use a key that uniquely identifies the data fetched.\n"]],["span",{"class":"line","line":8},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"(route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},","],["span",{"class":"smZ93"}," async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"s8R28"},"  return"],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," $fetch"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"`"],["span",{"class":"sGFVr"},"/api/my-page/"],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"params"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"slug"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Alternatively, you can disable this feature with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    sharedPrerenderData: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    sharedPrerenderData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"default-data-and-error-values-in-useasyncdata-and-usefetch"},"Default ",["code",{},"data"]," and ",["code",{},"error"]," values in ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-10"},"What Changed"],["p",{},["code",{},"data"]," and ",["code",{},"error"]," objects returned from ",["code",{},"useAsyncData"]," will now default to ",["code",{},"undefined"],"."],["h4",{"id":"reasons-for-change-7"},"Reasons for Change"],["p",{},"Previously ",["code",{},"data"]," was initialized to ",["code",{},"null"]," but reset in ",["code",{},"clearNuxtData"]," to ",["code",{},"undefined"],". ",["code",{},"error"]," was initialized to ",["code",{},"null"],". This change is to bring greater consistency."],["h4",{"id":"migration-steps-11"},"Migration Steps"],["p",{},"If you were checking if ",["code",{},"data.value"]," or ",["code",{},"error.value"]," were ",["code",{},"null"],", you can update these checks to check for ",["code",{},"undefined"]," instead."],["tip",{},["p",{},"You can automate this step by running ",["code",{},"npx codemod@latest nuxt/4/default-data-error-value"]]],["p",{},"If you encounter any issues you can revert back to the previous behavior with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @errors: 2353\nexport default defineNuxtConfig({\n  experimental: {\n    defaults: {\n      useAsyncData: {\n        value: ''null'',\n        errorValue: ''null''\n      }\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    defaults"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      useAsyncData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        value"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"null"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        errorValue"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"null"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"Please report an issue if you are doing this, as we do not plan to keep this as configurable."],["h3",{"id":"removal-of-deprecated-boolean-values-for-dedupe-option-when-calling-refresh-in-useasyncdata-and-usefetch"},"Removal of deprecated ",["code",{},"boolean"]," values for ",["code",{},"dedupe"]," option when calling ",["code",{},"refresh"]," in ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-11"},"What Changed"],["p",{},"Previously it was possible to pass ",["code",{},"dedupe: boolean"]," to ",["code",{},"refresh"],". These were aliases of ",["code",{},"cancel"]," (",["code",{},"true"],") and ",["code",{},"defer"]," (",["code",{},"false"],")."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// @errors: 2322\nconst { refresh } = await useAsyncData(async () => ({ message: ''Hello, Nuxt!'' }))\n\nasync function refreshData () {\n  await refresh({ dedupe: true })\n}\n","filename":"app/app.vue","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," refresh "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useAsyncData"],["span",{"class":"sZSNi"},"("],["span",{"class":"smZ93"},"async"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," ("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," message"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"Hello, Nuxt!"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"async"],["span",{"class":"smZ93"}," function"],["span",{"class":"s3cPz"}," refreshData"],["span",{"class":"sDfIl"}," ()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"  await"],["span",{"class":"s3cPz"}," refresh"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"{"],["span",{"class":"sRlkE"}," dedupe"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]]]],["h4",{"id":"reasons-for-change-8"},"Reasons for Change"],["p",{},"These aliases were removed, for greater clarity."],["p",{},"The issue came up when adding ",["code",{},"dedupe"]," as an option to ",["code",{},"useAsyncData"],", and we removed the boolean values as they ended up being ",["em",{},"opposites"],"."],["p",{},["code",{},"refresh({ dedupe: false })"]," meant ",["strong",{},"do not ",["em",{},"cancel"]," existing requests in favour of this new one"],". But passing ",["code",{},"dedupe: true"]," within the options of ",["code",{},"useAsyncData"]," means ",["strong",{},"do not make any new requests if there is an existing pending request."]," (See ",["a",{"href":"https://github.com/nuxt/nuxt/pull/24564#pullrequestreview-1764584361","rel":["nofollow"]},"PR"],".)"],["h4",{"id":"migration-steps-12"},"Migration Steps"],["p",{},"The migration should be straightforward:"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  const { refresh } = await useAsyncData(async () => ({ message: ''Hello, Nuxt 3!'' }))\n  \n  async function refreshData () {\n-   await refresh({ dedupe: true })\n+   await refresh({ dedupe: ''cancel'' })\n\n-   await refresh({ dedupe: false })\n+   await refresh({ dedupe: ''defer'' })\n  }\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  const { refresh } = await useAsyncData(async () => ({ message: ''Hello, Nuxt 3!'' }))\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  \n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"  async function refreshData () {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   await refresh({ dedupe: true })\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   await refresh({ dedupe: ''cancel'' })\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   await refresh({ dedupe: false })\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   await refresh({ dedupe: ''defer'' })\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  }\n"]]]],["tip",{},["p",{},"You can automate this step by running ",["code",{},"npx codemod@latest nuxt/4/deprecated-dedupe-value"]]],["h3",{"id":"respect-defaults-when-clearing-data-in-useasyncdata-and-usefetch"},"Respect defaults when clearing ",["code",{},"data"]," in ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]]', 'Learn how to upgrade to the latest Nuxt version.', 'md', NULL, '{}', '{"icon":"i-lucide-circle-arrow-up"}', '/nuxt/nuxtcore/live/getting-started/upgrade', '{"title":"Upgrade Guide","description":"Learn how to upgrade to the latest Nuxt version."}', 'nuxt/nuxtcore/live/1.getting-started/18.upgrade', NULL, 'mmlyNVytIbAObORs-XTGwgIn3b8L5q3bWRjdoilScvA-70000'); -- mmlyNVytIbAObORs-XTGwgIn3b8L5q3bWRjdoilScvA
UPDATE _content_nuxtcore SET body = CONCAT(body, ',["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-12"},"What Changed"],["p",{},"If you provide a custom ",["code",{},"default"]," value for ",["code",{},"useAsyncData"],", this will now be used when calling ",["code",{},"clear"]," or ",["code",{},"clearNuxtData"]," and it will be reset to its default value rather than simply unset."],["h4",{"id":"reasons-for-change-9"},"Reasons for Change"],["p",{},"Often users set an appropriately empty value, such as an empty array, to avoid the need to check for ",["code",{},"null"],"/",["code",{},"undefined"]," when iterating over it. This should be respected when resetting/clearing the data."],["h3",{"id":"alignment-of-pending-value-in-useasyncdata-and-usefetch"},"Alignment of ",["code",{},"pending"]," value in ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Medium"],["p",{},"The ",["code",{},"pending"]," object returned from ",["code",{},"useAsyncData"],", ",["code",{},"useFetch"],", ",["code",{},"useLazyAsyncData"]," and ",["code",{},"useLazyFetch"]," is now a computed property that is ",["code",{},"true"]," only when ",["code",{},"status"]," is also pending."],["h4",{"id":"what-changed-13"},"What Changed"],["p",{},"Now, when ",["code",{},"immediate: false"]," is passed, ",["code",{},"pending"]," will be ",["code",{},"false"]," until the first request is made. This is a change from the previous behavior, where ",["code",{},"pending"]," was always ",["code",{},"true"]," until the first request was made."],["h4",{"id":"reasons-for-change-10"},"Reasons for Change"],["p",{},"This aligns the meaning of ",["code",{},"pending"]," with the ",["code",{},"status"]," property, which is also ",["code",{},"pending"]," when the request is in progress."],["h4",{"id":"migration-steps-13"},"Migration Steps"],["p",{},"If you rely on the ",["code",{},"pending"]," property, ensure that your logic accounts for the new behavior where ",["code",{},"pending"]," will only be ",["code",{},"true"]," when the status is also pending."],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  <template>\n-   <div v-if=\"!pending\">\n+   <div v-if=\"status === ''success''\">\n      <p>Data: {{ data }}</p>\n    </div>\n    <div v-else>\n      <p>Loading...</p>\n    </div>\n  </template>\n  <script setup lang=\"ts\">\n  const { data, pending, execute, status } = await useAsyncData(() => fetch(''/api/data''), {\n    immediate: false\n  })\n  onMounted(() => execute())\n  </script>\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  <template>\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   <div v-if=\"!pending\">\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   <div v-if=\"status === ''success''\">\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"      <p>Data: {{ data }}</p>\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    </div>\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"    <div v-else>\n"]],["span",{"class":"line","line":7},["span",{"class":"sZSNi"},"      <p>Loading...</p>\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"    </div>\n"]],["span",{"class":"line","line":9},["span",{"class":"sZSNi"},"  </template>\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"  <script setup lang=\"ts\">\n"]],["span",{"class":"line","line":11},["span",{"class":"sZSNi"},"  const { data, pending, execute, status } = await useAsyncData(() => fetch(''/api/data''), {\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"    immediate: false\n"]],["span",{"class":"line","line":13},["span",{"class":"sZSNi"},"  })\n"]],["span",{"class":"line","line":14},["span",{"class":"sZSNi"},"  onMounted(() => execute())\n"]],["span",{"class":"line","line":15},["span",{"class":"sZSNi"},"  </script>\n"]]]],["p",{},"Alternatively, you can temporarily revert to the previous behavior with:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    pendingWhenIdle: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    pendingWhenIdle"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"key-change-behavior-in-useasyncdata-and-usefetch"},"Key Change Behavior in ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Medium"],["h4",{"id":"what-changed-14"},"What Changed"],["p",{},"When using reactive keys in ",["code",{},"useAsyncData"]," or ",["code",{},"useFetch"],", Nuxt automatically refetches data when the key changes. When ",["code",{},"immediate: false"]," is set, ",["code",{},"useAsyncData"]," will only fetch data when the key changes if the data has already been fetched once."],["p",{},"Previously, ",["code",{},"useFetch"]," had slightly different behavior. It would always fetch data when the key changed."],["p",{},"Now, ",["code",{},"useFetch"]," and ",["code",{},"useAsyncData"]," behave consistently - by only fetch data when the key changes if the data has already been fetched once."],["h4",{"id":"reasons-for-change-11"},"Reasons for Change"],["p",{},"This ensures consistent behavior between ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"],", and prevents unexpected fetches. If you have set ",["code",{},"immediate: false"],", then you must call ",["code",{},"refresh"]," or ",["code",{},"execute"]," or data will never be fetched in ",["code",{},"useFetch"]," or ",["code",{},"useAsyncData"],"."],["h4",{"id":"migration-steps-14"},"Migration Steps"],["p",{},"This change should generally improve the expected behavior, but if you were expecting changing the key or options of a non-immediate ",["code",{},"useFetch"],", you now will need to trigger it manually the first time."],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"  const id = ref(''123'')\n  const { data, execute } = await useFetch(''/api/test'', {\n    query: { id },\n    immediate: false\n  )\n+ watch(id, () => execute(), { once: true })\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"  const id = ref(''123'')\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  const { data, execute } = await useFetch(''/api/test'', {\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"    query: { id },\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"    immediate: false\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  )\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," watch(id, () => execute(), { once: true })\n"]]]],["p",{},"To opt out of this behavior:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// Or globally in your Nuxt config\nexport default defineNuxtConfig({\n  experimental: {\n    alwaysRunFetchOnKeyChange: true\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// Or globally in your Nuxt config\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    alwaysRunFetchOnKeyChange"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"shallow-data-reactivity-in-useasyncdata-and-usefetch"},"Shallow Data Reactivity in ",["code",{},"useAsyncData"]," and ",["code",{},"useFetch"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["p",{},"The ",["code",{},"data"]," object returned from ",["code",{},"useAsyncData"],", ",["code",{},"useFetch"],", ",["code",{},"useLazyAsyncData"]," and ",["code",{},"useLazyFetch"]," is now a ",["code",{},"shallowRef"]," rather than a ",["code",{},"ref"],"."],["h4",{"id":"what-changed-15"},"What Changed"],["p",{},"When new data is fetched, anything depending on ",["code",{},"data"]," will still be reactive because the entire object is replaced. But if your code changes a property ",["em",{},"within"]," that data structure, this will not trigger any reactivity in your app."],["h4",{"id":"reasons-for-change-12"},"Reasons for Change"],["p",{},"This brings a ",["strong",{},"significant"]," performance improvement for deeply nested objects and arrays because Vue does not need to watch every single property/array for modification. In most cases, ",["code",{},"data"]," should also be immutable."],["h4",{"id":"migration-steps-15"},"Migration Steps"],["p",{},"In most cases, no migration steps are required, but if you rely on the reactivity of the data object then you have two options:"],["ol",{},["li",{},"You can granularly opt in to deep reactivity on a per-composable basis:\n",["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"- const { data } = useFetch(''/api/test'')\n+ const { data } = useFetch(''/api/test'', { deep: true })\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," const { data } = useFetch(''/api/test'')\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," const { data } = useFetch(''/api/test'', { deep: true })\n"]]]]],["li",{},"You can change the default behavior on a project-wide basis (not recommended):\n",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    defaults: {\n      useAsyncData: {\n        deep: true\n      }\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  experimental"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    defaults"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      useAsyncData"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        deep"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]]],["tip",{},["p",{},"If you need to, you can automate this step by running ",["code",{},"npx codemod@latest nuxt/4/shallow-function-reactivity"]]],["h3",{"id":"absolute-watch-paths-in-builderwatch"},"Absolute Watch Paths in ",["code",{},"builder:watch"]],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-16"},"What Changed"],["p",{},"The Nuxt ",["code",{},"builder:watch"]," hook now emits a path which is absolute rather than relative to your project ",["code",{},"srcDir"],"."],["h4",{"id":"reasons-for-change-13"},"Reasons for Change"],["p",{},"This allows us to support watching paths which are outside your ",["code",{},"srcDir"],", and offers better support for layers and other more complex patterns."],["h4",{"id":"migration-steps-16"},"Migration Steps"],["p",{},"We have already proactively migrated the public Nuxt modules which we are aware use this hook. See ",["a",{"href":"https://github.com/nuxt/nuxt/issues/25339","rel":["nofollow"]},"issue #25339"],"."],["p",{},"However, if you are a module author using the ",["code",{},"builder:watch"]," hook and wishing to remain backwards/forwards compatible, you can use the following code to ensure that your code works the same in both Nuxt v3 and Nuxt v4:"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"+ import { relative, resolve } from ''node:fs''\n  // ...\n  nuxt.hook(''builder:watch'', async (event, path) => {\n+   path = relative(nuxt.options.srcDir, resolve(nuxt.options.srcDir, path))\n    // ...\n  })\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," import { relative, resolve } from ''node:fs''\n"]],["span",{"class":"line","line":2},["span",{"class":"sZSNi"},"  // ...\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"  nuxt.hook(''builder:watch'', async (event, path) => {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   path = relative(nuxt.options.srcDir, resolve(nuxt.options.srcDir, path))\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    // ...\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"  })\n"]]]],["tip",{},["p",{},"You can automate this step by running ",["code",{},"npx codemod@latest nuxt/4/absolute-watch-path"]]],["h3",{"id":"removal-of-window__nuxt__-object"},"Removal of ",["code",{},"window.__NUXT__"]," object"],["h4",{"id":"what-changed-17"},"What Changed"],["p",{},"We are removing the global ",["code",{},"window.__NUXT__"]," object after the app finishes hydration."],["h4",{"id":"reasons-for-change-14"},"Reasons for Change"],["p",{},"This opens the way to multi-app patterns (",["a",{"href":"https://github.com/nuxt/nuxt/issues/21635","rel":["nofollow"]},"#21635"],") and enables us to focus on a single way to access Nuxt app data - ",["code",{},"useNuxtApp()"],"."],["h4",{"id":"migration-steps-17"},"Migration Steps"],["p",{},"The data is still available, but can be accessed with ",["code",{},"useNuxtApp().payload"],":"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"- console.log(window.__NUXT__)\n+ console.log(useNuxtApp().payload)\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," console.log(window.__NUXT__)\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," console.log(useNuxtApp().payload)\n"]]]],["h3",{"id":"directory-index-scanning"},"Directory index scanning"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Medium"],["h4",{"id":"what-changed-18"},"What Changed"],["p",{},"Child folders in your ",["code",{},"app/middleware/"]," folder are also scanned for ",["code",{},"index"]," files and these are now also registered as middleware in your project."],["h4",{"id":"reasons-for-change-15"},"Reasons for Change"],["p",{},"Nuxt scans a number of folders automatically, including ",["code",{},"app/middleware/"]," and ",["code",{},"app/plugins/"],"."],["p",{},"Child folders in your ",["code",{},"app/plugins/"]," folder are scanned for ",["code",{},"index"]," files and we wanted to make this behavior consistent between scanned directories."],["h4",{"id":"migration-steps-18"},"Migration Steps"],["p",{},"Probably no migration is necessary but if you wish to revert to previous behavior you can add a hook to filter out these middleware:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  hooks: {\n    ''app:resolve''(app) {\n      app.middleware = app.middleware.filter(mw => !/\\/index\\.[^/]+$/.test(mw.path))\n    }\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"app:resolve"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"app"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"      app"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"middleware"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sZSNi"}," app"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"middleware"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"filter"],["span",{"class":"sRlkE"},"("],["span",{"class":"s1nJG"},"mw"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," !"],["span",{"class":"sDfIl"},"/"],["span",{"class":"sZSNi"},"\\/"],["span",{"class":"sGFVr"},"index"],["span",{"class":"sZSNi"},"\\."],["span",{"class":"sDfIl"},"[^"],["span",{"class":"sGFVr"},"/"],["span",{"class":"sDfIl"},"]+"],["span",{"class":"s8R28"},"$"],["span",{"class":"sDfIl"},"/"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"test"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"mw"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"path"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"template-compilation-changes"},"Template Compilation Changes"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-19"},"What Changed"],["p",{},"Previously, Nuxt used ",["code",{},"lodash/template"]," to compile templates located on the file system using the ",["code",{},".ejs"]," file format/syntax."],["p",{},"In addition, we provided some template utilities (",["code",{},"serialize"],", ",["code",{},"importName"],", ",["code",{},"importSources"],") which could be used for code-generation within these templates, which are now being removed."],["h4",{"id":"reasons-for-change-16"},"Reasons for Change"],["p",{},"In Nuxt v3 we moved to a ''virtual'' syntax with a ",["code",{},"getContents()"]," function which is much more flexible and performant."],["p",{},"In addition, ",["code",{},"lodash/template"]," has had a succession of security issues. These do not really apply to Nuxt projects because it is being used at build-time, not runtime, and by trusted code. However, they still appear in security audits. Moreover, ",["code",{},"lodash"]," is a hefty dependency and is unused by most projects."],["p",{},"Finally, providing code serialization functions directly within Nuxt is not ideal. Instead, we maintain projects like ",["a",{"href":"http://github.com/unjs/knitwork","rel":["nofollow"]},"unjs/knitwork"]," which can be dependencies of your project, and where security issues can be reported/resolved directly without requiring an upgrade of Nuxt itself."],["h4",{"id":"migration-steps-19"},"Migration Steps"],["p",{},"We have raised PRs to update modules using EJS syntax, but if you need to do this yourself, you have three backwards/forwards-compatible alternatives:"],["ul",{},["li",{},"Moving your string interpolation logic directly into ",["code",{},"getContents()"],"."],["li",{},"Using a custom function to handle the replacement, such as in ",["a",{"href":"https://github.com/nuxt-modules/color-mode/pull/240","rel":["nofollow"]},"https://github.com/nuxt-modules/color-mode/pull/240"],"."],["li",{},"Use ",["code",{},"es-toolkit/compat"]," (a drop-in replacement for lodash template), as a dependency of ",["em",{},"your"]," project rather than Nuxt:"]],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"+ import { readFileSync } from ''node:fs''\n+ import { template } from ''es-toolkit/compat''\n  // ...\n  addTemplate({\n    fileName: ''appinsights-vue.js''\n    options: { /* some options */ },\n-   src: resolver.resolve(''./runtime/plugin.ejs''),\n+   getContents({ options }) {\n+     const contents = readFileSync(resolver.resolve(''./runtime/plugin.ejs''), ''utf-8'')\n+     return template(contents)({ options })\n+   },\n  })\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," import { readFileSync } from ''node:fs''\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," import { template } from ''es-toolkit/compat''\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"  // ...\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"  addTemplate({\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"    fileName: ''appinsights-vue.js''\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"    options: { /* some options */ },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   src: resolver.resolve(''./runtime/plugin.ejs''),\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   getContents({ options }) {\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     const contents = readFileSync(resolver.resolve(''./runtime/plugin.ejs''), ''utf-8'')\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     return template(contents)({ options })\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   },\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"  })\n"]]]],["p",{},"Finally, if you are using the template utilities (",["code",{},"serialize"],", ",["code",{},"importName"],", ",["code",{},"importSources"],"), you can replace them as follows with utilities from ",["code",{},"knitwork"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { genDynamicImport, genImport, genSafeVariableName } from ''knitwork''\n\nconst serialize = (data: any) => JSON.stringify(data, null, 2).replace(/\"{(.+)}\"(?=,?$)/gm, r => JSON.parse(r).replace(/^{(.*)}$/, ''$1''))\n\nconst importSources = (sources: string | string[], { lazy = false } = {}) => {\n  return toArray(sources).map((src) => {\n    if (lazy) {\n      return `const ${genSafeVariableName(src)} = ${genDynamicImport(src, { comment: `webpackChunkName: ${JSON.stringify(src)}` })}`\n    }\n    return genImport(src, genSafeVariableName(src))\n  }).join(''\\n'')\n}\n\nconst importName = genSafeVariableName\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," genDynamicImport"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," genImport"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," genSafeVariableName"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"knitwork"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," serialize "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"data"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," any"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," JSON"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"stringify"],["span",{"class":"sZSNi"},"(data"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," null,"],["span",{"class":"sYRBq"}," 2"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"replace"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"/"],["span",{"class":"sGFVr"},"\"{"],["span",{"class":"sDfIl"},"("],["span",{"class":"sGFVr"},"."],["span",{"class":"sDfIl"},"+)"],["span",{"class":"sGFVr"},"}\""],["span",{"class":"sDfIl"},"(?="],["span",{"class":"sGFVr"},","],["span",{"class":"sDfIl"},"?"],["span",{"class":"s8R28"},"$"],["span",{"class":"sDfIl"},")/"],["span",{"class":"sYRBq"},"gm"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," r"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," JSON"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"parse"],["span",{"class":"sZSNi"},"(r)"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"replace"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"/"],["span",{"class":"s8R28"},"^"],["span",{"class":"sGFVr"},"{"],["span",{"class":"sDfIl"},"("],["span",{"class":"sGFVr"},"."],["span",{"class":"sDfIl"},"*)"],["span",{"class":"sGFVr"},"}"],["span",{"class":"s8R28"},"$"],["span",{"class":"sDfIl"},"/"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"$1"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"))\n"]],["span",{"class":"line","line":4},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," importSources "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"sources"],["span",{"class":"sDfIl"},":"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sDfIl"}," |"],["span",{"class":"s52Pk"}," string"],["span",{"class":"sZSNi"},"[]"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"s1nJG"}," lazy"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {})"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"s8R28"},"  return"],["span",{"class":"s3cPz"}," toArray"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"sources"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"map"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"src"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"    if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"lazy"],["span",{"class":"sRlkE"},") "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"s8R28"},"      return"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"const "],["span",{"class":"sDfIl"},"${"],["span",{"class":"s3cPz"},"genSafeVariableName"],["span",{"class":"sZSNi"},"(src)"],["span",{"class":"sDfIl"},"}"],["span",{"class":"sGFVr"}," = "],["span",{"class":"sDfIl"},"${"],["span",{"class":"s3cPz"},"genDynamicImport"],["span",{"class":"sZSNi"},"(src"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," comment"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," `"],["span",{"class":"sGFVr"},"webpackChunkName: "],["span",{"class":"sDfIl"},"${"],["span",{"class":"sZSNi"},"JSON"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"stringify"],["span",{"class":"sZSNi"},"(src)"],["span",{"class":"sDfIl"},"}`"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},"}`\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":10},["span",{"class":"s8R28"},"    return"],["span",{"class":"s3cPz"}," genImport"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"src"],["span",{"class":"sDfIl"},","],["span",{"class":"s3cPz"}," genSafeVariableName"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"src"],["span",{"class":"sRlkE"},"))\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"  }"],["span",{"class":"sRlkE"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"join"],["span",{"class":"sRlkE"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"\\n"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},")\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":13},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":14},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," importName "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," genSafeVariableName\n"]]]],["tip",{},["p",{},"You can automate this step by running ",["code",{},"npx codemod@latest nuxt/4/template-compilation-changes"]]],["h3",{"id":"default-typescript-configuration-changes"},"Default TypeScript Configuration Changes"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-20"},"What Changed"],["p",{},["code",{},"compilerOptions.noUncheckedIndexedAccess"]," is now ",["code",{},"true"]," instead of ",["code",{},"false"],"."],["h4",{"id":"reasons-for-change-17"},"Reasons for Change"],["p",{},"This change is a follow up to a prior ",["a",{"href":"https://github.com/nuxt/nuxt/pull/27485","rel":["nofollow"]},"3.12 config update"]," where we improved our defaults, mostly adhering to ",["a",{"href":"https://www.totaltypescript.com/tsconfig-cheat-sheet","rel":["nofollow"]},"TotalTypeScript''s recommendations"],"."],["h4",{"id":"migration-steps-20"},"Migration Steps"],["p",{},"There are two approaches:"],["ol",{},["li",{},"Run a typecheck on your app and fix any new errors (recommended)."],["li",{},"Override the new default in your ",["code",{},"nuxt.config.ts"],":",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  typescript: {\n    tsConfig: {\n      compilerOptions: {\n        noUncheckedIndexedAccess: false\n      }\n    }\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  typescript"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    tsConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"      compilerOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        noUncheckedIndexedAccess"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]]],["h3",{"id":"typescript-configuration-splitting"},"TypeScript Configuration Splitting"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-21"},"What Changed"],["p",{},"Nuxt now generates separate TypeScript configurations for different contexts to provide better type-checking experiences:"],["ol",{},["li",{},["strong",{},"New TypeScript configuration files"],": Nuxt now generates additional TypeScript configurations:",["ul",{},["li",{},["code",{},".nuxt/tsconfig.app.json"]," - For your app code (Vue components, composables, etc.)"],["li",{},["code",{},".nuxt/tsconfig.server.json"]," - For your server-side code (Nitro/server directory)"],["li",{},["code",{},".nuxt/tsconfig.node.json"]," - For your build-time code (modules, ",["code",{},"nuxt.config.ts"],", etc.)"],["li",{},["code",{},".nuxt/tsconfig.shared.json"]," - For code shared between app and server contexts (like types and non-environment specific utilities)"],["li",{},["code",{},".nuxt/tsconfig.json"]," - Legacy configuration for backward compatibility"]]],["li",{},["strong",{},"Backward compatibility"],": Existing projects that extend ",["code",{},".nuxt/tsconfig.json"]," will continue to work as before."],["li",{},["strong",{},"Opt-in project references"],": New projects or those wanting better type checking can adopt TypeScript''s project references feature."],["li",{},["strong",{},"Context-specific type checking"],": Each context now has appropriate compiler options and includes/excludes for its specific environment."],["li",{},["strong",{},"New ",["code",{},"typescript.nodeTsConfig"]," option"],": You can now customize the TypeScript configuration for Node.js build-time code."]],["h4",{"id":"reasons-for-change-18"},"Reasons for Change"],["p",{},"This change provides several benefits:"],["ol",{},["li",{},["strong",{},"Better type safety"],": Each context (app, server, build-time) gets appropriate type checking with context-specific globals and APIs."],["li",{},["strong",{},"Improved IDE experience"],": Better IntelliSense and error reporting for different parts of your codebase."],["li",{},["strong",{},"Cleaner separation"],": Server code won''t incorrectly suggest client-side APIs and vice versa."],["li",{},["strong",{},"Performance"],": TypeScript can more efficiently check code with properly scoped configurations."]],["p",{},"For example, auto-imports are not available in your ",["code",{},"nuxt.config.ts"]," (but previously this was not flagged by TypeScript). And while IDEs recognized the separate context hinted by ",["code",{},"tsconfig.json"]," in your ",["code",{},"server/"]," directory, this was not reflected in type-checking (requiring a separate step)."],["h4",{"id":"migration-steps-21"},"Migration Steps"],["p",{},["strong",{},"No migration is required"]," - existing projects will continue to work as before."],["p",{},"However, to take advantage of improved type checking, you can opt in to the new project references approach:"],["ol",{},["li",{},["strong",{},"Update your root ",["code",{},"tsconfig.json"]]," to use project references:",["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"files\": [],\n  \"references\": [\n    { \"path\": \"./.nuxt/tsconfig.app.json\" },\n    { \"path\": \"./.nuxt/tsconfig.server.json\" },\n    { \"path\": \"./.nuxt/tsconfig.shared.json\" },\n    { \"path\": \"./.nuxt/tsconfig.node.json\" }\n  ]\n}\n","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"files"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," [],\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"references"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sDfIl"}," \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.app.json"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sDfIl"}," \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.server.json"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sDfIl"}," \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.shared.json"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    {"],["span",{"class":"sDfIl"}," \""],["span",{"class":"s52Pk"},"path"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./.nuxt/tsconfig.node.json"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"  ]\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"}\n"]]]]],["li",{},["strong",{},"Remove any manual server ",["code",{},"tsconfig.json"]]," files (like ",["code",{},"server/tsconfig.json"],") that extended ",["code",{},".nuxt/tsconfig.server.json"],"."],["li",{},["strong",{},"Update your type checking scripts"]," to use the build flag for project references:",["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"- \"typecheck\": \"nuxt prepare && vue-tsc --noEmit\"\n+ \"typecheck\": \"nuxt prepare && vue-tsc -b --noEmit\"\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," \"typecheck\": \"nuxt prepare && vue-tsc --noEmit\"\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," \"typecheck\": \"nuxt prepare && vue-tsc -b --noEmit\"\n"]]]]],["li",{},["strong",{},"Move all type augmentations into their appropriate context"],":",["ul",{},["li",{},"If you are augmenting types for the app context, move the files to the ",["code",{},"app/"]," directory."],["li",{},"If you are augmenting types for the server context, move the files to the ",["code",{},"server/"]," directory."],["li",{},"If you are augmenting types that are ",["strong",{},"shared between the app and server"],", move the files to the ",["code",{},"shared/"]," directory."]],["warning",{},["p",{},"Augmenting types from outside the ",["code",{},"app/"],", ",["code",{},"server/"],", or ",["code",{},"shared/"]," directories will not work with the new project references setup."]]],["li",{},["strong",{},"Configure Node.js TypeScript options"]," if needed:",["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  typescript: {\n    // Customize app/server TypeScript config\n    tsConfig: {\n      compilerOptions: {\n        strict: true\n      }\n    },\n    // Customize build-time TypeScript config  \n    nodeTsConfig: {\n      compilerOptions: {\n        strict: true\n      }\n    }\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  typescript"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Customize app/server TypeScript config\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    tsConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      compilerOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        strict"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    },\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"    // Customize build-time TypeScript config  \n"]],["span",{"class":"line","line":10},["span",{"class":"sRlkE"},"    nodeTsConfig"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":11},["span",{"class":"sRlkE"},"      compilerOptions"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":12},["span",{"class":"sRlkE"},"        strict"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["li",{},["strong",{},"Update any CI/build scripts"]," that run TypeScript checking to ensure they use the new project references approach."]],["p",{},"The new configuration provides better type safety and IntelliSense for projects that opt in, while maintaining full backward compatibility for existing setups."],["h3",{"id":"removal-of-experimental-features"},"Removal of Experimental Features"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-22"},"What Changed"],["p",{},"Four experimental features are no longer configurable in Nuxt 4:"],["ul",{},["li",{},["code",{},"experimental.treeshakeClientOnly"]," will be ",["code",{},"true"]," (default since v3.0)"],["li",{},["code",{},"experimental.configSchema"]," will be ",["code",{},"true"]," (default since v3.3)"],["li",{},["code",{},"experimental.polyfillVueUseHead"]," will be ",["code",{},"false"]," (default since v3.4)"],["li",{},["code",{},"experimental.respectNoSSRHeader"]," will be ",["code",{},"false"]," (default since v3.4)"],["li",{},["code",{},"vite.devBundler"]," is no longer configurable - it will use ",["code",{},"vite-node"]," by default"]],["h4",{"id":"reasons-for-change-19"},"Reasons for Change"],["p",{},"These options have been set to their current values for some time and we do not have a reason to believe that they need to remain configurable."],["h4",{"id":"migration-steps-22"},"Migration Steps"],["ul",{},["li",{},["code",{},"polyfillVueUseHead"]," is implementable in user-land with ",["a",{"href":"https://github.com/nuxt/nuxt/blob/f209158352b09d1986aa320e29ff36353b91c358/packages/nuxt/src/head/runtime/plugins/vueuse-head-polyfill.ts#L10-L11","rel":["nofollow"]},"this plugin"]],["li",{},["code",{},"respectNoSSRHeader"],"is implementable in user-land with ",["a",{"href":"https://github.com/nuxt/nuxt/blob/c660b39447f0d5b8790c0826092638d321cd6821/packages/nuxt/src/core/runtime/nitro/no-ssr.ts#L8-L9","rel":["nofollow"]},"server middleware"]]],["h3",{"id":"removal-of-top-level-generate-configuration"},"Removal of Top-Level ",["code",{},"generate"]," Configuration"],["p",{},"🚦 ",["strong",{},"Impact Level"],": Minimal"],["h4",{"id":"what-changed-23"},"What Changed"],["p",{},"The top-level ",["code",{},"generate"]," configuration option is no longer available in Nuxt 4. This includes all of its properties:"],["ul",{},["li",{},["code",{},"generate.exclude"]," - for excluding routes from prerendering"],["li",{},["code",{},"generate.routes"]," - for specifying routes to prerender"]],["h4",{"id":"reasons-for-change-20"},"Reasons for Change"],["p",{},"The top level ",["code",{},"generate"]," configuration was a holdover from Nuxt 2. We''ve supported ",["code",{},"nitro.prerender"]," for a while now, and it is the preferred way to configure prerendering in Nuxt 3+."],["h4",{"id":"migration-steps-23"},"Migration Steps"],["p",{},"Replace ",["code",{},"generate"]," configuration with the corresponding ",["code",{},"nitro.prerender"]," options:"],["pre",{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n- generate: {\n-   exclude: [''/admin'', ''/private''],\n-   routes: [''/sitemap.xml'', ''/robots.txt'']\n- }\n+ nitro: {\n+   prerender: {\n+     ignore: [''/admin'', ''/private''],\n+     routes: [''/sitemap.xml'', ''/robots.txt'']\n+   }\n+ }\n})\n","language":"diff","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sZSNi"},"export default defineNuxtConfig({\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," generate: {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   exclude: [''/admin'', ''/private''],\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"},"   routes: [''/sitemap.xml'', ''/robots.txt'']\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"-"],["span",{"class":"sRlkE"}," }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," nitro: {\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   prerender: {\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     ignore: [''/admin'', ''/private''],\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"     routes: [''/sitemap.xml'', ''/robots.txt'']\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"},"   }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"+"],["span",{"class":"sGFVr"}," }\n"]],["span",{"class":"line","line":12},["span",{"class":"sZSNi"},"})\n"]]]],["read-more",{"to":"https://nitro.build/config#prerender"},["p",{},"Read more about Nitro''s prerender configuration options."]],["h2",{"id":"nuxt-2-vs-nuxt-3"},"Nuxt 2 vs. Nuxt 3+"],["p",{},"In the table below, there is a quick comparison between 3 versions of Nuxt:"],["table",{},["thead",{},["tr",{},["th",{},"Feature / Version"],["th",{},"Nuxt 2"],["th",{},"Nuxt Bridge"],["th",{},"Nuxt 3+"]]],["tbody",{},["tr",{},["td",{},"Vue"],["td",{},"2"],["td",{},"2"],["td",{},"3"]],["tr",{},["td",{},"Stability"],["td",{},"😊 Stable"],["td",{},"😊 Stable"],["td",{},"😊 Stable"]],["tr",{},["td",{},"Performance"],["td",{},"🏎 Fast"],["td",{},"✈️ Faster"],["td",{},"🚀 Fastest"]],["tr",{},["td",{},"Nitro Engine"],["td",{},"❌"],["td",{},"✅"],["td",{},"✅"]],["tr",{},["td",{},"ESM support"],["td",{},"🌙 Partial"],["td",{},"👍 Better"],["td",{},"✅"]],["tr",{},["td",{},"TypeScript"],["td",{},"☑️ Opt-in"],["td",{},"🚧 Partial"],["td",{},"✅"]],["tr",{},["td",{},"Composition API"],["td",{},"❌"],["td",{},"🚧 Partial"],["td",{},"✅"]],["tr",{},["td",{},"Options API"],["td",{},"✅"],["td",{},"✅"],["td",{},"✅"]],["tr",{},["td",{},"Components Auto Import"],["td",{},"✅"],["td",{},"✅"],["td",{},"✅"]],["tr",{},["td",{},["code",{},"<script setup>"]," syntax"],["td",{},"❌"],["td",{},"🚧 Partial"],["td",{},"✅"]],["tr",{},["td",{},"Auto Imports"],["td",{},"❌"],["td",{},"✅"],["td",{},"✅"]],["tr",{},["td",{},"webpack"],["td",{},"4"],["td",{},"4"],["td",{},"5"]],["tr",{},["td",{},"Vite"],["td",{},"⚠️ Partial"],["td",{},"🚧 Partial"],["td",{},"✅"]],["tr",{},["td",{},"Nuxt CLI"],["td",{},"❌ Old"],["td",{},"✅ nuxt"],["td",{},"✅ nuxt"]],["tr",{},["td",{},"Static sites"],["td",{},"✅"],["td",{},"✅"],["td",{},"✅"]]]],["h2",{"id":"nuxt-2-to-nuxt-3"},"Nuxt 2 to Nuxt 3+"],["p",{},"The migration guide provides a step-by-step comparison of Nuxt 2 features to Nuxt 3+ features and guidance to adapt your current application."],["read-more",{"to":"/docs/migration/overview"},["p",{},"Check out the ",["strong",{},"guide to migrating from Nuxt 2 to Nuxt 3"],"."]],["h2",{"id":"nuxt-2-to-nuxt-bridge"},"Nuxt 2 to Nuxt Bridge"],["p",{},"If you prefer to progressively migrate your Nuxt 2 application to Nuxt 3, you can use Nuxt Bridge. Nuxt Bridge is a compatibility layer that allows you to use Nuxt 3+ features in Nuxt 2 with an opt-in mechanism."],["read-more",{"to":"/docs/bridge/overview"},["p",{},["strong",{},"Migrate from Nuxt 2 to Nuxt Bridge"]]],["style",{},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"upgrading-nuxt","depth":2,"text":"Upgrading Nuxt","children":[{"id":"latest-release","depth":3,"text":"Latest release"},{"id":"nightly-release-channel","depth":3,"text":"Nightly Release Channel"}]},{"id":"migrating-to-nuxt-4","depth":2,"text":"Migrating to Nuxt 4","children":[{"id":"migrating-using-codemods","depth":3,"text":"Migrating Using Codemods"},{"id":"new-directory-structure","depth":3,"text":"New Directory Structure"},{"id":"singleton-data-fetching-layer","depth":3,"text":"Singleton Data Fetching Layer"},{"id":"corrected-module-loading-order-in-layers","depth":3,"text":"Corrected Module Loading Order in Layers"},{"id":"deduplication-of-route-metadata","depth":3,"text":"Deduplication of Route Metadata"},{"id":"normalized-component-names","depth":3,"text":"Normalized Component Names"},{"id":"unhead-v2","depth":3,"text":"Unhead v2"},{"id":"new-dom-location-for-spa-loading-screen","depth":3,"text":"New DOM Location for SPA Loading Screen"},{"id":"parsed-errordata","depth":3,"text":"Parsed error.data"},{"id":"more-granular-inline-styles","depth":3,"text":"More Granular Inline Styles"},{"id":"scan-page-meta-after-resolution","depth":3,"text":"Scan Page Meta After Resolution"},{"id":"shared-prerender-data","depth":3,"text":"Shared Prerender Data"},{"id":"default-data-and-error-values-in-useasyncdata-and-usefetch","depth":3,"text":"Default data and error values in useAsyncData and useFetch"},{"id":"removal-of-deprecated-boolean-values-for-dedupe-option-when-calling-refresh-in-useasyncdata-and-usefetch","depth":3,"text":"Removal of deprecated boolean values for dedupe option when calling refresh in useAsyncData and useFetch"},{"id":"respect-defaults-when-clearing-data-in-useasyncdata-and-usefetch","depth":3,"text":"Respect defaults when clearing data in useAsyncData and useFetch"},{"id":"alignment-of-pending-value-in-useasyncdata-and-usefetch","depth":3,"text":"Alignment of pending value in useAsyncData and useFetch"},{"id":"key-change-behavior-in-useasyncdata-and-usefetch","depth":3,"text":"Key Change Behavior in useAsyncData and useFetch"},{"id":"shallow-data-reactivity-in-useasyncdata-and-usefetch","depth":3,"text":"Shallow Data Reactivity in useAsyncData and useFetch"},{"id":"absolute-watch-paths-in-builderwatch","depth":3,"text":"Absolute Watch Paths in builder:watch"},{"id":"removal-of-window__nuxt__-object","depth":3,"text":"Removal of window.__NUXT__ object"},{"id":"directory-index-scanning","depth":3,"text":"Directory index scanning"},{"id":"template-compilation-changes","depth":3,"text":"Template Compilation Changes"},{"id":"default-typescript-configuration-changes","depth":3,"text":"Default TypeScript Configuration Changes"},{"id":"typescript-configuration-splitting","depth":3,"text":"TypeScript Configuration Splitting"},{"id":"removal-of-experimental-features","depth":3,"text":"Removal of Experimental Features"},{"id":"removal-of-top-level-generate-configuration","depth":3,"text":"Removal of Top-Level generate Configuration"}]},{"id":"nuxt-2-vs-nuxt-3","depth":2,"text":"Nuxt 2 vs. Nuxt 3+"},{"id":"nuxt-2-to-nuxt-3","depth":2,"text":"Nuxt 2 to Nuxt 3+"},{"id":"nuxt-2-to-nuxt-bridge","depth":2,"text":"Nuxt 2 to Nuxt Bridge"}]}}'), "__hash__" = 'mmlyNVytIbAObORs-XTGwgIn3b8L5q3bWRjdoilScvA' WHERE id = 'nuxtcore/nuxt/nuxtcore/live/1.getting-started/18.upgrade.md' AND "__hash__" = 'mmlyNVytIbAObORs-XTGwgIn3b8L5q3bWRjdoilScvA-70000'; -- mmlyNVytIbAObORs-XTGwgIn3b8L5q3bWRjdoilScvA
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/.navigation.yml', 'Guide', '{"title":"Guide","icon":"i-lucide-book-open"}', NULL, 'yml', NULL, '{"icon":"i-lucide-book-open"}', 'true', '/nuxt/nuxtcore/live/guide/.navigation', '{"title":"Guide"}', 'nuxt/nuxtcore/live/2.guide/.navigation', NULL, 'wCn2MDBt0PYL8rCCJpFt8qzjFwEtUlfTh72I_WZjsoE'); -- wCn2MDBt0PYL8rCCJpFt8qzjFwEtUlfTh72I_WZjsoE
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/0.index.md', 'Nuxt Guide', '{"type":"minimark","value":[["card-group",{"className":["sm:grid-cols-1"]},["card",{"icon":"i-lucide-medal","title":"Key Concepts","to":"/docs/guide/concepts"},["p",{},"Discover the main concepts behind Nuxt, from auto-import, hybrid rendering to its TypeScript support."]],["card",{"icon":"i-lucide-folders","title":"Directory Structure","to":"/docs/guide/directory-structure"},["p",{},"Learn about Nuxt directory structure and what benefits each directory or file offers."]],["card",{"icon":"i-lucide-star","title":"Going Further","to":"/docs/guide/going-further"},["p",{},"Master Nuxt with advanced concepts like experimental features, hooks, modules, and more."]],["card",{"icon":"i-lucide-book-open","title":"Recipes","to":"/docs/guide/recipes"},["p",{},"Find solutions to common problems and learn how to implement them in your Nuxt project."]],["card",{"icon":"i-lucide-square-check","title":"Best Practices","to":"/docs/guide/best-practices"},["p",{},"Learn about best practices when developing with Nuxt"]]]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Learn how Nuxt works with in-depth guides.', 'md', NULL, '{"surround":false}', 'false', '/nuxt/nuxtcore/live/guide', '{"title":"Nuxt Guide","description":"Learn how Nuxt works with in-depth guides."}', 'nuxt/nuxtcore/live/2.guide/0.index', '%s', 'Uky1LZNUGDn77BEM2YJ4DXSRXaYzjw9c7SLfx7nrYgY'); -- Uky1LZNUGDn77BEM2YJ4DXSRXaYzjw9c7SLfx7nrYgY
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/.navigation.yml', 'Key Concepts', '{"title":"Key Concepts","titleTemplate":"%s · Nuxt Concepts","icon":"i-lucide-medal"}', NULL, 'yml', NULL, '{"icon":"i-lucide-medal"}', 'true', '/nuxt/nuxtcore/live/guide/concepts/.navigation', '{"title":"Key Concepts"}', 'nuxt/nuxtcore/live/2.guide/1.concepts/.navigation', '%s · Nuxt Concepts', 'eb6JnCJYy8j-KgjlnV4TSwbVizINvM7jFkOkEzvKQQ0'); -- eb6JnCJYy8j-KgjlnV4TSwbVizINvM7jFkOkEzvKQQ0
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/1.auto-imports.md', 'Auto-imports', '{"type":"minimark","value":[["p",{},"Nuxt auto-imports components, composables and ",["a",{"href":"https://vuejs.org/api","rel":["nofollow"]},"Vue.js APIs"]," to use across your application without explicitly importing them."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst count = ref(1) // ref is auto-imported\n</script>\n","filename":"app/app.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," count "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},") "],["span",{"class":"sWuyu"},"// ref is auto-imported\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Thanks to its opinionated directory structure, Nuxt can auto-import your ",["a",{"href":"/docs/guide/directory-structure/app/components"},["code",{},"app/components/"]],", ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/"]]," and ",["a",{"href":"/docs/guide/directory-structure/app/utils"},["code",{},"app/utils/"]],"."],["p",{},"Contrary to a classic global declaration, Nuxt preserves typings, IDEs completions and hints, and ",["strong",{},"only includes what is used in your production code"],"."],["note",{},["p",{},"In the docs, every function that is not explicitly imported is auto-imported by Nuxt and can be used as-is in your code. You can find a reference for auto-imported components, composables and utilities in the ",["a",{"href":"/docs/api"},"API section"],"."]],["note",{},["p",{},"In the ",["a",{"href":"/docs/guide/directory-structure/server"},["code",{},"server"]]," directory, Nuxt auto-imports exported functions and variables from ",["code",{},"server/utils/"],"."]],["note",{},["p",{},"You can also auto-import functions exported from custom folders or third-party packages by configuring the ",["a",{"href":"/docs/api/nuxt-config#imports"},["code",{},"imports"]]," section of your ",["code",{},"nuxt.config"]," file."]],["h2",{"id":"built-in-auto-imports"},"Built-in Auto-imports"],["p",{},"Nuxt auto-imports functions and composables to perform ",["a",{"href":"/docs/getting-started/data-fetching"},"data fetching"],", get access to the ",["a",{"href":"/docs/api/composables/use-nuxt-app"},"app context"]," and ",["a",{"href":"/docs/guide/going-further/runtime-config"},"runtime config"],", manage ",["a",{"href":"/docs/getting-started/state-management"},"state"]," or define components and plugins."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n/* useFetch() is auto-imported */\nconst { data, refresh, status } = await useFetch(''/api/hello'')\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"/* useFetch() is auto-imported */\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," data"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," refresh"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," status "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," useFetch"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/api/hello"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"Vue exposes Reactivity APIs like ",["code",{},"ref"]," or ",["code",{},"computed"],", as well as lifecycle hooks and helpers that are auto-imported by Nuxt."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\n/* ref() and computed() are auto-imported */\nconst count = ref(1)\nconst double = computed(() => count.value * 2)\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"/* ref() and computed() are auto-imported */\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," count "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," double "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," count"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"*"],["span",{"class":"sYRBq"}," 2"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"vue-and-nuxt-composables"},"Vue and Nuxt Composables"],["p",{},"When you are using the built-in Composition API composables provided by Vue and Nuxt, be aware that many of them rely on being called in the right ",["em",{},"context"],"."],["p",{},"During a component lifecycle, Vue tracks the temporary instance of the current component (and similarly, Nuxt tracks a temporary instance of ",["code",{},"nuxtApp"],") via a global variable, and then unsets it in the same tick. This is essential when server rendering, both to avoid cross-request state pollution (leaking a shared reference between two users) and to avoid leakage between different components."],["p",{},"That means that (with very few exceptions) you cannot use them outside a Nuxt plugin, Nuxt route middleware or Vue setup function. On top of that, you must use them synchronously - that is, you cannot use ",["code",{},"await"]," before calling a composable, except within ",["code",{},"<script setup>"]," blocks, within the setup function of a component declared with ",["code",{},"defineNuxtComponent"],", in ",["code",{},"defineNuxtPlugin"]," or in ",["code",{},"defineNuxtRouteMiddleware"],", where we perform a transform to keep the synchronous context even after the ",["code",{},"await"],"."],["p",{},"If you get an error message like ",["code",{},"Nuxt instance is unavailable"]," then it probably means you are calling a Nuxt composable in the wrong place in the Vue or Nuxt lifecycle."],["video-accordion",{"title":"Watch a video from Alexander Lichter about avoiding the ''Nuxt instance is unavailable'' error","video-id":"ofuKRZLtOdY"}],["tip",{},["p",{},"When using a composable that requires the Nuxt context inside a non-SFC component, you need to wrap your component with ",["code",{},"defineNuxtComponent"]," instead of ",["code",{},"defineComponent"]]],["read-more",{"to":"/docs/guide/going-further/experimental-features#asynccontext","icon":"i-lucide-star"},["p",{},"Checkout the ",["code",{},"asyncContext"]," experimental feature to use Nuxt composables in async functions."]],["read-more",{"to":"https://github.com/nuxt/nuxt/issues/14269#issuecomment-1397352832","target":"_blank"},["p",{},"See the full explanation in this GitHub comment."]],["p",{},["strong",{},"Example of breaking code:"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// trying to access runtime config outside a composable\nconst config = useRuntimeConfig()\n\nexport const useMyComposable = () => {\n  // accessing runtime config here\n}\n","filename":"composables/example.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// trying to access runtime config outside a composable\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," config "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sZSNi"},"()\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useMyComposable "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"  // accessing runtime config here\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},["strong",{},"Example of working code:"]],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export const useMyComposable = () => {\n  // Because your composable is called in the right place in the lifecycle,\n  // useRuntimeConfig will work here\n  const config = useRuntimeConfig()\n\n  // ...\n}\n","filename":"composables/example.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," useMyComposable "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"  // Because your composable is called in the right place in the lifecycle,\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"  // useRuntimeConfig will work here\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"  const"],["span",{"class":"sZSNi"}," config"],["span",{"class":"sDfIl"}," ="],["span",{"class":"s3cPz"}," useRuntimeConfig"],["span",{"class":"sRlkE"},"()\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"  // ...\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}\n"]]]],["h2",{"id":"directory-based-auto-imports"},"Directory-based Auto-imports"],["p",{},"Nuxt directly auto-imports files created in defined directories:"],["ul",{},["li",{},["code",{},"app/components/"]," for ",["a",{"href":"/docs/guide/directory-structure/app/components"},"Vue components"],"."],["li",{},["code",{},"app/composables/"]," for ",["a",{"href":"/docs/guide/directory-structure/app/composables"},"Vue composables"],"."],["li",{},["code",{},"app/utils/"]," for helper functions and other utilities."]],["link-example",{"to":"/docs/examples/features/auto-imports"}],["warning",{},["p",{},["strong",{},"Auto-imported ",["code",{},"ref"]," and ",["code",{},"computed"]," won''t be unwrapped in a component ",["code",{},"<template>"],"."]," ",["br",{}],"\nThis is due to how Vue works with refs that aren''t top-level to the template. You can read more about it ",["a",{"href":"https://vuejs.org/guide/essentials/reactivity-fundamentals.html#caveat-when-unwrapping-in-templates","rel":["nofollow"]},"in the Vue documentation"],"."]],["h3",{"id":"explicit-imports"},"Explicit Imports"],["p",{},"Nuxt exposes every auto-import with the ",["code",{},"#imports"]," alias that can be used to make the import explicit if needed:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nimport { ref, computed } from ''#imports''\n\nconst count = ref(1)\nconst double = computed(() => count.value * 2)\n</script>\n","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," ref"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," computed"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"#imports"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," count "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"1"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":5},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," double "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," computed"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," count"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value "],["span",{"class":"sDfIl"},"*"],["span",{"class":"sYRBq"}," 2"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["h3",{"id":"disabling-auto-imports"},"Disabling Auto-imports"],["p",{},"If you want to disable auto-importing composables and utilities, you can set ",["code",{},"imports.autoImport"]," to ",["code",{},"false"]," in the ",["code",{},"nuxt.config"]," file."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  imports: {\n    autoImport: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  imports"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    autoImport"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This will disable auto-imports completely but it''s still possible to use ",["a",{"href":"#explicit-imports"},"explicit imports"]," from ",["code",{},"#imports"],"."],["h3",{"id":"partially-disabling-auto-imports"},"Partially Disabling Auto-imports"],["p",{},"If you want framework-specific functions like ",["code",{},"ref"]," to remain auto-imported but wish to disable auto-imports for your own code (e.g., custom composables), you can set the ",["code",{},"imports.scan"]," option to ",["code",{},"false"]," in your ",["code",{},"nuxt.config.ts"]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  imports: {\n    scan: false\n  }\n})\n","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  imports"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    scan"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"With this configuration:"],["ul",{},["li",{},"Framework functions like ",["code",{},"ref"],", ",["code",{},"computed"],", or ",["code",{},"watch"]," will still work without needing manual imports."],["li",{},"Custom code, such as composables, will need to be manually imported in your files."]],["warning",{},["p",{},["strong",{},"Caution:"]," This setup has certain limitations:"],["ul",{},["li",{},"If you structure your project with layers, you will need to explicitly import the composables from each layer, rather than relying on auto-imports."],["li",{},"This breaks the layer system’s override feature. If you use ",["code",{},"imports.scan: false"],", ensure you understand this side-effect and adjust your architecture accordingly."]]],["h2",{"id":"auto-imported-components"},"Auto-imported Components"],["p",{},"Nuxt also automatically imports components from your ",["code",{},"~/components"]," directory, although this is configured separately from auto-importing composables and utility functions."],["read-more",{"to":"/docs/guide/directory-structure/app/components"}],["p",{},"To disable auto-importing components from your own ",["code",{},"~/components"]," directory, you can set ",["code",{},"components.dirs"]," to an empty array (though note that this will not affect components added by modules)."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  components: {\n    dirs: []\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  components"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    dirs"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," []\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"auto-import-from-third-party-packages"},"Auto-import from Third-Party Packages"],["p",{},"Nuxt also allows auto-importing from third-party packages."],["tip",{},["p",{},"If you are using the Nuxt module for that package, it is likely that the module has already configured auto-imports for that package."]],["p",{},"For example, you could enable the auto-import of the ",["code",{},"useI18n"]," composable from the ",["code",{},"vue-i18n"]," package like this:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  imports: {\n    presets: [\n      {\n        from: ''vue-i18n'',\n        imports: [''useI18n'']\n      }\n    ]\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  imports"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    presets"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"        from"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"vue-i18n"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":6},["span",{"class":"sRlkE"},"        imports"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"useI18n"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"    ]\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["video-accordion",{"title":"Watch a video from Alexander Lichter on how to easily set up custom auto imports","video-id":"FT2LQJ2NvVI"}],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"built-in-auto-imports","depth":2,"text":"Built-in Auto-imports","children":[{"id":"vue-and-nuxt-composables","depth":3,"text":"Vue and Nuxt Composables"}]},{"id":"directory-based-auto-imports","depth":2,"text":"Directory-based Auto-imports","children":[{"id":"explicit-imports","depth":3,"text":"Explicit Imports"},{"id":"disabling-auto-imports","depth":3,"text":"Disabling Auto-imports"},{"id":"partially-disabling-auto-imports","depth":3,"text":"Partially Disabling Auto-imports"}]},{"id":"auto-imported-components","depth":2,"text":"Auto-imported Components"},{"id":"auto-import-from-third-party-packages","depth":2,"text":"Auto-import from Third-Party Packages"}]}}', 'Nuxt auto-imports components, composables, helper functions and Vue APIs.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/auto-imports', '{"title":"Auto-imports","description":"Nuxt auto-imports components, composables, helper functions and Vue APIs."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/1.auto-imports', NULL, 'snwkKZFloUbiYi-6LOGqjpLFSbiB8mHyCWWO0Fqzs8I'); -- snwkKZFloUbiYi-6LOGqjpLFSbiB8mHyCWWO0Fqzs8I
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/10.nuxt-lifecycle.md', 'Nuxt Lifecycle', '{"type":"minimark","value":[["p",{},"The goal of this chapter is to provide a high-level overview of the different parts of the framework, their execution order, and how they work together."],["h2",{"id":"server"},"Server"],["p",{},"On the server, the following steps are executed for every initial request to your application:"],["h3",{"id":"step-1-setup-nitro-server-and-nitro-plugins-once"},"Step 1: Setup Nitro Server and Nitro Plugins (Once)"],["p",{},"Nuxt is powered by ",["a",{"href":"https://nitro.build/","rel":["nofollow"]},"Nitro"],", a modern server engine."],["p",{},"When Nitro starts, it initializes and executes the plugins under the ",["code",{},"/server/plugins"]," directory. These plugins can:"],["ul",{},["li",{},"Capture and handle application-wide errors."],["li",{},"Register hooks that execute when Nitro shuts down."],["li",{},"Register hooks for request lifecycle events, such as modifying responses."]],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"Nitro plugins are executed only once when the server starts. In a serverless environment, the server boots on each incoming request, and so do the Nitro plugins. However, they are not awaited."]],["read-more",{"to":"/docs/guide/directory-structure/server#server-plugins"}],["h3",{"id":"step-2-nitro-server-middleware"},"Step 2: Nitro Server Middleware"],["p",{},"After initializing the Nitro server, middleware under ",["code",{},"server/middleware/"]," is executed for every request. Middleware can be used for tasks such as authentication, logging, or request transformation."],["warning",{},["p",{},"Returning a value from middleware will terminate the request and send the returned value as the response. This behavior should generally be avoided to ensure proper request handling!"]],["read-more",{"to":"/docs/guide/directory-structure/server#server-middleware"}],["h3",{"id":"step-3-initialize-nuxt-and-execute-nuxt-app-plugins"},"Step 3: Initialize Nuxt and Execute Nuxt App Plugins"],["p",{},"The Vue and Nuxt instances are created first. Afterward, Nuxt executes its server plugins. This includes:"],["ul",{},["li",{},"Built-in plugins, such as Vue Router and ",["code",{},"unhead"],"."],["li",{},"Custom plugins located in the ",["code",{},"app/plugins/"]," directory, including those without a suffix (e.g., ",["code",{},"myPlugin.ts"],") and those with the ",["code",{},".server"]," suffix (e.g., ",["code",{},"myServerPlugin.server.ts"],")."]],["p",{},"Plugins execute in a specific order and may have dependencies on one another. For more details, including execution order and parallelism, refer to the ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Plugins documentation"],"."],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"After this step, Nuxt calls the ",["a",{"href":"/docs/api/advanced/hooks#app-hooks-runtime"},["code",{},"app:created"]]," hook, which can be used to execute additional logic."]],["read-more",{"to":"/docs/guide/directory-structure/plugins"}],["h3",{"id":"step-4-route-validation"},"Step 4: Route Validation"],["p",{},"After initializing plugins and before executing middleware, Nuxt calls the ",["code",{},"validate"]," method if it is defined in the ",["code",{},"definePageMeta"]," function. The ",["code",{},"validate"]," method, which can be synchronous or asynchronous, is often used to validate dynamic route parameters."],["ul",{},["li",{},"The ",["code",{},"validate"]," function should return ",["code",{},"true"]," if the parameters are valid."],["li",{},"If validation fails, it should return ",["code",{},"false"]," or an object containing a ",["code",{},"statusCode"]," and/or ",["code",{},"statusMessage"]," to terminate the request."]],["p",{},"For more information, see the ",["a",{"href":"/docs/getting-started/routing#route-validation"},"Route Validation documentation"],"."],["read-more",{"to":"/docs/getting-started/routing#route-validation"}],["h3",{"id":"step-5-execute-nuxt-app-middleware"},"Step 5: Execute Nuxt App Middleware"],["p",{},"Middleware allows you to run code before navigating to a particular route. It is often used for tasks such as authentication, redirection, or logging."],["p",{},"In Nuxt, there are three types of middleware:"],["ul",{},["li",{},["strong",{},"Global route middleware"]],["li",{},["strong",{},"Named route middleware"]],["li",{},["strong",{},"Anonymous (or inline) route middleware"]]],["p",{},"Nuxt executes all global middleware on the initial page load (both on server and client) and then again before any client-side navigation. Named and anonymous middleware are executed only on the routes specified in the middleware property of the page(route) meta defined in the corresponding page components."],["p",{},"For details about each type and examples, see the ",["a",{"href":"/docs/guide/directory-structure/app/middleware"},"Middleware documentation"],"."],["p",{},"Any redirection on the server will result in a ",["code",{},"Location:"]," header being sent to the browser; the browser then makes a fresh request to this new location. All application state will be reset when this happens, unless persisted in a cookie."],["read-more",{"to":"/docs/guide/directory-structure/app/middleware"}],["h3",{"id":"step-6-render-page-and-components"},"Step 6: Render Page and Components"],["p",{},"Nuxt renders the page and its components and fetches any required data with ",["code",{},"useFetch"]," and ",["code",{},"useAsyncData"]," during this step. Since there are no dynamic updates and no DOM operations occur on the server, Vue lifecycle hooks such as ",["code",{},"onBeforeMount"],", ",["code",{},"onMounted"],", and subsequent hooks are ",["strong",{},"NOT"]," executed during SSR."],["p",{},"By default, Vue pauses dependency tracking during SSR for better performance."],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"There is no reactivity on the server side because Vue SSR renders the app top-down as static HTML, making it impossible to go back and modify content that has already been rendered."]],["important",{},["p",{},"You should avoid code that produces side effects that need cleanup in root scope of ",["code",{},"<script setup>"],". An example of such side effects is setting up timers with ",["code",{},"setInterval"],". In client-side only code we may setup a timer and then tear it down in ",["code",{},"onBeforeUnmount"]," or ",["code",{},"onUnmounted"],". However, because the unmount hooks will never be called during SSR, the timers will stay around forever. To avoid this, move your side-effect code into ",["code",{},"onMounted"]," instead."]],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://youtu.be/dZSNW07sO-A"},["p",{},"Watch a video from Daniel Roe explaining Server Rendering and Global State."]],["h3",{"id":"step-7-generate-html-output"},"Step 7: Generate HTML Output"],["p",{},"After all required data is fetched and the components are rendered, Nuxt combines the rendered components with settings from ",["code",{},"unhead"]," to generate a complete HTML document. This HTML, along with the associated data, is then sent back to the client to complete the SSR process."],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"After rendering the Vue application to HTML, Nuxt calls the ",["a",{"href":"/docs/api/advanced/hooks#app-hooks-runtime"},["code",{},"app:rendered"]]," hook."]],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"Before finalizing and sending the HTML, Nitro will call the ",["a",{"href":"/docs/api/advanced/hooks#nitro-app-hooks-runtime-server-side"},["code",{},"render:html"]]," hook. This hook allows you to manipulate the generated HTML, such as injecting additional scripts or modifying meta tags."]],["h2",{"id":"client-browser"},"Client (browser)"],["p",{},"This part of the lifecycle is fully executed in the browser, no matter which Nuxt mode you''ve chosen."],["h3",{"id":"step-1-initialize-nuxt-and-execute-nuxt-app-plugins"},"Step 1: Initialize Nuxt and Execute Nuxt App Plugins"],["p",{},"This step is similar to the server-side execution and includes both built-in and custom plugins."],["p",{},"Custom plugins in the ",["code",{},"app/plugins/"]," directory, such as those without a suffix (e.g., ",["code",{},"myPlugin.ts"],") and with the ",["code",{},".client"]," suffix (e.g., ",["code",{},"myClientPlugin.client.ts"],"), are executed on the client side."],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"After this step, Nuxt calls the ",["a",{"href":"/docs/api/advanced/hooks#app-hooks-runtime"},["code",{},"app:created"]]," hook, which can be used to execute additional logic."]],["read-more",{"to":"/docs/guide/directory-structure/plugins"}],["h3",{"id":"step-2-route-validation"},"Step 2: Route Validation"],["p",{},"This step is the same as the server-side execution and includes the ",["code",{},"validate"]," method if defined in the ",["code",{},"definePageMeta"]," function."],["h3",{"id":"step-3-execute-nuxt-app-middleware"},"Step 3: Execute Nuxt App Middleware"],["p",{},"Nuxt middleware runs on both the server and the client. If you want certain code to run in specific environments, consider splitting it by using ",["code",{},"import.meta.client"]," for the client and ",["code",{},"import.meta.server"]," for the server."],["read-more",{"to":"/docs/guide/directory-structure/app/middleware#when-middleware-runs"}],["h3",{"id":"step-4-mount-vue-application-and-hydration"},"Step 4: Mount Vue Application and Hydration"],["p",{},"Calling ",["code",{},"app.mount(''#__nuxt'')"]," mounts the Vue application to the DOM. If the application uses SSR or SSG mode, Vue performs a hydration step to make the client-side application interactive. During hydration, Vue recreates the application (excluding ",["a",{"href":"/docs/guide/directory-structure/app/components#server-components"},"Server Components"],"), matches each component to its corresponding DOM nodes, and attaches DOM event listeners."],["p",{},"To ensure proper hydration, it''s important to maintain consistency between the data on the server and the client. For API requests, it is recommended to use ",["code",{},"useAsyncData"],", ",["code",{},"useFetch"],", or other SSR-friendly composables. These methods ensure that the data fetched on the server side is reused during hydration, avoiding repeated requests. Any new requests should only be triggered after hydration, preventing hydration errors."],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"Before mounting the Vue application, Nuxt calls the ",["a",{"href":"/docs/api/advanced/hooks#app-hooks-runtime"},["code",{},"app:beforeMount"]]," hook."]],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"After mounting the Vue application, Nuxt calls the ",["a",{"href":"/docs/api/advanced/hooks#app-hooks-runtime"},["code",{},"app:mounted"]]," hook."]],["h3",{"id":"step-5-vue-lifecycle"},"Step 5: Vue Lifecycle"],["p",{},"Unlike on the server, the browser executes the full ",["a",{"href":"https://vuejs.org/guide/essentials/lifecycle","rel":["nofollow"]},"Vue lifecycle"],"."]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"server","depth":2,"text":"Server","children":[{"id":"step-1-setup-nitro-server-and-nitro-plugins-once","depth":3,"text":"Step 1: Setup Nitro Server and Nitro Plugins (Once)"},{"id":"step-2-nitro-server-middleware","depth":3,"text":"Step 2: Nitro Server Middleware"},{"id":"step-3-initialize-nuxt-and-execute-nuxt-app-plugins","depth":3,"text":"Step 3: Initialize Nuxt and Execute Nuxt App Plugins"},{"id":"step-4-route-validation","depth":3,"text":"Step 4: Route Validation"},{"id":"step-5-execute-nuxt-app-middleware","depth":3,"text":"Step 5: Execute Nuxt App Middleware"},{"id":"step-6-render-page-and-components","depth":3,"text":"Step 6: Render Page and Components"},{"id":"step-7-generate-html-output","depth":3,"text":"Step 7: Generate HTML Output"}]},{"id":"client-browser","depth":2,"text":"Client (browser)","children":[{"id":"step-1-initialize-nuxt-and-execute-nuxt-app-plugins","depth":3,"text":"Step 1: Initialize Nuxt and Execute Nuxt App Plugins"},{"id":"step-2-route-validation","depth":3,"text":"Step 2: Route Validation"},{"id":"step-3-execute-nuxt-app-middleware","depth":3,"text":"Step 3: Execute Nuxt App Middleware"},{"id":"step-4-mount-vue-application-and-hydration","depth":3,"text":"Step 4: Mount Vue Application and Hydration"},{"id":"step-5-vue-lifecycle","depth":3,"text":"Step 5: Vue Lifecycle"}]}]}}', 'Understanding the lifecycle of Nuxt applications can help you gain deeper insights into how the framework operates, especially for both server-side and client-side rendering.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/nuxt-lifecycle', '{"title":"Nuxt Lifecycle","description":"Understanding the lifecycle of Nuxt applications can help you gain deeper insights into how the framework operates, especially for both server-side and client-side rendering."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/10.nuxt-lifecycle', NULL, 'VRk6mvY8Q6IumjVx8jWkzkXe2V0vJM2evOWk33jrPOw'); -- VRk6mvY8Q6IumjVx8jWkzkXe2V0vJM2evOWk33jrPOw
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/2.vuejs-development.md', 'Vue.js Development', '{"type":"minimark","value":[["p",{},"Nuxt integrates Vue 3, the new major release of Vue that enables new patterns for Nuxt users."],["note",{},["p",{},"While an in-depth knowledge of Vue is not required to use Nuxt, we recommend that you read the documentation and go through some of the examples on ",["a",{"href":"https://vuejs.org","rel":["nofollow"]},"vuejs.org"],"."]],["p",{},"Nuxt has always used Vue as a frontend framework."],["p",{},"We chose to build Nuxt on top of Vue for these reasons:"],["ul",{},["li",{},"The reactivity model of Vue, where a change in data automatically triggers a change in the interface."],["li",{},"The component-based templating, while keeping HTML as the common language of the web, enables intuitive patterns to keep your interface consistent, yet powerful."],["li",{},"From small projects to large web applications, Vue keeps performing well at scale to ensure that your application keeps delivering value to your users."]],["h2",{"id":"vue-with-nuxt"},"Vue with Nuxt"],["h3",{"id":"single-file-components"},"Single File Components"],["p",{},["a",{"href":"https://vuejs.org/guide/scaling-up/sfc.html","rel":["nofollow"]},"Vue’s single-file components"]," (SFC or ",["code",{},"*.vue"]," files) encapsulate the markup (",["code",{},"<template>"],"), logic (",["code",{},"<script>"],") and styling (",["code",{},"<style>"],") of a Vue component. Nuxt provides a zero-config experience for SFCs with ",["a",{"href":"https://vite.dev/guide/features.html#hot-module-replacement","rel":["nofollow"]},"Hot Module Replacement"]," that offers a seamless developer experience."],["h3",{"id":"auto-imports"},"Auto-imports"],["p",{},"Every Vue component created in the ",["a",{"href":"/docs/guide/directory-structure/app/components"},["code",{},"app/components/"]]," directory of a Nuxt project will be available in your project without having to import it. If a component is not used anywhere, your production’s code will not include it."],["read-more",{"to":"/docs/guide/concepts/auto-imports"}],["h3",{"id":"vue-router"},"Vue Router"],["p",{},"Most applications need multiple pages and a way to navigate between them. This is called ",["strong",{},"routing"],". Nuxt uses an ",["a",{"href":"/docs/guide/directory-structure/app/pages"},["code",{},"app/pages/"]]," directory and naming conventions to directly create routes mapped to your files using the official ",["a",{"href":"https://router.vuejs.org","rel":["nofollow"]},"Vue Router library"],"."],["read-more",{"to":"/docs/getting-started/routing"}],["link-example",{"to":"/docs/examples/features/auto-imports"}],["h2",{"id":"differences-with-nuxt-2-vue-2"},"Differences with Nuxt 2 / Vue 2"],["p",{},"Nuxt 3+ is based on Vue 3. The new major Vue version introduces several changes that Nuxt takes advantage of:"],["ul",{},["li",{},"Better performance"],["li",{},"Composition API"],["li",{},"TypeScript support"]],["h3",{"id":"faster-rendering"},"Faster Rendering"],["p",{},"The Vue Virtual DOM (VDOM) has been rewritten from the ground up and allows for better rendering performance. On top of that, when working with compiled Single-File Components, the Vue compiler can further optimize them at build time by separating static and dynamic markup."],["p",{},"This results in faster first rendering (component creation) and updates, and less memory usage. In Nuxt 3, it enables faster server-side rendering as well."],["h3",{"id":"smaller-bundle"},"Smaller Bundle"],["p",{},"With Vue 3 and Nuxt 3, a focus has been put on bundle size reduction. With version 3, most of Vue’s functionality, including template directives and built-in components, is tree-shakable. Your production bundle will not include them if you don’t use them."],["p",{},"This way, a minimal Vue 3 application can be reduced to 12 kb gzipped."],["h3",{"id":"composition-api"},"Composition API"],["p",{},"The only way to provide data and logic to components in Vue 2 was through the Options API, which allows you to return data and methods to a template with pre-defined properties like ",["code",{},"data"]," and ",["code",{},"methods"],":"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script>\nexport default {\n  data() {\n    return {\n      count: 0\n    }\n  },\n  methods: {\n    increment(){\n      this.count++\n    }\n  }\n}\n</script>\n","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  data"],["span",{"class":"sDfIl"},"()"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"    return"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sRlkE"},"      count"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 0\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":8},["span",{"class":"sRlkE"},"  methods"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":9},["span",{"class":"sRlkE"},"    increment"],["span",{"class":"sDfIl"},"(){\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"      this."],["span",{"class":"sZSNi"},"count"],["span",{"class":"sDfIl"},"++\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"The ",["a",{"href":"https://vuejs.org/guide/extras/composition-api-faq.html","rel":["nofollow"]},"Composition API"]," introduced in Vue 3 is not a replacement of the Options API, but it enables better logic reuse throughout an application, and is a more natural way to group code by concern in complex components."],["p",{},"Used with the ",["code",{},"setup"]," keyword in the ",["code",{},"<script>"]," definition, here is the above component rewritten with Composition API and Nuxt 3’s auto-imported Reactivity APIs:"],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst count = ref(0)\nconst increment = () => count.value++\n</script>\n","filename":"components/Counter.vue","language":"vue","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," count "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"0"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," increment "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," count"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"++\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"The goal of Nuxt is to provide a great developer experience around the Composition API."],["ul",{},["li",{},"Use auto-imported ",["a",{"href":"https://vuejs.org/api/reactivity-core.html","rel":["nofollow"]},"Reactivity functions"]," from Vue and Nuxt ",["a",{"href":"/docs/api/composables/use-async-data"},"built-in composables"],"."],["li",{},"Write your own auto-imported reusable functions in the ",["a",{"href":"/docs/guide/directory-structure/app/composables"},["code",{},"app/composables/"]," directory"],"."]],["h3",{"id":"typescript-support"},"TypeScript Support"],["p",{},"Both Vue 3 and Nuxt 3+ are written in TypeScript. A fully typed codebase prevents mistakes and documents APIs usage. This doesn’t mean that you have to write your application in TypeScript to take advantage of it. With Nuxt 3, you can opt-in by renaming your file from ",["code",{},".js"]," to ",["code",{},".ts"]," , or add ",["code",{},"<script setup lang=\"ts\">"]," in a component."],["read-more",{"to":"/docs/guide/concepts/typescript"},["p",{},"Read the details about TypeScript in Nuxt"]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"vue-with-nuxt","depth":2,"text":"Vue with Nuxt","children":[{"id":"single-file-components","depth":3,"text":"Single File Components"},{"id":"auto-imports","depth":3,"text":"Auto-imports"},{"id":"vue-router","depth":3,"text":"Vue Router"}]},{"id":"differences-with-nuxt-2-vue-2","depth":2,"text":"Differences with Nuxt 2 / Vue 2","children":[{"id":"faster-rendering","depth":3,"text":"Faster Rendering"},{"id":"smaller-bundle","depth":3,"text":"Smaller Bundle"},{"id":"composition-api","depth":3,"text":"Composition API"},{"id":"typescript-support","depth":3,"text":"TypeScript Support"}]}]}}', 'Nuxt uses Vue.js and adds features such as component auto-imports, file-based routing and composables for an SSR-friendly usage.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/vuejs-development', '{"title":"Vue.js Development","description":"Nuxt uses Vue.js and adds features such as component auto-imports, file-based routing and composables for an SSR-friendly usage."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/2.vuejs-development', NULL, 'Dnz3DUyS4Khe3TH4sMO7FcVWlGYq5_jShss9aEd08nk'); -- Dnz3DUyS4Khe3TH4sMO7FcVWlGYq5_jShss9aEd08nk
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/3.rendering.md', 'Rendering Modes', '{"type":"minimark","value":[["p",{},"Nuxt supports different rendering modes, ",["a",{"href":"#universal-rendering"},"universal rendering"],", ",["a",{"href":"#client-side-rendering"},"client-side rendering"]," but also offers ",["a",{"href":"#hybrid-rendering"},"hybrid-rendering"]," and the possibility to render your application on ",["a",{"href":"#edge-side-rendering"},"CDN Edge Servers"],"."],["p",{},"Both the browser and server can interpret JavaScript code to turn Vue.js components into HTML elements. This step is called ",["strong",{},"rendering"],". Nuxt supports both ",["strong",{},"universal"]," and ",["strong",{},"client-side"]," rendering. The two approaches have benefits and downsides that we will cover."],["p",{},"By default, Nuxt uses ",["strong",{},"universal rendering"]," to provide better user experience, performance and to optimize search engine indexing, but you can switch rendering modes in ",["a",{"href":"/docs/api/nuxt-config#ssr"},"one line of configuration"],"."],["h2",{"id":"universal-rendering"},"Universal Rendering"],["p",{},"This step is similar to traditional ",["strong",{},"server-side rendering"]," performed by PHP or Ruby applications. When the browser requests a URL with universal rendering enabled, Nuxt runs the JavaScript (Vue.js) code in a server environment and returns a fully rendered HTML page to the browser. Nuxt may also return a fully rendered HTML page from a cache if the page was generated in advance. Users immediately get the entirety of the initial content of the application, contrary to client-side rendering."],["p",{},"Once the HTML document has been downloaded, the browser interprets this and Vue.js takes control of the document. The same JavaScript code that once ran on the server runs on the client (browser) ",["strong",{},"again"]," in the background now enabling interactivity (hence ",["strong",{},"Universal rendering"],") by binding its listeners to the HTML. This is called ",["strong",{},"Hydration"],". When hydration is complete, the page can enjoy benefits such as dynamic interfaces and page transitions."],["p",{},"Universal rendering allows a Nuxt application to provide quick page load times while preserving the benefits of client-side rendering. Furthermore, as the content is already present in the HTML document, crawlers can index it without overhead."],["p",{},["img",{"alt":"Users can access the static content when the HTML document is loaded. Hydration then allows page''s interactivity","src":"/assets/docs/concepts/rendering/ssr.svg"}]],["p",{},["strong",{},"What''s server-rendered and what''s client-rendered?"]],["p",{},"It is normal to ask which parts of a Vue file runs on the server and/or the client in universal rendering mode."],["pre",{"className":"language-vue shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<script setup lang=\"ts\">\nconst counter = ref(0); // executes in server and client environments\n\nconst handleClick = () => {\n  counter.value++; // executes only in a client environment\n};\n</script>\n\n<template>\n  <div>\n    <p>Count: {{ counter }}</p>\n    <button @click=\"handleClick\">Increment</button>\n  </div>\n</template>\n","filename":"app/app.vue","language":"vue","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"script"],["span",{"class":"smZ93"}," setup"],["span",{"class":"smZ93"}," lang"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"ts"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":2},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," counter "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," ref"],["span",{"class":"sZSNi"},"("],["span",{"class":"sYRBq"},"0"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},";"],["span",{"class":"sWuyu"}," // executes in server and client environments\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," handleClick "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ()"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sZSNi"},"  counter"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"value"],["span",{"class":"sDfIl"},"++;"],["span",{"class":"sWuyu"}," // executes only in a client environment\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"};\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"script"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"<"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"  <"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Count: {{ counter }}"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"p"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    <"],["span",{"class":"sRlkE"},"button"],["span",{"class":"smZ93"}," @click"],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},"handleClick"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},">"],["span",{"class":"sZSNi"},"Increment"],["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"button"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"  </"],["span",{"class":"sRlkE"},"div"],["span",{"class":"sDfIl"},">\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"</"],["span",{"class":"sRlkE"},"template"],["span",{"class":"sDfIl"},">\n"]]]],["p",{},"On the initial request, the ",["code",{},"counter"]," ref is initialized in the server since it is rendered inside the ",["code",{},"<p>"]," tag. The contents of ",["code",{},"handleClick"]," is never executed here. During hydration in the browser, the ",["code",{},"counter"]," ref is re-initialized. The ",["code",{},"handleClick"]," finally binds itself to the button; Therefore it is reasonable to deduce that the body of ",["code",{},"handleClick"]," will always run in a browser environment."],["p",{},["a",{"href":"/docs/guide/directory-structure/app/middleware"},"Middlewares"]," and ",["a",{"href":"/docs/guide/directory-structure/app/pages"},"pages"]," run in the server and on the client during hydration. ",["a",{"href":"/docs/guide/directory-structure/plugins"},"Plugins"]," can be rendered on the server or client or both. ",["a",{"href":"/docs/guide/directory-structure/app/components"},"Components"]," can be forced to run on the client only as well. ",["a",{"href":"/docs/guide/directory-structure/app/composables"},"Composables"]," and ",["a",{"href":"/docs/guide/directory-structure/app/utils"},"utilities"]," are rendered based on the context of their usage."],["p",{},["strong",{},"Benefits of server-side rendering:"]],["ul",{},["li",{},["strong",{},"Performance"],": Users can get immediate access to the page''s content because browsers can display static content much faster than JavaScript-generated content. At the same time, Nuxt preserves the interactivity of a web application during the hydration process."],["li",{},["strong",{},"Search Engine Optimization"],": Universal rendering delivers the entire HTML content of the page to the browser as a classic server application. Web crawlers can directly index the page''s content, which makes Universal rendering a great choice for any content that you want to index quickly."]],["p",{},["strong",{},"Downsides of server-side rendering:"]],["ul",{},["li",{},["strong",{},"Development constraints:"]," Server and browser environments don''t provide the same APIs, and it can be tricky to write code that can run on both sides seamlessly. Fortunately, Nuxt provides guidelines and specific variables to help you determine where a piece of code is executed."],["li",{},["strong",{},"Cost:"]," A server needs to be running in order to render pages on the fly. This adds a monthly cost like any traditional server. However, the server calls are highly reduced thanks to universal rendering with the browser taking over on client-side navigation. A cost reduction is possible by leveraging ",["a",{"href":"#edge-side-rendering"},"edge-side-rendering"],"."]],["p",{},"Universal rendering is very versatile and can fit almost any use case, and is especially appropriate for any content-oriented websites: ",["strong",{},"blogs, marketing websites, portfolios, e-commerce sites, and marketplaces."]],["tip",{},["p",{},"For more examples about writing Vue code without hydration mismatch, see ",["a",{"href":"https://vuejs.org/guide/scaling-up/ssr.html#hydration-mismatch","rel":["nofollow"]},"the Vue docs"],"."]],["important",{},["p",{},"When importing a library that relies on browser APIs and has side effects, make sure the component importing it is only called client-side. Bundlers do not treeshake imports of modules containing side effects."]],["h2",{"id":"client-side-rendering"},"Client-Side Rendering"],["p",{},"Out of the box, a traditional Vue.js application is rendered in the browser (or ",["strong",{},"client"],"). Then, Vue.js generates HTML elements after the browser downloads and parses all the JavaScript code containing the instructions to create the current interface."],["p",{},["img",{"alt":"Users have to wait for the browser to download, parse and execute the JavaScript before seeing the page''s content","src":"/assets/docs/concepts/rendering/csr.svg"}]],["p",{},["strong",{},"Benefits of client-side rendering:"]],["ul",{},["li",{},["strong",{},"Development speed"],": When working entirely on the client-side, we don''t have to worry about the server compatibility of the code, for example, by using browser-only APIs like the ",["code",{},"window"]," object."],["li",{},["strong",{},"Cheaper:"]," Running a server adds a cost of infrastructure as you would need to run on a platform that supports JavaScript. We can host client-only applications on any static server with HTML, CSS, and JavaScript files."],["li",{},["strong",{},"Offline:"]," Because code entirely runs in the browser, it can nicely keep working while the internet is unavailable."]],["p",{},["strong",{},"Downsides of client-side rendering:"]],["ul",{},["li",{},["strong",{},"Performance"],": The user has to wait for the browser to download, parse and run JavaScript files. Depending on the network for the download part and the user''s device for the parsing and execution, this can take some time and impact the user''s experience."],["li",{},["strong",{},"Search Engine Optimization"],": Indexing and updating the content delivered via client-side rendering takes more time than with a server-rendered HTML document. This is related to the performance drawback we discussed, as search engine crawlers won''t wait for the interface to be fully rendered on their first try to index the page. Your content will take more time to show and update in search results pages with pure client-side rendering."]],["p",{},"Client-side rendering is a good choice for heavily interactive ",["strong",{},"web applications"]," that don''t need indexing or whose users visit frequently. It can leverage browser caching to skip the download phase on subsequent visits, such as ",["strong",{},"SaaS, back-office applications, or online games"],"."],["p",{},"You can enable client-side only rendering with Nuxt in your ",["code",{},"nuxt.config.ts"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  ssr: false\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["note",{},["p",{},"If you do use ",["code",{},"ssr: false"],", you should also place an HTML file in ",["code",{},"~/spa-loading-template.html"]," with some HTML you would like to use to render a loading screen that will be rendered until your app is hydrated."],["read-more",{"title":"SPA Loading Template","to":"/docs/api/configuration/nuxt-config#spaloadingtemplate"}]],["video-accordion",{"title":"Watch a video from Alexander Lichter about Building a plain SPA with Nuxt","video-id":"7Lr0QTP1Ro8"}],["h3",{"id":"deploying-a-static-client-rendered-app"},"Deploying a Static Client-Rendered App"],["p",{},"If you deploy your app to ",["a",{"href":"/docs/getting-started/deployment#static-hosting"},"static hosting"]," with the ",["code",{},"nuxt generate"]," or ",["code",{},"nuxt build --prerender"]," commands, then by default, Nuxt will render every page as a separate static HTML file."],["warning",{},["p",{},"If you prerender your app with the ",["code",{},"nuxt generate"]," or ",["code",{},"nuxt build --prerender"]," commands, then you will not be able to use any server endpoints as no server will be included in your output folder. If you need server functionality, use ",["code",{},"nuxt build"]," instead."]],["p",{},"If you are using purely client-side rendering, then this might be unnecessary. You might only need a single ",["code",{},"index.html"]," file, plus ",["code",{},"200.html"]," and ",["code",{},"404.html"]," fallbacks, which you can tell your static web host to serve up for all requests."],["p",{},"In order to achieve this we can change how the routes are prerendered. Just add this to ",["a",{"href":"/docs/api/advanced/hooks#nuxt-hooks-build-time"},"your hooks"]," in your ",["code",{},"nuxt.config.ts"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  hooks: {\n    ''prerender:routes'' ({ routes }) {\n      routes.clear() // Do not generate any routes (except the defaults)\n    }\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"prerender:routes"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," ({"],["span",{"class":"s1nJG"}," routes"],["span",{"class":"sDfIl"}," })"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sZSNi"},"      routes"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"clear"],["span",{"class":"sRlkE"},"() "],["span",{"class":"sWuyu"},"// Do not generate any routes (except the defaults)\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  },\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"This will produce three files:"],["ul",{},["li",{},["code",{},"index.html"]],["li",{},["code",{},"200.html"]],["li",{},["code",{},"404.html"]]],["p",{},"The ",["code",{},"200.html"]," and ",["code",{},"404.html"]," might be useful for the hosting provider you are using."],["h4",{"id":"skipping-client-fallback-generation"},"Skipping Client Fallback Generation"],["p",{},"When prerendering a client-rendered app, Nuxt will generate ",["code",{},"index.html"],", ",["code",{},"200.html"]," and ",["code",{},"404.html"]," files by default. However, if you need to prevent any (or all) of these files from being generated in your build, you can use the ",["code",{},"''prerender:generate''"]," hook from ",["a",{"href":"/docs/getting-started/prerendering#prerendergenerate-nitro-hook"},"Nitro"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  ssr: false,\n  nitro: {\n    hooks: {\n      ''prerender:generate''(route) {\n        const routesToSkip = [''/index.html'', ''/200.html'', ''/404.html'']\n        if (routesToSkip.includes(route.route)) {\n          route.skip = true\n        }\n      }\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"  nitro"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sRlkE"},"    hooks"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"      ''"],["span",{"class":"sGFVr"},"prerender:generate"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},"("],["span",{"class":"s1nJG"},"route"],["span",{"class":"sDfIl"},")"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":6},["span",{"class":"smZ93"},"        const"],["span",{"class":"sZSNi"}," routesToSkip"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sRlkE"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"/index.html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/200.html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/404.html"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sRlkE"},"]\n"]],["span",{"class":"line","line":7},["span",{"class":"s8R28"},"        if"],["span",{"class":"sRlkE"}," ("],["span",{"class":"sZSNi"},"routesToSkip"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"includes"],["span",{"class":"sRlkE"},"("],["span",{"class":"sZSNi"},"route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"route"],["span",{"class":"sRlkE"},")) "],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":8},["span",{"class":"sZSNi"},"          route"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"skip"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":9},["span",{"class":"sDfIl"},"        }\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"      }\n"]],["span",{"class":"line","line":11},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":13},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"hybrid-rendering"},"Hybrid Rendering"],["p",{},"Hybrid rendering allows different caching rules per route using ",["strong",{},"Route Rules"]," and decides how the server should respond to a new request on a given URL."],["p",{},"Previously every route/page of a Nuxt application and server must use the same rendering mode, universal or client-side. In various cases, some pages could be generated at build time, while others should be client-side rendered. For example, think of a content website with an admin section. Every content page should be primarily static and generated once, but the admin section requires registration and behaves more like a dynamic application."],["p",{},"Nuxt includes route rules and hybrid rendering support. Using route rules you can define rules for a group of nuxt routes, change rendering mode or assign a cache strategy based on route!"],["p",{},"Nuxt server will automatically register corresponding middleware and wrap routes with cache handlers using ",["a",{"href":"https://nitro.build/guide/cache","rel":["nofollow"]},"Nitro caching layer"],"."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  routeRules: {\n    // Homepage pre-rendered at build time\n    ''/'': { prerender: true },\n    // Products page generated on demand, revalidates in background, cached until API response changes\n    ''/products'': { swr: true },\n    // Product pages generated on demand, revalidates in background, cached for 1 hour (3600 seconds)\n    ''/products/**'': { swr: 3600 },\n    // Blog posts page generated on demand, revalidates in background, cached on CDN for 1 hour (3600 seconds)\n    ''/blog'': { isr: 3600 },\n    // Blog post page generated on demand once until next deployment, cached on CDN\n    ''/blog/**'': { isr: true },\n    // Admin dashboard renders only on client-side\n    ''/admin/**'': { ssr: false },\n    // Add cors headers on API routes\n    ''/api/**'': { cors: true },\n    // Redirects legacy urls\n    ''/old-page'': { redirect: ''/new-page'' }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  routeRules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Homepage pre-rendered at build time\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":5},["span",{"class":"sWuyu"},"    // Products page generated on demand, revalidates in background, cached until API response changes\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/products"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," swr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":7},["span",{"class":"sWuyu"},"    // Product pages generated on demand, revalidates in background, cached for 1 hour (3600 seconds)\n"]],["span",{"class":"line","line":8},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/products/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," swr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 3600"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"    // Blog posts page generated on demand, revalidates in background, cached on CDN for 1 hour (3600 seconds)\n"]],["span",{"class":"line","line":10},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/blog"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," isr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 3600"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":11},["span",{"class":"sWuyu"},"    // Blog post page generated on demand once until next deployment, cached on CDN\n"]],["span",{"class":"line","line":12},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/blog/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," isr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":13},["span",{"class":"sWuyu"},"    // Admin dashboard renders only on client-side\n"]],["span",{"class":"line","line":14},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/admin/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":15},["span",{"class":"sWuyu"},"    // Add cors headers on API routes\n"]],["span",{"class":"line","line":16},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/api/**"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," cors"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true"],["span",{"class":"sDfIl"}," },\n"]],["span",{"class":"line","line":17},["span",{"class":"sWuyu"},"    // Redirects legacy urls\n"]],["span",{"class":"line","line":18},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"/old-page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," redirect"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"/new-page"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":19},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":20},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"route-rules"},"Route Rules"],["p",{},"The different properties you can use are the following:"],["ul",{},["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"redirect"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," string"]]," - Define server-side redirects."],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"ssr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," boolean"]]," - Disables server-side rendering of the HTML for sections of your app and make them render only in the browser with ",["code",{},"ssr: false"]],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"cors"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," boolean"]]," - Automatically adds cors headers with ",["code",{},"cors: true"]," - you can customize the output by overriding with ",["code",{},"headers"]],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"headers"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," object"]]," - Add specific headers to sections of your site - for example, your assets"],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"swr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," number "],["span",{"class":"sDfIl"},"|"],["span",{"class":"sZSNi"}," boolean"]]," - Add cache headers to the server response and cache it on the server or reverse proxy for a configurable TTL (time to live). The ",["code",{},"node-server"]," preset of Nitro is able to cache the full response. When the TTL expired, the cached response will be sent while the page will be regenerated in the background. If true is used, a ",["code",{},"stale-while-revalidate"]," header is added without a MaxAge."],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"isr"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," number "],["span",{"class":"sDfIl"},"|"],["span",{"class":"sZSNi"}," boolean"]]," - The behavior is the same as ",["code",{},"swr"]," except that we are able to add the response to the CDN cache on platforms that support this (currently Netlify or Vercel). If ",["code",{},"true"]," is used, the content persists until the next deploy inside the CDN."],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"prerender"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," boolean"]]," - Prerenders routes at build time and includes them in your build as static assets"],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"noScripts"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," boolean"]]," - Disables rendering of Nuxt scripts and JS resource hints for sections of your site."],["li",{},["code",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","language":"ts","style":""},["span",{"class":"s52Pk"},"appMiddleware"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," string "],["span",{"class":"sDfIl"},"|"],["span",{"class":"sZSNi"}," string[] "],["span",{"class":"sDfIl"},"|"],["span",{"class":"sZSNi"}," Record"],["span",{"class":"sDfIl"},"<"],["span",{"class":"sZSNi"},"string"],["span",{"class":"sDfIl"},","],["span",{"class":"sZSNi"}," boolean"],["span",{"class":"sDfIl"},">"]]," - Allows you to define middleware that should or should not run for page paths within the Vue app part of your application (that is, not your Nitro routes)"]],["p",{},"Whenever possible, route rules will be automatically applied to the deployment platform''s native rules for optimal performances (Netlify and Vercel are currently supported)."],["important",{},["p",{},"Note that Hybrid Rendering is not available when using ",["a",{"href":"/docs/api/commands/generate"},["code",{},"nuxt generate"]],"."]],["p",{},["strong",{},"Examples:"]],["card-group",{},["card",{":ui":"{\"icon\":{\"base\":\"text-black dark:text-white\"}}","icon":"i-simple-icons-github","target":"_blank","title":"Nuxt Vercel ISR","to":"https://github.com/danielroe/nuxt-vercel-isr"},["p",{},"Example of a Nuxt application with hybrid rendering deployed on Vercel."]]],["h2",{"id":"edge-side-rendering"},"Edge-Side Rendering"],["p",{},"Edge-Side Rendering (ESR) is a powerful feature introduced in Nuxt that allows the rendering of your Nuxt application closer to your users via edge servers of a Content Delivery Network (CDN). By leveraging ESR, you can ensure improved performance and reduced latency, thereby providing an enhanced user experience."],["p",{},"With ESR, the rendering process is pushed to the ''edge'' of the network - the CDN''s edge servers. Note that ESR is more a deployment target than an actual rendering mode."],["p",{},"When a request for a page is made, instead of going all the way to the original server, it''s intercepted by the nearest edge server. This server generates the HTML for the page and sends it back to the user. This process minimizes the physical distance the data has to travel, ",["strong",{},"reducing latency and loading the page faster"],"."],["p",{},"Edge-side rendering is possible thanks to ",["a",{"href":"https://nitro.build/","rel":["nofollow"]},"Nitro"],", the ",["a",{"href":"/docs/guide/concepts/server-engine"},"server engine"]," that powers Nuxt. It offers cross-platform support for Node.js, Deno, Cloudflare Workers, and more."],["p",{},"The current platforms where you can leverage ESR are:"],["ul",{},["li",{},["a",{"href":"https://pages.cloudflare.com","rel":["nofollow"]},"Cloudflare Pages"]," with zero configuration using the git integration and the ",["code",{},"nuxt build"]," command"],["li",{},["a",{"href":"https://vercel.com/features/edge-functions","rel":["nofollow"]},"Vercel Edge Functions"]," using the ",["code",{},"nuxt build"]," command and ",["code",{},"NITRO_PRESET=vercel-edge"]," environment variable"],["li",{},["a",{"href":"https://www.netlify.com/products/#netlify-edge-functions","rel":["nofollow"]},"Netlify Edge Functions"]," using the ",["code",{},"nuxt build"]," command and ",["code",{},"NITRO_PRESET=netlify-edge"]," environment variable"]],["p",{},"Note that ",["strong",{},"Hybrid Rendering"]," can be used when using Edge-Side Rendering with route rules."],["p",{},"You can explore open source examples deployed on some of the platform mentioned above:"],["card-group",{},["card",{":ui":"{\"icon\":{\"base\":\"text-black dark:text-white\"}}","icon":"i-simple-icons-github","target":"_blank","title":"Nuxt Todos Edge","to":"https://github.com/atinux/nuxt-todos-edge"},["p",{},"A todos application with user authentication, SSR and SQLite."]],["card",{":ui":"{\"icon\":{\"base\":\"text-black dark:text-white\"}}","icon":"i-simple-icons-github","target":"_blank","title":"Atinotes","to":"https://github.com/atinux/atinotes"},["p",{},"An editable website with universal rendering based on Cloudflare KV."]]],["style",{},"html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"universal-rendering","depth":2,"text":"Universal Rendering"},{"id":"client-side-rendering","depth":2,"text":"Client-Side Rendering","children":[{"id":"deploying-a-static-client-rendered-app","depth":3,"text":"Deploying a Static Client-Rendered App"}]},{"id":"hybrid-rendering","depth":2,"text":"Hybrid Rendering","children":[{"id":"route-rules","depth":3,"text":"Route Rules"}]},{"id":"edge-side-rendering","depth":2,"text":"Edge-Side Rendering"}]}}', 'Learn about the different rendering modes available in Nuxt.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/rendering', '{"title":"Rendering Modes","description":"Learn about the different rendering modes available in Nuxt."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/3.rendering', NULL, 'tKSH-htuMSH12_oSXvzYWrtlwIHEL-ZNa48WjW_8GsA'); -- tKSH-htuMSH12_oSXvzYWrtlwIHEL-ZNa48WjW_8GsA
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/4.server-engine.md', 'Server Engine', '{"type":"minimark","value":[["p",{},"While building Nuxt, we created a new server engine: ",["a",{"href":"https://nitro.build/","rel":["nofollow"]},"Nitro"],"."],["p",{},"It is shipped with many features:"],["ul",{},["li",{},"Cross-platform support for Node.js, browsers, service workers and more."],["li",{},"Serverless support out-of-the-box."],["li",{},"API routes support."],["li",{},"Automatic code-splitting and async-loaded chunks."],["li",{},"Hybrid mode for static + serverless sites."],["li",{},"Development server with hot module reloading."]],["h2",{"id":"api-layer"},"API Layer"],["p",{},"Server ",["a",{"href":"/docs/guide/directory-structure/server#api-routes"},"API endpoints"]," and ",["a",{"href":"/docs/guide/directory-structure/server#server-middleware"},"Middleware"]," are added by Nitro that internally uses ",["a",{"href":"https://github.com/h3js/h3","rel":["nofollow"]},"h3"],"."],["p",{},"Key features include:"],["ul",{},["li",{},"Handlers can directly return objects/arrays for an automatically-handled JSON response"],["li",{},"Handlers can return promises, which will be awaited (",["code",{},"res.end()"]," and ",["code",{},"next()"]," are also supported)"],["li",{},"Helper functions for body parsing, cookie handling, redirects, headers and more"]],["p",{},"Check out ",["a",{"href":"https://github.com/h3js/h3","rel":["nofollow"]},"the h3 docs"]," for more information."],["read-more",{"to":"/docs/guide/directory-structure/server#server-routes"},["p",{},"Learn more about the API layer in the ",["code",{},"server/"]," directory."]],["h2",{"id":"direct-api-calls"},"Direct API Calls"],["p",{},"Nitro allows ''direct'' calling of routes via the globally-available ",["a",{"href":"/docs/api/utils/dollarfetch"},["code",{},"$fetch"]]," helper. This will make an API call to the server if run on the browser, but will directly call the relevant function if run on the server, ",["strong",{},"saving an additional API call"],"."],["p",{},["a",{"href":"/docs/api/utils/dollarfetch"},["code",{},"$fetch"]]," API is using ",["a",{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"ofetch"],", with key features including:"],["ul",{},["li",{},"Automatic parsing of JSON responses (with access to raw response if needed)"],["li",{},"Request body and params are automatically handled, with correct ",["code",{},"Content-Type"]," headers"]],["p",{},"For more information on ",["code",{},"$fetch"]," features, check out ",["a",{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"ofetch"],"."],["h2",{"id":"typed-api-routes"},"Typed API Routes"],["p",{},"When using API routes (or middleware), Nitro will generate typings for these routes as long as you are returning a value instead of using ",["code",{},"res.end()"]," to send a response."],["p",{},"You can access these types when using ",["a",{"href":"/docs/api/utils/dollarfetch"},["code",{},"$fetch()"]]," or ",["a",{"href":"/docs/api/composables/use-fetch"},["code",{},"useFetch()"]],"."],["h2",{"id":"standalone-server"},"Standalone Server"],["p",{},"Nitro produces a standalone server dist that is independent of ",["code",{},"node_modules"],"."],["p",{},"The server in Nuxt 2 is not standalone and requires part of Nuxt core to be involved by running ",["code",{},"nuxt start"]," (with the ",["a",{"href":"https://www.npmjs.com/package/nuxt-start","rel":["nofollow"]},["code",{},"nuxt-start"]]," or ",["a",{"href":"https://www.npmjs.com/package/nuxt","rel":["nofollow"]},["code",{},"nuxt"]]," distributions) or custom programmatic usage, which is fragile and prone to breakage and not suitable for serverless and service worker environments."],["p",{},"Nuxt generates this dist when running ",["code",{},"nuxt build"]," into a ",["a",{"href":"/docs/guide/directory-structure/output"},["code",{},".output"]]," directory."],["p",{},"The output contains runtime code to run your Nuxt server in any environment (including experimental browser service workers!) and serve your static files, making it a true hybrid framework for the JAMstack. In addition, Nuxt implements a native storage layer, supporting multi-source drivers and local assets."],["read-more",{"to":"https://github.com/nitrojs/nitro","icon":"i-simple-icons-github","target":"_blank"},["p",{},"Read more about Nitro engine on GitHub."]]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"api-layer","depth":2,"text":"API Layer"},{"id":"direct-api-calls","depth":2,"text":"Direct API Calls"},{"id":"typed-api-routes","depth":2,"text":"Typed API Routes"},{"id":"standalone-server","depth":2,"text":"Standalone Server"}]}}', 'Nuxt is powered by a new server engine: Nitro.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/server-engine', '{"title":"Server Engine","description":"Nuxt is powered by a new server engine: Nitro."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/4.server-engine', NULL, '1KTCALB-Irm_REHaeNx_z25ZlzjdFefP-RYF3n3hu8I'); -- 1KTCALB-Irm_REHaeNx_z25ZlzjdFefP-RYF3n3hu8I
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/5.modules.md', 'Modules', '{"type":"minimark","value":[["h2",{"id":"exploring-nuxt-modules"},"Exploring Nuxt Modules"],["p",{},"When developing production-grade applications with Nuxt you might find that the framework''s core functionality is not enough. Nuxt can be extended with configuration options and plugins, but maintaining these customizations across multiple projects can be tedious, repetitive and time-consuming. On the other hand, supporting every project''s needs out of the box would make Nuxt very complex and hard to use."],["p",{},"This is one of the reasons why Nuxt provides a module system that makes it possible to extend the core. Nuxt modules are async functions that sequentially run when starting Nuxt in development mode using ",["a",{"href":"/docs/api/commands/dev"},["code",{},"nuxt dev"]]," or building a project for production with ",["a",{"href":"/docs/api/commands/build"},["code",{},"nuxt build"]],". They can override templates, configure webpack loaders, add CSS libraries, and perform many other useful tasks."],["p",{},"Best of all, Nuxt modules can be distributed in npm packages. This makes it possible for them to be reused across projects and shared with the community, helping create an ecosystem of high-quality add-ons."],["read-more",{"to":"/modules"},["p",{},"Explore Nuxt Modules"]],["h2",{"id":"add-nuxt-modules"},"Add Nuxt Modules"],["p",{},"Once you have installed the modules you can add them to your ",["a",{"href":"/docs/guide/directory-structure/nuxt-config"},["code",{},"nuxt.config.ts"]]," file under the ",["code",{},"modules"]," property. Module developers usually provide additional steps and details for usage."],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  modules: [\n    // Using package name (recommended usage)\n    ''@nuxtjs/example'',\n\n    // Load a local module\n    ''./modules/example'',\n\n    // Add module with inline-options\n    [''./modules/example'', { token: ''123'' }],\n\n    // Inline module definition\n    async (inlineOptions, nuxt) => { }\n  ]\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  modules"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," [\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"    // Using package name (recommended usage)\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"@nuxtjs/example"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sWuyu"},"    // Load a local module\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sGFVr"},"./modules/example"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":8},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":9},["span",{"class":"sWuyu"},"    // Add module with inline-options\n"]],["span",{"class":"line","line":10},["span",{"class":"sZSNi"},"    ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./modules/example"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," token"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"123"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"}," }"],["span",{"class":"sZSNi"},"]"],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":11},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":12},["span",{"class":"sWuyu"},"    // Inline module definition\n"]],["span",{"class":"line","line":13},["span",{"class":"smZ93"},"    async"],["span",{"class":"sDfIl"}," ("],["span",{"class":"s1nJG"},"inlineOptions"],["span",{"class":"sDfIl"},","],["span",{"class":"s1nJG"}," nuxt"],["span",{"class":"sDfIl"},")"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":14},["span",{"class":"sZSNi"},"  ]\n"]],["span",{"class":"line","line":15},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["warning",{},["p",{},"Nuxt modules are now build-time-only, and the ",["code",{},"buildModules"]," property used in Nuxt 2 is deprecated in favor of ",["code",{},"modules"],"."]],["h2",{"id":"create-a-nuxt-module"},"Create a Nuxt Module"],["p",{},"Everyone has the opportunity to develop modules and we cannot wait to see what you will build."],["read-more",{"to":"/docs/guide/going-further/modules","title":"Module Author Guide"}],["style",{},"html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"exploring-nuxt-modules","depth":2,"text":"Exploring Nuxt Modules"},{"id":"add-nuxt-modules","depth":2,"text":"Add Nuxt Modules"},{"id":"create-a-nuxt-module","depth":2,"text":"Create a Nuxt Module"}]}}', 'Nuxt provides a module system to extend the framework core and simplify integrations.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/modules', '{"title":"Modules","description":"Nuxt provides a module system to extend the framework core and simplify integrations."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/5.modules', NULL, '-ndHdDwHm_o2eTgGLZC3aofBh8YQwiv7-sDjRlWbX6c'); -- -ndHdDwHm_o2eTgGLZC3aofBh8YQwiv7-sDjRlWbX6c
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/7.esm.md', 'ES Modules', '{"type":"minimark","value":[["p",{},"This guide helps explain what ES Modules are and how to make a Nuxt app (or upstream library) compatible with ESM."],["h2",{"id":"background"},"Background"],["h3",{"id":"commonjs-modules"},"CommonJS Modules"],["p",{},"CommonJS (CJS) is a format introduced by Node.js that allows sharing functionality between isolated JavaScript modules (",["a",{"href":"https://nodejs.org/api/modules.html","rel":["nofollow"]},"read more"],").\nYou might be already familiar with this syntax:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const a = require(''./a'')\n\nmodule.exports.a = a\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," a "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," require"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./a"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"module.exports."],["span",{"class":"sZSNi"},"a "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," a\n"]]]],["p",{},"Bundlers like webpack and Rollup support this syntax and allow you to use modules written in CommonJS in the browser."],["h3",{"id":"esm-syntax"},"ESM Syntax"],["p",{},"Most of the time, when people talk about ESM vs. CJS, they are talking about a different syntax for writing ",["a",{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules","rel":["nofollow"]},"modules"],"."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import a from ''./a''\n\nexport { a }\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," a "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"./a"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," a"],["span",{"class":"sDfIl"}," }\n"]]]],["p",{},"Before ECMAScript Modules (ESM) became a standard (it took more than 10 years!), tooling like\n",["a",{"href":"https://webpack.js.org/guides/ecma-script-modules","rel":["nofollow"]},"webpack"]," and even languages like TypeScript started supporting so-called ",["strong",{},"ESM syntax"],".\nHowever, there are some key differences with actual spec; here''s ",["a",{"href":"https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive","rel":["nofollow"]},"a helpful explainer"],"."],["h3",{"id":"what-is-native-esm"},"What is ''Native'' ESM?"],["p",{},"You may have been writing your app using ESM syntax for a long time. After all, it''s natively supported by the browser, and in Nuxt 2 we compiled all the code you wrote to the appropriate format (CJS for server, ESM for browser)."],["p",{},"When adding modules to your package, things were a little different. A sample library might expose both CJS and ESM versions, and let us pick which one we wanted:"],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"name\": \"sample-library\",\n  \"main\": \"dist/sample-library.cjs.js\",\n  \"module\": \"dist/sample-library.esm.js\"\n}\n","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"name"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"sample-library"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"main"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"dist/sample-library.cjs.js"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},",\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"module"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"dist/sample-library.esm.js"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}\n"]]]],["p",{},"So in Nuxt 2, the bundler (webpack) would pull in the CJS file (''main'') for the server build and use the ESM file (''module'') for the client build."],["p",{},"However, in recent Node.js LTS releases, it is now possible to ",["a",{"href":"https://nodejs.org/api/esm.html","rel":["nofollow"]},"use native ESM module"]," within Node.js. That means that Node.js itself can process JavaScript using ESM syntax, although it doesn''t do it by default. The two most common ways to enable ESM syntax are:"],["ul",{},["li",{},"set ",["code",{},"\"type\": \"module\""]," within your ",["code",{},"package.json"]," and keep using ",["code",{},".js"]," extension"],["li",{},"use the ",["code",{},".mjs"]," file extensions (recommended)"]],["p",{},"This is what we do for Nuxt Nitro; we output a ",["code",{},".output/server/index.mjs"]," file. That tells Node.js to treat this file as a native ES module."],["h3",{"id":"what-are-valid-imports-in-a-nodejs-context"},"What Are Valid Imports in a Node.js Context?"],["p",{},"When you ",["code",{},"import"]," a module rather than ",["code",{},"require"]," it, Node.js resolves it differently. For example, when you import ",["code",{},"sample-library"],", Node.js will look not for the ",["code",{},"main"]," but for the ",["code",{},"exports"]," or ",["code",{},"module"]," entry in that library''s ",["code",{},"package.json"],"."],["p",{},"This is also true of dynamic imports, like ",["code",{},"const b = await import(''sample-library'')"],"."],["p",{},"Node supports the following kinds of imports (see ",["a",{"href":"https://nodejs.org/api/packages.html#determining-module-system","rel":["nofollow"]},"docs"],"):"],["ol",{},["li",{},"files ending in ",["code",{},".mjs"]," - these are expected to use ESM syntax"],["li",{},"files ending in ",["code",{},".cjs"]," - these are expected to use CJS syntax"],["li",{},"files ending in ",["code",{},".js"]," - these are expected to use CJS syntax unless their ",["code",{},"package.json"]," has ",["code",{},"\"type\": \"module\""]]],["h3",{"id":"what-kinds-of-problems-can-there-be"},"What Kinds of Problems Can There Be?"],["p",{},"For a long time module authors have been producing ESM-syntax builds but using conventions like ",["code",{},".esm.js"]," or ",["code",{},".es.js"],", which they have added to the ",["code",{},"module"]," field in their ",["code",{},"package.json"],". This hasn''t been a problem until now because they have only been used by bundlers like webpack, which don''t especially care about the file extension."],["p",{},"However, if you try to import a package with an ",["code",{},".esm.js"]," file in a Node.js ESM context, it won''t work, and you''ll get an error like:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"(node:22145) Warning: To load an ES module, set \"type\": \"module\" in the package.json or use the .mjs extension.\n/path/to/index.js:1\n\nexport default {}\n^^^^^^\n\nSyntaxError: Unexpected token ''export''\n    at wrapSafe (internal/modules/cjs/loader.js:1001:16)\n    at Module._compile (internal/modules/cjs/loader.js:1049:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)\n    ....\n    at async Object.loadESM (internal/process/esm_loader.js:68:5)\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"("],["span",{"class":"s52Pk"},"node:22145"],["span",{"class":"sDfIl"},")"],["span",{"class":"s52Pk"}," Warning:"],["span",{"class":"sGFVr"}," To"],["span",{"class":"sGFVr"}," load"],["span",{"class":"sGFVr"}," an"],["span",{"class":"sGFVr"}," ES"],["span",{"class":"sGFVr"}," module,"],["span",{"class":"sGFVr"}," set"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"type"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"module"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sGFVr"}," in"],["span",{"class":"sGFVr"}," the"],["span",{"class":"sGFVr"}," package.json"],["span",{"class":"sGFVr"}," or"],["span",{"class":"sGFVr"}," use"],["span",{"class":"sGFVr"}," the"],["span",{"class":"sGFVr"}," .mjs"],["span",{"class":"sGFVr"}," extension.\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"/path/to/index.js:1\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"smZ93"},"export"],["span",{"class":"sZSNi"}," default "],["span",{"class":"sDfIl"},"{}\n"]],["span",{"class":"line","line":5},["span",{"class":"s52Pk"},"^^^^^^\n"]],["span",{"class":"line","line":6},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":7},["span",{"class":"s52Pk"},"SyntaxError:"],["span",{"class":"sGFVr"}," Unexpected"],["span",{"class":"sGFVr"}," token"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"export"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," wrapSafe"],["span",{"class":"sZSNi"}," (internal/modules/cjs/loader.js:1001:16)\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," Module._compile"],["span",{"class":"sZSNi"}," (internal/modules/cjs/loader.js:1049:27)\n"]],["span",{"class":"line","line":10},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," Object.Module._extensions..js"],["span",{"class":"sZSNi"}," (internal/modules/cjs/loader.js:1114:10)\n"]],["span",{"class":"line","line":11},["span",{"class":"s3cPz"},"    ....\n"]],["span",{"class":"line","line":12},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," async"],["span",{"class":"sGFVr"}," Object.loadESM"],["span",{"class":"sZSNi"}," (internal/process/esm_loader.js:68:5)\n"]]]],["p",{},"You might also get this error if you have a named import from an ESM-syntax build that Node.js thinks is CJS:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"file:///path/to/index.mjs:5\nimport { named } from ''sample-library''\n         ^^^^^\nSyntaxError: Named export ''named'' not found. The requested module ''sample-library'' is a CommonJS module, which may not support all module.exports as named exports.\n\nCommonJS modules can always be imported via the default export, for example using:\n\nimport pkg from ''sample-library'';\nconst { named } = pkg;\n\n    at ModuleJob._instantiate (internal/modules/esm/module_job.js:120:21)\n    at async ModuleJob.run (internal/modules/esm/module_job.js:165:5)\n    at async Loader.import (internal/modules/esm/loader.js:177:24)\n    at async Object.loadESM (internal/process/esm_loader.js:68:5)\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"file:///path/to/index.mjs:5\n"]],["span",{"class":"line","line":2},["span",{"class":"s52Pk"},"import"],["span",{"class":"sGFVr"}," {"],["span",{"class":"sGFVr"}," named"],["span",{"class":"sGFVr"}," }"],["span",{"class":"sGFVr"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"sample-library"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"class":"s52Pk"},"         ^^^^^\n"]],["span",{"class":"line","line":4},["span",{"class":"s52Pk"},"SyntaxError:"],["span",{"class":"sGFVr"}," Named"],["span",{"class":"sGFVr"}," export"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"named"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"}," not"],["span",{"class":"sGFVr"}," found."],["span",{"class":"sGFVr"}," The"],["span",{"class":"sGFVr"}," requested"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"sample-library"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"}," is"],["span",{"class":"sGFVr"}," a"],["span",{"class":"sGFVr"}," CommonJS"],["span",{"class":"sGFVr"}," module,"],["span",{"class":"sGFVr"}," which"],["span",{"class":"sGFVr"}," may"],["span",{"class":"sGFVr"}," not"],["span",{"class":"sGFVr"}," support"],["span",{"class":"sGFVr"}," all"],["span",{"class":"sGFVr"}," module.exports"],["span",{"class":"sGFVr"}," as"],["span",{"class":"sGFVr"}," named"],["span",{"class":"sGFVr"}," exports.\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"s52Pk"},"CommonJS"],["span",{"class":"sGFVr"}," modules"],["span",{"class":"sGFVr"}," can"],["span",{"class":"sGFVr"}," always"],["span",{"class":"sGFVr"}," be"],["span",{"class":"sGFVr"}," imported"],["span",{"class":"sGFVr"}," via"],["span",{"class":"sGFVr"}," the"],["span",{"class":"sGFVr"}," default"],["span",{"class":"sGFVr"}," export,"],["span",{"class":"sGFVr"}," for"],["span",{"class":"sGFVr"}," example"],["span",{"class":"sGFVr"}," using:\n"]],["span",{"class":"line","line":7},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":8},["span",{"class":"s52Pk"},"import"],["span",{"class":"sGFVr"}," pkg"],["span",{"class":"sGFVr"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"sample-library"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":9},["span",{"class":"s52Pk"},"const"],["span",{"class":"sGFVr"}," {"],["span",{"class":"sGFVr"}," named"],["span",{"class":"sGFVr"}," }"],["span",{"class":"sGFVr"}," ="],["span",{"class":"sGFVr"}," pkg"],["span",{"class":"sDfIl"},";\n"]],["span",{"class":"line","line":10},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":11},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," ModuleJob._instantiate"],["span",{"class":"sZSNi"}," (internal/modules/esm/module_job.js:120:21)\n"]],["span",{"class":"line","line":12},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," async"],["span",{"class":"sGFVr"}," ModuleJob.run"],["span",{"class":"sZSNi"}," (internal/modules/esm/module_job.js:165:5)\n"]],["span",{"class":"line","line":13},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," async"],["span",{"class":"sGFVr"}," Loader.import"],["span",{"class":"sZSNi"}," (internal/modules/esm/loader.js:177:24)\n"]],["span",{"class":"line","line":14},["span",{"class":"s52Pk"},"    at"],["span",{"class":"sGFVr"}," async"],["span",{"class":"sGFVr"}," Object.loadESM"],["span",{"class":"sZSNi"}," (internal/process/esm_loader.js:68:5)\n"]]]],["h2",{"id":"troubleshooting-esm-issues"},"Troubleshooting ESM Issues"],["p",{},"If you encounter these errors, the issue is almost certainly with the upstream library. They need to ",["a",{"href":"#library-author-guide"},"fix their library"]," to support being imported by Node."],["h3",{"id":"transpiling-libraries"},"Transpiling Libraries"],["p",{},"In the meantime, you can tell Nuxt not to try to import these libraries by adding them to ",["code",{},"build.transpile"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  build: {\n    transpile: [''sample-library'']\n  }\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  build"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    transpile"],["span",{"class":"sDfIl"},":"],["span",{"class":"sZSNi"}," ["],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"sample-library"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},"]\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["p",{},"You may find that you ",["em",{},"also"]," need to add other packages that are being imported by these libraries."],["h3",{"id":"aliasing-libraries"},"Aliasing Libraries"],["p",{},"In some cases, you may also need to manually alias the library to the CJS version, for example:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  alias: {\n    ''sample-library'': ''sample-library/dist/sample-library.cjs.js''\n  }\n})\n","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  alias"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    ''"],["span",{"class":"sRlkE"},"sample-library"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"sample-library/dist/sample-library.cjs.js"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h3",{"id":"default-exports"},"Default Exports"],["p",{},"A dependency with CommonJS format, can use ",["code",{},"module.exports"]," or ",["code",{},"exports"]," to provide a default export:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"module.exports = { test: 123 }\n// or\nexports.test = 123\n","filename":"node_modules/cjs-pkg/index.js","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"module.exports"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," test"],["span",{"class":"sDfIl"},":"],["span",{"class":"sYRBq"}," 123"],["span",{"class":"sDfIl"}," }\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// or\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"exports."],["span",{"class":"sZSNi"},"test "],["span",{"class":"sDfIl"},"="],["span",{"class":"sYRBq"}," 123\n"]]]],["p",{},"This normally works well if we ",["code",{},"require"]," such dependency:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const pkg = require(''cjs-pkg'')\n\nconsole.log(pkg) // { test: 123 }\n","filename":"test.cjs","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," pkg "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," require"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"cjs-pkg"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(pkg) "],["span",{"class":"sWuyu"},"// { test: 123 }\n"]]]],["p",{},["a",{"href":"https://nodejs.org/api/esm.html#interoperability-with-commonjs","rel":["nofollow"]},"Node.js in native ESM mode"],", ",["a",{"href":"https://www.typescriptlang.org/tsconfig#esModuleInterop","rel":["nofollow"]},"typescript with ",["code",{},"esModuleInterop"]," enabled"]," and bundlers such as webpack, provide a compatibility mechanism so that we can default import such library.\nThis mechanism is often referred to as \"interop require default\":"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import pkg from ''cjs-pkg''\n\nconsole.log(pkg) // { test: 123 }\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," pkg "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"cjs-pkg"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(pkg) "],["span",{"class":"sWuyu"},"// { test: 123 }\n"]]]],["p",{},"However, because of the complexities of syntax detection and different bundle formats, there is always a chance that the interop default fails and we end up with something like this:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import pkg from ''cjs-pkg''\n\nconsole.log(pkg) // { default: { test: 123 } }\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," pkg "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"cjs-pkg"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"(pkg) "],["span",{"class":"sWuyu"},"// { default: { test: 123 } }\n"]]]],["p",{},"Also when using dynamic import syntax (in both CJS and ESM files), we always have this situation:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import(''cjs-pkg'').then(console.log) // [Module: null prototype] { default: { test: ''123'' } }\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"import"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"cjs-pkg"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"then"],["span",{"class":"sZSNi"},"(console"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"log) "],["span",{"class":"sWuyu"},"// [Module: null prototype] { default: { test: ''123'' } }\n"]]]],["p",{},"In this case, we need to manually interop the default export:"],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"// Static import\nimport { default as pkg } from ''cjs-pkg''\n\n// Dynamic import\nimport(''cjs-pkg'').then(m => m.default || m).then(console.log)\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sWuyu"},"// Static import\n"]],["span",{"class":"line","line":2},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"s8R28"}," default"],["span",{"class":"s8R28"}," as"],["span",{"class":"sZSNi"}," pkg"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"cjs-pkg"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":3},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":4},["span",{"class":"sWuyu"},"// Dynamic import\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"import"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"cjs-pkg"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"then"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"m"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," m"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"default "],["span",{"class":"sDfIl"},"||"],["span",{"class":"sZSNi"}," m)"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"then"],["span",{"class":"sZSNi"},"(console"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"log)\n"]]]],["p",{},"For handling more complex situations and more safety, we recommend and internally use ",["a",{"href":"https://github.com/unjs/mlly","rel":["nofollow"]},"mlly"]," in Nuxt that can preserve named exports."],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { interopDefault } from ''mlly''\n\n// Assuming the shape is { default: { foo: ''bar'' }, baz: ''qux'' }\nimport myModule from ''my-module''\n\nconsole.log(interopDefault(myModule)) // { foo: ''bar'', baz: ''qux'' }\n","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," interopDefault"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"mlly"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sWuyu"},"// Assuming the shape is { default: { foo: ''bar'' }, baz: ''qux'' }\n"]],["span",{"class":"line","line":4},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," myModule "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-module"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":5},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":6},["span",{"class":"sZSNi"},"console"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"log"],["span",{"class":"sZSNi"},"("],["span",{"class":"s3cPz"},"interopDefault"],["span",{"class":"sZSNi"},"(myModule)) "],["span",{"class":"sWuyu"},"// { foo: ''bar'', baz: ''qux'' }\n"]]]],["h2",{"id":"library-author-guide"},"Library Author Guide"],["p",{},"The good news is that it''s relatively simple to fix issues of ESM compatibility. There are two main options:"],["ol",{},["li",{},["strong",{},"You can rename your ESM files to end with ",["code",{},".mjs"],"."],["br",{}],["em",{},"This is the recommended and simplest approach."]," You may have to sort out issues with your library''s dependencies and possibly with your build system, but in most cases, this should fix the problem for you. It''s also recommended to rename your CJS files to end with ",["code",{},".cjs"],", for the greatest explicitness."],["li",{},["strong",{},"You can opt to make your entire library ESM-only"],".",["br",{}],"This would mean setting ",["code",{},"\"type\": \"module\""]," in your ",["code",{},"package.json"]," and ensuring that your built library uses ESM syntax. However, you may face issues with your dependencies - and this approach means your library can ",["em",{},"only"]," be consumed in an ESM context."]],["h3",{"id":"migration"},"Migration"],["p",{},"The initial step from CJS to ESM is updating any usage of ",["code",{},"require"]," to use ",["code",{},"import"]," instead:"],["code-group",{},["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"module.exports = ...\n\nexports.hello = ...\n","filename":"Before","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"module.exports"],["span",{"class":"sDfIl"}," ="],["span",{"class":"sDfIl"}," ...\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"exports."],["span",{"class":"sZSNi"},"hello "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ...\n"]]]],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default ...\n\nexport const hello = ...\n","filename":"After","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"sDfIl"}," ...\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"s8R28"},"export"],["span",{"class":"smZ93"}," const"],["span",{"class":"sZSNi"}," hello "],["span",{"class":"sDfIl"},"="],["span",{"class":"sDfIl"}," ...\n"]]]]],["code-group",{},["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const myLib = require(''my-lib'')\n","filename":"Before","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," myLib "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," require"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my-lib"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import myLib from ''my-lib''\n// or\nconst myLib = await import(''my-lib'').then(lib => lib.default || lib)\n","filename":"After","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sZSNi"}," myLib "],["span",{"class":"s8R28"},"from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"my-lib"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"class":"sWuyu"},"// or\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," myLib "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"sDfIl"}," import"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my-lib"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"then"],["span",{"class":"sZSNi"},"("],["span",{"class":"s1nJG"},"lib"],["span",{"class":"smZ93"}," =>"],["span",{"class":"sZSNi"}," lib"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"default "],["span",{"class":"sDfIl"},"||"],["span",{"class":"sZSNi"}," lib)\n"]]]]],["p",{},"In ESM Modules, unlike CJS, ",["code",{},"require"],", ",["code",{},"require.resolve"],", ",["code",{},"__filename"]," and ",["code",{},"__dirname"]," globals are not available\nand should be replaced with ",["code",{},"import()"]," and ",["code",{},"import.meta.filename"],"."],["code-group",{},["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { join } from ''path''\n\nconst newDir = join(__dirname, ''new-dir'')\n","filename":"Before","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," join"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"path"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," newDir "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," join"],["span",{"class":"sZSNi"},"(__dirname"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"new-dir"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { fileURLToPath } from ''node:url''\n\nconst newDir = fileURLToPath(new URL(''./new-dir'', import.meta.url))\n","filename":"After","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," fileURLToPath"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"node:url"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," newDir "],["span",{"class":"sDfIl"},"="],["span",{"class":"s3cPz"}," fileURLToPath"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"new"],["span",{"class":"s3cPz"}," URL"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./new-dir"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"s8R28"}," import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url))\n"]]]]],["code-group",{},["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const someFile = require.resolve(''./lib/foo.js'')\n","filename":"Before","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," someFile "],["span",{"class":"sDfIl"},"="],["span",{"class":"sZSNi"}," require"],["span",{"class":"sDfIl"},"."],["span",{"class":"s3cPz"},"resolve"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"./lib/foo.js"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sZSNi"},")\n"]]]],["pre",{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"import { resolvePath } from ''mlly''\n\nconst someFile = await resolvePath(''my-lib'', { url: import.meta.url })\n","filename":"After","language":"js","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"import"],["span",{"class":"sDfIl"}," {"],["span",{"class":"sZSNi"}," resolvePath"],["span",{"class":"sDfIl"}," }"],["span",{"class":"s8R28"}," from"],["span",{"class":"sDfIl"}," ''"],["span",{"class":"sGFVr"},"mlly"],["span",{"class":"sDfIl"},"''\n"]],["span",{"class":"line","line":2},["span",{"emptyLinePlaceholder":true},"\n"]],["span",{"class":"line","line":3},["span",{"class":"smZ93"},"const"],["span",{"class":"sZSNi"}," someFile "],["span",{"class":"sDfIl"},"="],["span",{"class":"s8R28"}," await"],["span",{"class":"s3cPz"}," resolvePath"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"''"],["span",{"class":"sGFVr"},"my-lib"],["span",{"class":"sDfIl"},"''"],["span",{"class":"sDfIl"},","],["span",{"class":"sDfIl"}," {"],["span",{"class":"sRlkE"}," url"],["span",{"class":"sDfIl"},":"],["span",{"class":"s8R28"}," import"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"meta"],["span",{"class":"sDfIl"},"."],["span",{"class":"sZSNi"},"url "],["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]]],["h3",{"id":"best-practices"},"Best Practices"],["ul",{},["li",{},"Prefer named exports rather than default export. This helps reduce CJS conflicts. (see ",["a",{"href":"#default-exports"},"Default exports"]," section)"],["li",{},"Avoid depending on Node.js built-ins and CommonJS or Node.js-only dependencies as much as possible to make your library usable in Browsers and Edge Workers without needing Nitro polyfills."],["li",{},"Use new ",["code",{},"exports"]," field with conditional exports. (",["a",{"href":"https://nodejs.org/api/packages.html#conditional-exports","rel":["nofollow"]},"read more"],")."]],["pre",{"className":"language-json shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"{\n  \"exports\": {\n    \".\": {\n      \"import\": \"./dist/mymodule.mjs\"\n    }\n  }\n}\n","language":"json","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sDfIl"},"  \""],["span",{"class":"smZ93"},"exports"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sDfIl"},"    \""],["span",{"class":"s52Pk"},"."],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"      \""],["span",{"class":"sYRBq"},"import"],["span",{"class":"sDfIl"},"\""],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," \""],["span",{"class":"sGFVr"},"./dist/mymodule.mjs"],["span",{"class":"sDfIl"},"\"\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"    }\n"]],["span",{"class":"line","line":6},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":7},["span",{"class":"sDfIl"},"}\n"]]]],["style",{},"html pre.shiki code .smZ93, html code.shiki .smZ93{--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sYRBq, html code.shiki .sYRBq{--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C}html pre.shiki code .sWuyu, html code.shiki .sWuyu{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s1nJG, html code.shiki .s1nJG{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#90A4AE;--shiki-default-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"background","depth":2,"text":"Background","children":[{"id":"commonjs-modules","depth":3,"text":"CommonJS Modules"},{"id":"esm-syntax","depth":3,"text":"ESM Syntax"},{"id":"what-is-native-esm","depth":3,"text":"What is ''Native'' ESM?"},{"id":"what-are-valid-imports-in-a-nodejs-context","depth":3,"text":"What Are Valid Imports in a Node.js Context?"},{"id":"what-kinds-of-problems-can-there-be","depth":3,"text":"What Kinds of Problems Can There Be?"}]},{"id":"troubleshooting-esm-issues","depth":2,"text":"Troubleshooting ESM Issues","children":[{"id":"transpiling-libraries","depth":3,"text":"Transpiling Libraries"},{"id":"aliasing-libraries","depth":3,"text":"Aliasing Libraries"},{"id":"default-exports","depth":3,"text":"Default Exports"}]},{"id":"library-author-guide","depth":2,"text":"Library Author Guide","children":[{"id":"migration","depth":3,"text":"Migration"},{"id":"best-practices","depth":3,"text":"Best Practices"}]}]}}', 'Nuxt uses native ES modules.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/esm', '{"title":"ES Modules","description":"Nuxt uses native ES modules."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/7.esm', NULL, 'g82bHJ1Irar4l04EhZ4ohuj16twWzefCSpalCaAfJrQ'); -- g82bHJ1Irar4l04EhZ4ohuj16twWzefCSpalCaAfJrQ
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/8.typescript.md', 'TypeScript', '{"type":"minimark","value":[["h2",{"id":"type-checking"},"Type-checking"],["p",{},"By default, Nuxt doesn''t check types when you run ",["a",{"href":"/docs/api/commands/dev"},["code",{},"nuxt dev"]]," or ",["a",{"href":"/docs/api/commands/build"},["code",{},"nuxt build"]],", for performance reasons."],["p",{},"To enable type-checking at build or development time, install ",["code",{},"vue-tsc"]," and ",["code",{},"typescript"]," as development dependency:"],["code-group",{"sync":"pm"},["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npm install --save-dev vue-tsc typescript\n","filename":"npm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npm"],["span",{"class":"sGFVr"}," install"],["span",{"class":"sGFVr"}," --save-dev"],["span",{"class":"sGFVr"}," vue-tsc"],["span",{"class":"sGFVr"}," typescript\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"yarn add --dev vue-tsc typescript\n","filename":"yarn","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"yarn"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," --dev"],["span",{"class":"sGFVr"}," vue-tsc"],["span",{"class":"sGFVr"}," typescript\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"pnpm add -D vue-tsc typescript\n","filename":"pnpm","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"pnpm"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," vue-tsc"],["span",{"class":"sGFVr"}," typescript\n"]]]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"bun add -D vue-tsc typescript\n","filename":"bun","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"bun"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," -D"],["span",{"class":"sGFVr"}," vue-tsc"],["span",{"class":"sGFVr"}," typescript\n"]]]]],["p",{},"Then, run ",["a",{"href":"/docs/api/commands/typecheck"},["code",{},"nuxt typecheck"]]," command to check your types:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt typecheck\n","filename":"Terminal","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," typecheck\n"]]]],["p",{},"To enable type-checking at build or development time, you can also use the ",["a",{"href":"/docs/api/nuxt-config#typecheck"},["code",{},"typescript.typeCheck"]]," option in your ",["code",{},"nuxt.config"]," file:"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  typescript: {\n    typeCheck: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  typescript"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    typeCheck"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," true\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["h2",{"id":"auto-generated-types"},"Auto-generated Types"],["p",{},"When you run ",["code",{},"nuxt dev"]," or ",["code",{},"nuxt build"],", Nuxt generates the following files for IDE type support (and type checking):"],["h3",{"id":"nuxtnuxtdts"},["code",{},".nuxt/nuxt.d.ts"]],["p",{},"This file contains the types of any modules you are using, as well as the key types that Nuxt requires. Your IDE should recognize these types automatically."],["p",{},"Some of the references in the file are to files that are only generated within your ",["code",{},"buildDir"]," (",["code",{},".nuxt"],") and therefore for full typings, you will need to run ",["code",{},"nuxt dev"]," or ",["code",{},"nuxt build"],"."],["h3",{"id":"nuxttsconfigappjson"},["code",{},".nuxt/tsconfig.app.json"]],["p",{},"This file contains the recommended basic TypeScript configuration for your project, including resolved aliases injected by Nuxt or modules you are using, so you can get full type support and path auto-complete for aliases like ",["code",{},"~/file"]," or ",["code",{},"#build/file"],"."],["note",{},["p",{},"Consider using the ",["code",{},"imports"]," section of ",["a",{"href":"/docs/api/nuxt-config#imports"},"nuxt.config"]," to include directories beyond the default ones. This can be useful for auto-importing types which you''re using across your app."]],["p",{},["a",{"href":"/docs/guide/directory-structure/tsconfig"},"Read more about how to extend this configuration"],"."],["tip",{"icon":"i-lucide-video","target":"_blank","to":"https://youtu.be/umLI7SlPygY"},["p",{},"Watch a video from Daniel Roe explaining built-in Nuxt aliases."]],["note",{},["p",{},"Nitro also ",["a",{"href":"/docs/guide/concepts/server-engine#typed-api-routes"},"auto-generates types"]," for API routes. Plus, Nuxt also generates types for globally available components and ",["a",{"href":"/docs/guide/directory-structure/app/composables"},"auto-imports from your composables"],", plus other core functionality."]],["note",{},["p",{},"For backward compatibility, Nuxt still generates ",["code",{},"./.nuxt/tsconfig.json"],". However, we recommend using ",["a",{"href":"/docs/guide/directory-structure/tsconfig"},"TypeScript project references"]," with the new configuration files (",["code",{},".nuxt/tsconfig.app.json"],", ",["code",{},".nuxt/tsconfig.server.json"],", etc.) for better type safety and performance."],["p",{},"If you do extend from ",["code",{},"./.nuxt/tsconfig.json"],", keep in mind that all options will be overwritten by those defined in your ",["code",{},"tsconfig.json"],". Overwriting options such as ",["code",{},"\"compilerOptions.paths\""]," with your own configuration will lead TypeScript to not factor in the module resolutions, which can cause module resolutions such as ",["code",{},"#imports"]," to not be recognized."],["p",{},"In case you need to extend options further, you can use the ",["a",{"href":"/docs/api/nuxt-config#alias"},["code",{},"alias"]," property"]," within your ",["code",{},"nuxt.config"],". Nuxt will pick them up and extend the generated TypeScript configurations accordingly."]],["h2",{"id":"project-references"},"Project References"],["p",{},"Nuxt uses ",["a",{"href":"https://www.typescriptlang.org/docs/handbook/project-references.html","rel":["nofollow"]},"TypeScript project references"]," to improve type-checking performance and provide better IDE support. This feature allows TypeScript to break up your codebase into smaller, more manageable pieces."],["h3",{"id":"how-nuxt-uses-project-references"},"How Nuxt Uses Project References"],["p",{},"When you run ",["code",{},"nuxt dev"]," or ",["code",{},"nuxt build"],", Nuxt will generate multiple ",["code",{},"tsconfig.json"]," files for different parts of your application."],["ul",{},["li",{},["strong",{},["code",{},".nuxt/tsconfig.app.json"]]," - Configuration for your application code"],["li",{},["strong",{},["code",{},".nuxt/tsconfig.node.json"]]," - Configuration for your ",["code",{},"nuxt.config"]," and modules"],["li",{},["strong",{},["code",{},".nuxt/tsconfig.server.json"]]," - Configuration for server-side code (when applicable)"],["li",{},["strong",{},["code",{},".nuxt/tsconfig.shared.json"]]," - For code shared between app and server contexts (like types and non-environment specific utilities)"],["li",{},["strong",{},["code",{},".nuxt/tsconfig.json"]]," - Legacy configuration for backward compatibility"]],["p",{},"Each of these files is configured to reference the appropriate dependencies and provide optimal type-checking for their specific context."],["h3",{"id":"benefits-of-project-references"},"Benefits of Project References"],["ul",{},["li",{},["strong",{},"Faster builds"],": TypeScript can skip rebuilding unchanged projects"],["li",{},["strong",{},"Better IDE performance"],": Your IDE can provide faster IntelliSense and error checking"],["li",{},["strong",{},"Isolated compilation"],": Errors in one part of your application don''t prevent compilation of other parts"],["li",{},["strong",{},"Clearer dependency management"],": Each project explicitly declares its dependencies"]],["note",{},["p",{},"The project reference setup is handled automatically by Nuxt. You typically don''t need to modify these configurations manually, but understanding how they work can help you troubleshoot type-checking issues."]],["h3",{"id":"augmenting-types-with-project-references"},"Augmenting Types with Project References"],["p",{},"Since the project is divided into ",["strong",{},"multiple type contexts"],", it''s important to ",["strong",{},"augment types within the correct context"]," to ensure they are properly recognized."],["p",{},"For example, if you want to augment types for the ",["code",{},"app"]," context, the augmentation file should be placed in the ",["code",{},"app/"]," directory."],["p",{},"Similarly:"],["ul",{},["li",{},"For the ",["code",{},"server"]," context, place the augmentation file in the ",["code",{},"server/"]," directory."],["li",{},"For types that are ",["strong",{},"shared between the app and server"],", place the file in the ",["code",{},"shared/"]," directory."]],["warning",{},["p",{},"Augmenting types outside of these directories will not be recognized by TypeScript."]],["h2",{"id":"strict-checks"},"Strict Checks"],["p",{},"TypeScript comes with certain checks to give you more safety and analysis of your program."],["p",{},["a",{"href":"https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html#getting-stricter-checks","rel":["nofollow"]},"Strict checks"]," are enabled by default in Nuxt to give you greater type safety."],["p",{},"If you are currently converting your codebase to TypeScript, you may want to temporarily disable strict checks by setting ",["code",{},"strict"]," to ",["code",{},"false"]," in your ",["code",{},"nuxt.config"],":"],["pre",{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  typescript: {\n    strict: false\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"twoslash","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s8R28"},"export"],["span",{"class":"s8R28"}," default"],["span",{"class":"s3cPz"}," defineNuxtConfig"],["span",{"class":"sZSNi"},"("],["span",{"class":"sDfIl"},"{\n"]],["span",{"class":"line","line":2},["span",{"class":"sRlkE"},"  typescript"],["span",{"class":"sDfIl"},":"],["span",{"class":"sDfIl"}," {\n"]],["span",{"class":"line","line":3},["span",{"class":"sRlkE"},"    strict"],["span",{"class":"sDfIl"},":"],["span",{"class":"sbKd-"}," false\n"]],["span",{"class":"line","line":4},["span",{"class":"sDfIl"},"  }\n"]],["span",{"class":"line","line":5},["span",{"class":"sDfIl"},"}"],["span",{"class":"sZSNi"},")\n"]]]],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s8R28, html code.shiki .s8R28{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#39ADB5;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s3cPz, html code.shiki .s3cPz{--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF}html pre.shiki code .sZSNi, html code.shiki .sZSNi{--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8}html pre.shiki code .sDfIl, html code.shiki .sDfIl{--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF}html pre.shiki code .sRlkE, html code.shiki .sRlkE{--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178}html pre.shiki code .sbKd-, html code.shiki .sbKd-{--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"type-checking","depth":2,"text":"Type-checking"},{"id":"auto-generated-types","depth":2,"text":"Auto-generated Types","children":[{"id":"nuxtnuxtdts","depth":3,"text":".nuxt/nuxt.d.ts"},{"id":"nuxttsconfigappjson","depth":3,"text":".nuxt/tsconfig.app.json"}]},{"id":"project-references","depth":2,"text":"Project References","children":[{"id":"how-nuxt-uses-project-references","depth":3,"text":"How Nuxt Uses Project References"},{"id":"benefits-of-project-references","depth":3,"text":"Benefits of Project References"},{"id":"augmenting-types-with-project-references","depth":3,"text":"Augmenting Types with Project References"}]},{"id":"strict-checks","depth":2,"text":"Strict Checks"}]}}', 'Nuxt is fully typed and provides helpful shortcuts to ensure you have access to accurate type information when you are coding.', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/typescript', '{"title":"TypeScript","description":"Nuxt is fully typed and provides helpful shortcuts to ensure you have access to accurate type information when you are coding."}', 'nuxt/nuxtcore/live/2.guide/1.concepts/8.typescript', NULL, 'YcB9_OOrc7XDbvlopDewGgWVz2JNXcJ6jErzmiPtb1I'); -- YcB9_OOrc7XDbvlopDewGgWVz2JNXcJ6jErzmiPtb1I
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/1.concepts/9.code-style.md', 'Code Style', '{"type":"minimark","value":[["h2",{"id":"eslint"},"ESLint"],["p",{},"The recommended approach for Nuxt is to enable ESLint support using the ",["a",{"href":"https://eslint.nuxt.com/packages/module","rel":["nofollow"]},["code",{},"@nuxt/eslint"]]," module, that will setup project-aware ESLint configuration for you."],["callout",{"icon":"i-lucide-lightbulb"},["p",{},"The module is designed for the ",["a",{"href":"https://eslint.org/docs/latest/use/configure/configuration-files-new","rel":["nofollow"]},"new ESLint flat config format"]," with is the ",["a",{"href":"https://eslint.org/blog/2024/04/eslint-v9.0.0-released/","rel":["nofollow"]},"default format since ESLint v9"],". If you are using the legacy ",["code",{},".eslintrc"]," config, you will need to ",["a",{"href":"https://eslint.nuxt.com/packages/config#legacy-config-format","rel":["nofollow"]},"configure manually with ",["code",{},"@nuxt/eslint-config"]],". We highly recommend you to migrate over the flat config to be future-proof."]],["h2",{"id":"quick-setup"},"Quick Setup"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxt module add eslint\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s52Pk"},"npx"],["span",{"class":"sGFVr"}," nuxt"],["span",{"class":"sGFVr"}," module"],["span",{"class":"sGFVr"}," add"],["span",{"class":"sGFVr"}," eslint\n"]]]],["p",{},"Start your Nuxt app, a ",["code",{},"eslint.config.mjs"]," file will be generated under your project root. You can customize it as needed."],["p",{},"You can learn more about the module and customizations in ",["a",{"href":"https://eslint.nuxt.com/packages/module","rel":["nofollow"]},"Nuxt ESLint''s documentation"],"."],["style",{},"html pre.shiki code .s52Pk, html code.shiki .s52Pk{--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B}html pre.shiki code .sGFVr, html code.shiki .sGFVr{--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"eslint","depth":2,"text":"ESLint"},{"id":"quick-setup","depth":2,"text":"Quick Setup"}]}}', 'Nuxt supports ESLint out of the box', 'md', NULL, '{}', 'true', '/nuxt/nuxtcore/live/guide/concepts/code-style', '{"title":"Code Style","description":"Nuxt supports ESLint out of the box"}', 'nuxt/nuxtcore/live/2.guide/1.concepts/9.code-style', NULL, 'X7gnqnPdwS8sEGH_OotZ8Q-SakLFgTpX-vWUcXKnHfM'); -- X7gnqnPdwS8sEGH_OotZ8Q-SakLFgTpX-vWUcXKnHfM
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/.navigation.yml', 'Directory Structure', '{"title":"Directory Structure","titleTemplate":"%s · Nuxt Directory Structure","icon":"i-lucide-folders"}', NULL, 'yml', NULL, '{"icon":"i-lucide-folders"}', 'true', '/nuxt/nuxtcore/live/guide/directory-structure/.navigation', '{"title":"Directory Structure"}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/.navigation', '%s · Nuxt Directory Structure', 'tK9Ji7vFMU0zupFmiFcxY67rgBNzNQI7j_qW6aj1NY8'); -- tK9Ji7vFMU0zupFmiFcxY67rgBNzNQI7j_qW6aj1NY8
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/0.nuxt.md', '.nuxt', '{"type":"minimark","value":[["important",{},["p",{},"This directory should be added to your ",["a",{"href":"/docs/guide/directory-structure/gitignore"},["code",{},".gitignore"]]," file to avoid pushing the dev build output to your repository."]],["p",{},"This directory is interesting if you want to learn more about the files Nuxt generates based on your directory structure."],["p",{},"Nuxt also provides a Virtual File System (VFS) for modules to add templates to this directory without writing them to disk."],["p",{},"You can explore the generated files by opening the ",["a",{"href":"https://devtools.nuxt.com","rel":["nofollow"]},"Nuxt DevTools"]," in development mode and navigating to the ",["strong",{},"Virtual Files"]," tab."],["warning",{},["p",{},"You should not touch any files inside since the whole directory will be re-created when running ",["a",{"href":"/docs/api/commands/dev"},["code",{},"nuxt dev"]],"."]]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Nuxt uses the .nuxt/ directory in development to generate your Vue application.', 'md', NULL, '{"head":{"title":".nuxt/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/nuxt', '{"title":".nuxt","description":"Nuxt uses the .nuxt/ directory in development to generate your Vue application."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/0.nuxt', NULL, 'wImMY26tz3Pnd6bd4grqi8_JwSdNNTfoWTd7j9P0OSw'); -- wImMY26tz3Pnd6bd4grqi8_JwSdNNTfoWTd7j9P0OSw
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/0.output.md', '.output', '{"type":"minimark","value":[["important",{},["p",{},"This directory should be added to your ",["a",{"href":"/docs/guide/directory-structure/gitignore"},["code",{},".gitignore"]]," file to avoid pushing the build output to your repository."]],["p",{},"Use this directory to deploy your Nuxt application to production."],["read-more",{"to":"/docs/getting-started/deployment"}],["warning",{},["p",{},"You should not touch any files inside since the whole directory will be re-created when running ",["a",{"href":"/docs/api/commands/build"},["code",{},"nuxt build"]],"."]]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'Nuxt creates the .output/ directory when building your application for production.', 'md', NULL, '{"head":{"title":".output/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/output', '{"title":".output","description":"Nuxt creates the .output/ directory when building your application for production."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/0.output', NULL, 'mZlAjQEWU2XfAGOfJCNw3ZjJu9G1WzpoxMHHSiz0paI'); -- mZlAjQEWU2XfAGOfJCNw3ZjJu9G1WzpoxMHHSiz0paI
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/.navigation.yml', 'app', '{"title":"app","titleTemplate":"%s · Nuxt Directory Structure","head":{"title":"app/"},"defaultOpen":true,"icon":"i-lucide-folders"}', NULL, 'yml', NULL, '{"head":{"title":"app/"},"defaultOpen":true,"icon":"i-lucide-folders"}', 'true', '/nuxt/nuxtcore/live/guide/directory-structure/app/.navigation', '{"title":"app"}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/.navigation', '%s · Nuxt Directory Structure', 'jrMAsylHaDN8EMcnU7s-8OrgsJW9X2DIzZ374YSeg-o'); -- jrMAsylHaDN8EMcnU7s-8OrgsJW9X2DIzZ374YSeg-o
INSERT INTO _content_nuxtcore VALUES ('nuxtcore/nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.assets.md', 'assets', '{"type":"minimark","value":[["p",{},"The directory usually contains the following types of files:"],["ul",{},["li",{},"Stylesheets (CSS, SASS, etc.)"],["li",{},"Fonts"],["li",{},"Images that won''t be served from the ",["a",{"href":"/docs/guide/directory-structure/public"},["code",{},"public/"]]," directory."]],["p",{},"If you want to serve assets from the server, we recommend taking a look at the ",["a",{"href":"/docs/guide/directory-structure/public"},["code",{},"public/"]]," directory."],["read-more",{"to":"/docs/getting-started/assets"}]],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}}', 'The assets/ directory is used to add all the website''s assets that the build tool will process.', 'md', NULL, '{"head":{"title":"assets/"}}', '{"icon":"i-lucide-folder"}', '/nuxt/nuxtcore/live/guide/directory-structure/app/assets', '{"title":"assets","description":"The assets/ directory is used to add all the website''s assets that the build tool will process."}', 'nuxt/nuxtcore/live/2.guide/2.directory-structure/1.app/1.assets', NULL, '4hq92AeRR07t2-cjSBB1vijEMRKSnDYUdGAbZDRM6Hc'); -- 4hq92AeRR07t2-cjSBB1vijEMRKSnDYUdGAbZDRM6Hc