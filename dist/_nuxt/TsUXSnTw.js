import{Ca as e,Ea as t,Ga as n,Ha as r,Ia as i,Ja as a,La as o,M as s,Na as c,Ni as l,Qt as u,Ra as d,Sa as f,So as p,Ta as m,Xr as h,Xt as g,Y as _,Z as v,cn as y,dn as b,eo as x,er as S,ha as C,ir as w,ka as T,ma as E,nn as D,no as O,oi as k,po as A,qa as j,ro as M,sn as N,so as P,to as F,wa as I,xa as L,xo as R,yo as z,z as B}from"#entry";import{t as V}from"./CGwlAL4b.js";import{t as H}from"./B20oOqSB.js";var U=[`id`,`value`,`name`,`rows`,`placeholder`,`disabled`,`required`],W=Object.assign({inheritAttrs:!1},{__name:`Textarea`,props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:[`update:modelValue`,`blur`,`change`],setup(t,{expose:i,emit:s}){let c=t,p=s,g=F(),y=S(c,`modelValue`,p,{defaultValue:c.defaultValue}),b=l(),{emitFormFocus:x,emitFormBlur:C,emitFormInput:w,emitFormChange:T,size:E,color:O,id:k,name:j,highlight:H,disabled:W,ariaAttrs:G}=_(c,{deferInputValidation:!0}),{isLeading:K,isTrailing:q,leadingIconName:J,trailingIconName:Y}=v(c),X=L(()=>D({extend:D(V),...b.ui?.textarea||{}})({color:O.value,variant:c.variant,size:E?.value,loading:c.loading,highlight:H.value,autoresize:c.autoresize,leading:K.value||!!c.avatar||!!g.leading,trailing:q.value||!!g.trailing})),Z=A(null);function Q(e){c.modelModifiers?.trim&&(e=e?.trim()??null),c.modelModifiers?.number&&(e=N(e)),c.modelModifiers?.nullify&&(e||=null),y.value=e,w()}function ee(e){$(),c.modelModifiers?.lazy||Q(e.target.value)}function te(e){let t=e.target.value;c.modelModifiers?.lazy&&Q(t),c.modelModifiers?.trim&&(e.target.value=t.trim()),T(),p(`change`,e)}function ne(e){C(),p(`blur`,e)}function re(){c.autofocus&&Z.value?.focus()}function $(){if(c.autoresize&&Z.value){Z.value.rows=c.rows;let e=Z.value.style.overflow;Z.value.style.overflow=`hidden`;let t=window.getComputedStyle(Z.value),n=Number.parseInt(t.paddingTop),r=Number.parseInt(t.paddingBottom),i=n+r,a=Number.parseInt(t.lineHeight),{scrollHeight:o}=Z.value,s=(o-i)/a;s>c.rows&&(Z.value.rows=c.maxrows?Math.min(s,c.maxrows):s),Z.value.style.overflow=e}}return M(y,()=>{d($)}),r(()=>{setTimeout(()=>{re()},c.autofocusDelay),setTimeout(()=>{$()},c.autoresizeDelay)}),i({textareaRef:Z}),(r,i)=>(n(),e(z(h),{as:t.as,class:R(X.value.root({class:[c.ui?.root,c.class]}))},{default:P(()=>[f(`textarea`,o({id:z(k),ref_key:`textareaRef`,ref:Z,value:z(y),name:z(j),rows:t.rows,placeholder:t.placeholder,class:X.value.base({class:c.ui?.base}),disabled:z(W),required:t.required},{...r.$attrs,...z(G)},{onInput:ee,onBlur:ne,onChange:te,onFocus:i[0]||=(...e)=>z(x)&&z(x)(...e)}),null,16,U),a(r.$slots,`default`),z(K)||t.avatar||g.leading?(n(),m(`span`,{key:0,class:R(X.value.leading({class:c.ui?.leading}))},[a(r.$slots,`leading`,{},()=>[z(K)&&z(J)?(n(),e(u,{key:0,name:z(J),class:R(X.value.leadingIcon({class:c.ui?.leadingIcon}))},null,8,[`name`,`class`])):t.avatar?(n(),e(B,o({key:1,size:c.ui?.leadingAvatarSize||X.value.leadingAvatarSize()},t.avatar,{class:X.value.leadingAvatar({class:c.ui?.leadingAvatar})}),null,16,[`size`,`class`])):I(``,!0)])],2)):I(``,!0),z(q)||g.trailing?(n(),m(`span`,{key:1,class:R(X.value.trailing({class:c.ui?.trailing}))},[a(r.$slots,`trailing`,{},()=>[z(Y)?(n(),e(u,{key:0,name:z(Y),class:R(X.value.trailingIcon({class:c.ui?.trailingIcon}))},null,8,[`name`,`class`])):I(``,!0)])],2)):I(``,!0)]),_:3},8,[`as`,`class`]))}}),G=Object.assign({inheritAttrs:!1},{__name:`UChatPrompt`,props:i({as:{type:null,required:!1,default:`form`},placeholder:{type:String,required:!1},autofocus:{type:null,required:!1,default:!0},autoresize:{type:null,required:!1,default:!0},rows:{type:null,required:!1,default:1},variant:{type:null,required:!1},error:{type:Error,required:!1},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{modelValue:{type:String,default:``},modelModifiers:{}}),emits:i([`submit`,`close`],[`update:modelValue`]),setup(r,{expose:i,emit:u}){let d=r,f=u,_=F(),v=x(r,`modelValue`,{type:String,default:``}),{t:S}=s(),D=l(),A=k(w(d,`autofocus`,`autoresize`,`rows`)),M=y(_,[`header`,`footer`]),N=L(()=>b({extend:b(H),...D.uiPro?.chatPrompt||{}})({variant:d.variant}));function B(e){v.value.trim()!==``&&f(`submit`,e)}function V(e){U.value?.textareaRef?.blur(),f(`close`,e)}let U=O(`textarea`);return i({textareaRef:U.value?.textareaRef}),(i,s)=>(n(),e(z(h),{as:r.as,class:R(N.value.root({class:[d.ui?.root,d.class]})),onSubmit:C(B,[`prevent`])},{default:P(()=>[_.header?(n(),m(`div`,{key:0,class:R(N.value.header({class:d.ui?.header}))},[a(i.$slots,`header`)],2)):I(``,!0),T(W,o({ref_key:`textarea`,ref:U,modelValue:v.value,"onUpdate:modelValue":s[0]||=e=>v.value=e,placeholder:r.placeholder||z(S)(`chatPrompt.placeholder`),disabled:!!r.error,variant:`none`},{...z(A),...i.$attrs},{ui:z(g)(z(y)(N.value,[`root`,`body`,`header`,`footer`]),d.ui),class:N.value.body({class:d.ui?.body}),onKeydown:[E(C(B,[`exact`,`prevent`]),[`enter`]),E(V,[`esc`])]}),t({_:2},[j(z(M),(e,t)=>({name:t,fn:P(e=>[a(i.$slots,t,p(c(e)))])}))]),1040,[`modelValue`,`placeholder`,`disabled`,`ui`,`class`,`onKeydown`]),_.footer?(n(),m(`div`,{key:1,class:R(N.value.footer({class:d.ui?.footer}))},[a(i.$slots,`footer`)],2)):I(``,!0)]),_:3},8,[`as`,`class`]))}});export{G as default};
//# sourceMappingURL=TsUXSnTw.js.map