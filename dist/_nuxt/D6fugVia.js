import"./XrRa3LO0.js";import"./B4R0nvBE.js";import"./-4LthkDL.js";import"./0gl239Bx.js";import"./Bo70QARZ.js";import{Ca as e,Ea as t,Fi as n,Ga as r,Ia as i,Ja as a,La as o,M as s,Na as c,Ni as l,So as u,Tt as d,Xt as f,cn as p,dn as m,ea as h,eo as g,ir as _,ka as v,m as y,no as b,oi as x,qa as S,so as C,to as w,xa as T,xo as E,yo as D}from"#entry";import"./CKe8ToaS.js";import"./DyDKH_mR.js";import{t as O}from"./BtRMxdeA.js";import"./B_HPZwFe.js";import"./VeSnrGk5.js";import{n as k,t as A}from"./CrU1sBWz.js";var j={__name:`UDashboardSearch`,props:i({icon:{type:String,required:!1},placeholder:{type:null,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},shortcut:{type:String,required:!1,default:`meta_k`},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{open:{type:Boolean,default:!1},openModifiers:{},searchTerm:{type:String,default:``},searchTermModifiers:{}}),emits:[`update:open`,`update:searchTerm`],setup(i,{expose:j}){let M=i,N=w(),P=g(i,`open`,{type:Boolean,default:!1}),F=g(i,`searchTerm`,{type:String,default:``});n(`dashboard:search:toggle`,()=>{P.value=!P.value});let{t:I}=s(),L=d(),R=l(),z=x(_(M,`icon`,`placeholder`,`autofocus`,`loading`,`loadingIcon`,`close`,`closeIcon`)),B=p(N,[`content`]),V=T(()=>h({},M.fuse,{fuseOptions:{}})),H=T(()=>m({extend:m(O),...R.uiPro?.dashboardSearch||{}})()),U=T(()=>{let e=[];return e.push(...M.groups||[]),M.colorMode&&!L?.forced&&e.push({id:`theme`,label:I(`dashboardSearch.theme`),items:[{label:I(`colorMode.system`),icon:R.ui.icons.system,active:L.preference===`system`,onSelect:()=>{L.preference=`system`}},{label:I(`colorMode.light`),icon:R.ui.icons.light,active:L.preference===`light`,onSelect:()=>{L.preference=`light`}},{label:I(`colorMode.dark`),icon:R.ui.icons.dark,active:L.preference===`dark`,onSelect:()=>{L.preference=`dark`}}]}),e});function W(e){e.disabled||(P.value=!1,F.value=``)}A({[M.shortcut]:{usingInput:!0,handler:()=>P.value=!P.value}});let G=b(`commandPaletteRef`);return j({commandPaletteRef:G}),(n,i)=>(r(),e(y,{open:P.value,"onUpdate:open":i[2]||=e=>P.value=e,title:D(I)(`dashboardSearch.title`),description:D(I)(`dashboardSearch.description`),class:E(H.value.modal({class:[M.ui?.modal,M.class]}))},{content:C(()=>[a(n.$slots,`content`,{},()=>[v(k,o({ref_key:`commandPaletteRef`,ref:G,"search-term":F.value,"onUpdate:searchTerm":i[0]||=e=>F.value=e},D(z),{groups:U.value,fuse:V.value,ui:D(f)(D(p)(H.value,[`modal`]),M.ui),"onUpdate:modelValue":W,"onUpdate:open":i[1]||=e=>P.value=e}),t({_:2},[S(D(B),(e,t)=>({name:t,fn:C(e=>[a(n.$slots,t,u(c(e)))])}))]),1040,[`search-term`,`groups`,`fuse`,`ui`])])]),_:3},8,[`open`,`title`,`description`,`class`]))}};export{j as default};
//# sourceMappingURL=D6fugVia.js.map