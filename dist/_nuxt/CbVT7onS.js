import{Ba as e,Ca as t,Co as n,Ga as r,Hn as i,Ja as a,Jr as o,Kr as s,La as c,M as l,Ni as u,Oa as d,Qi as f,Qt as p,Sa as m,Ta as h,_a as g,ai as _,dn as v,ha as y,ir as b,ka as x,na as S,po as C,qa as w,qr as T,ro as E,so as D,to as O,wa as k,wo as A,xa as j,xo as M,yo as N,za as P}from"#entry";import{t as F}from"./Dk7Druyn.js";function I(){let t=C(),n=C([]),r=C([]);function i(e){e.forEach(e=>{let t=e.target.id;t&&(e.isIntersecting?n.value=[...n.value,t]:n.value=n.value.filter(e=>e!==t))})}function a(e){e.forEach(e=>{t.value&&t.value.observe(e)})}return E(n,(e,t)=>{e.length===0?r.value=t:r.value=e}),P(()=>t.value=new IntersectionObserver(i)),e(()=>t.value?.disconnect()),{visibleHeadings:n,activeHeadings:r,updateHeadings:a}}var L=[`href`,`onClick`],R=Object.assign({inheritAttrs:!1},{__name:`UContentToc`,props:{as:{type:null,required:!1,default:`nav`},trailingIcon:{type:String,required:!1},title:{type:String,required:!1},color:{type:null,required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1}},emits:[`update:open`,`move`],setup(e,{emit:C}){let E=e,P=C,R=O(),z=_(b(E,`as`,`open`,`defaultOpen`),P),{t:B}=l(),V=f(),H=u(),{activeHeadings:U,updateHeadings:W}=I(),[G,K]=i({props:{links:Array,level:Number}}),[q,J]=i(),Y=j(()=>v({extend:v(F),...H.uiPro?.contentToc||{}})({color:E.color,highlight:E.highlight,highlightColor:E.highlightColor||E.color}));function X(e){let t=encodeURIComponent(e);V.push(`#${t}`),P(`move`,e)}function Z(e){return e.flatMap(e=>[e,...e.children?Z(e.children):[]])}let Q=j(()=>{if(!U.value?.length)return;let e=Z(E.links||[]).findIndex(e=>U.value.includes(e.id));return{"--indicator-size":`${28*U.value.length+0*(U.value.length-1)}px`,"--indicator-position":e>=0?`${e*28}px`:`0px`}}),$=S();return $.hooks.hook(`page:loading:end`,()=>{let e=Array.from(document.querySelectorAll(`h2, h3`));W(e)}),$.hooks.hook(`page:transition:finish`,()=>{let e=Array.from(document.querySelectorAll(`h2, h3`));W(e)}),(i,l)=>(r(),h(g,null,[x(N(G),null,{default:D(({links:e,level:n})=>[m(`ul`,{class:M(n>0?Y.value.listWithChildren({class:E.ui?.listWithChildren}):Y.value.list({class:E.ui?.list}))},[(r(!0),h(g,null,w(e,(e,o)=>(r(),h(`li`,{key:o,class:M(e.children&&e.children.length>0?Y.value.itemWithChildren({class:[E.ui?.itemWithChildren,e.ui?.itemWithChildren]}):Y.value.item({class:[E.ui?.item,e.ui?.item]}))},[m(`a`,{href:`#${e.id}`,class:M(Y.value.link({class:[E.ui?.link,e.ui?.link,e.class],active:N(U).includes(e.id)})),onClick:y(t=>X(e.id),[`prevent`])},[a(i.$slots,`link`,{link:e},()=>[m(`span`,{class:M(Y.value.linkText({class:[E.ui?.linkText,e.ui?.linkText]}))},A(e.text),3)])],10,L),e.children?.length?(r(),t(N(K),{key:0,links:e.children,level:n+1},null,8,[`links`,`level`])):k(``,!0)],2))),128))],2)]),_:3}),x(N(q),null,{default:D(({open:t})=>[a(i.$slots,`leading`,{open:t}),m(`span`,{class:M(Y.value.title({class:E.ui?.title}))},[a(i.$slots,`default`,{open:t},()=>[d(A(e.title||N(B)(`contentToc.title`)),1)])],2),m(`span`,{class:M(Y.value.trailing({class:E.ui?.trailing}))},[a(i.$slots,`trailing`,{open:t},()=>[x(p,{name:e.trailingIcon||N(H).ui.icons.chevronDown,class:M(Y.value.trailingIcon({class:E.ui?.trailingIcon}))},null,8,[`name`,`class`])])],2)]),_:3}),x(N(o),c({...N(z),...i.$attrs},{"default-open":e.defaultOpen,class:Y.value.root({class:[E.ui?.root,E.class]})}),{default:D(({open:t})=>[m(`div`,{class:M(Y.value.container({class:E.ui?.container}))},[R.top?(r(),h(`div`,{key:0,class:M(Y.value.top({class:E.ui?.top}))},[a(i.$slots,`top`,{links:e.links})],2)):k(``,!0),e.links?.length?(r(),h(g,{key:1},[x(N(s),{class:M(Y.value.trigger({class:`lg:hidden`}))},{default:D(()=>[x(N(J),{open:t},null,8,[`open`])]),_:2},1032,[`class`]),x(N(T),{class:M(Y.value.content({class:[E.ui?.content,`lg:hidden`]}))},{default:D(()=>[e.highlight?(r(),h(`div`,{key:0,class:M(Y.value.indicator({class:E.ui?.indicator})),style:n(Q.value)},null,6)):k(``,!0),a(i.$slots,`content`,{links:e.links},()=>[x(N(K),{links:e.links,level:0},null,8,[`links`])])]),_:3},8,[`class`]),m(`p`,{class:M(Y.value.trigger({class:`hidden lg:flex`}))},[x(N(J),{open:t},null,8,[`open`])],2),m(`div`,{class:M(Y.value.content({class:[E.ui?.content,`hidden lg:flex`]}))},[e.highlight?(r(),h(`div`,{key:0,class:M(Y.value.indicator({class:E.ui?.indicator})),style:n(Q.value)},null,6)):k(``,!0),a(i.$slots,`content`,{links:e.links},()=>[x(N(K),{links:e.links,level:0},null,8,[`links`])])],2)],64)):k(``,!0),R.bottom?(r(),h(`div`,{key:2,class:M(Y.value.bottom({class:E.ui?.bottom,body:!!R.top||!!e.links?.length}))},[a(i.$slots,`bottom`,{links:e.links})],2)):k(``,!0)],2)]),_:3},16,[`default-open`,`class`])],64))}});export{R as t};
//# sourceMappingURL=CbVT7onS.js.map