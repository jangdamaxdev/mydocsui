{"version":3,"file":"TsUXSnTw.js","names":["$attrs","$attrs"],"sources":["../../node_modules/.cache/.pnpm/@nuxt+ui@3.3.3_@babel+parse_517b096016a768b5c8f5f6c6d9792102/node_modules/@nuxt/ui/dist/runtime/components/Textarea.vue","../../node_modules/libs/nuip/dist/runtime/components/ChatPrompt.vue"],"sourcesContent":["<script>\nimport theme from \"#build/ui/textarea\";\n</script>\n\n<script setup>\nimport { ref, computed, onMounted, nextTick, watch } from \"vue\";\nimport { Primitive } from \"reka-ui\";\nimport { useVModel } from \"@vueuse/core\";\nimport { useAppConfig } from \"#imports\";\nimport { useComponentIcons } from \"../composables/useComponentIcons\";\nimport { useFormField } from \"../composables/useFormField\";\nimport { looseToNumber } from \"../utils\";\nimport { tv } from \"../utils/tv\";\nimport UIcon from \"./Icon.vue\";\nimport UAvatar from \"./Avatar.vue\";\ndefineOptions({ inheritAttrs: false });\nconst props = defineProps({\n  as: { type: null, required: false },\n  id: { type: String, required: false },\n  name: { type: String, required: false },\n  placeholder: { type: String, required: false },\n  color: { type: null, required: false },\n  variant: { type: null, required: false },\n  size: { type: null, required: false },\n  required: { type: Boolean, required: false },\n  autofocus: { type: Boolean, required: false },\n  autofocusDelay: { type: Number, required: false, default: 0 },\n  autoresize: { type: Boolean, required: false },\n  autoresizeDelay: { type: Number, required: false, default: 0 },\n  disabled: { type: Boolean, required: false },\n  rows: { type: Number, required: false, default: 3 },\n  maxrows: { type: Number, required: false, default: 0 },\n  highlight: { type: Boolean, required: false },\n  modelValue: { type: null, required: false },\n  defaultValue: { type: null, required: false },\n  modelModifiers: { type: Object, required: false },\n  class: { type: null, required: false },\n  ui: { type: null, required: false },\n  icon: { type: String, required: false },\n  avatar: { type: Object, required: false },\n  leading: { type: Boolean, required: false },\n  leadingIcon: { type: String, required: false },\n  trailing: { type: Boolean, required: false },\n  trailingIcon: { type: String, required: false },\n  loading: { type: Boolean, required: false },\n  loadingIcon: { type: String, required: false }\n});\nconst emits = defineEmits([\"update:modelValue\", \"blur\", \"change\"]);\nconst slots = defineSlots();\nconst modelValue = useVModel(props, \"modelValue\", emits, { defaultValue: props.defaultValue });\nconst appConfig = useAppConfig();\nconst { emitFormFocus, emitFormBlur, emitFormInput, emitFormChange, size, color, id, name, highlight, disabled, ariaAttrs } = useFormField(props, { deferInputValidation: true });\nconst { isLeading, isTrailing, leadingIconName, trailingIconName } = useComponentIcons(props);\nconst ui = computed(() => tv({ extend: tv(theme), ...appConfig.ui?.textarea || {} })({\n  color: color.value,\n  variant: props.variant,\n  size: size?.value,\n  loading: props.loading,\n  highlight: highlight.value,\n  autoresize: props.autoresize,\n  leading: isLeading.value || !!props.avatar || !!slots.leading,\n  trailing: isTrailing.value || !!slots.trailing\n}));\nconst textareaRef = ref(null);\nfunction updateInput(value) {\n  if (props.modelModifiers?.trim) {\n    value = value?.trim() ?? null;\n  }\n  if (props.modelModifiers?.number) {\n    value = looseToNumber(value);\n  }\n  if (props.modelModifiers?.nullify) {\n    value ||= null;\n  }\n  modelValue.value = value;\n  emitFormInput();\n}\nfunction onInput(event) {\n  autoResize();\n  if (!props.modelModifiers?.lazy) {\n    updateInput(event.target.value);\n  }\n}\nfunction onChange(event) {\n  const value = event.target.value;\n  if (props.modelModifiers?.lazy) {\n    updateInput(value);\n  }\n  if (props.modelModifiers?.trim) {\n    event.target.value = value.trim();\n  }\n  emitFormChange();\n  emits(\"change\", event);\n}\nfunction onBlur(event) {\n  emitFormBlur();\n  emits(\"blur\", event);\n}\nfunction autoFocus() {\n  if (props.autofocus) {\n    textareaRef.value?.focus();\n  }\n}\nfunction autoResize() {\n  if (props.autoresize && textareaRef.value) {\n    textareaRef.value.rows = props.rows;\n    const overflow = textareaRef.value.style.overflow;\n    textareaRef.value.style.overflow = \"hidden\";\n    const styles = window.getComputedStyle(textareaRef.value);\n    const paddingTop = Number.parseInt(styles.paddingTop);\n    const paddingBottom = Number.parseInt(styles.paddingBottom);\n    const padding = paddingTop + paddingBottom;\n    const lineHeight = Number.parseInt(styles.lineHeight);\n    const { scrollHeight } = textareaRef.value;\n    const newRows = (scrollHeight - padding) / lineHeight;\n    if (newRows > props.rows) {\n      textareaRef.value.rows = props.maxrows ? Math.min(newRows, props.maxrows) : newRows;\n    }\n    textareaRef.value.style.overflow = overflow;\n  }\n}\nwatch(modelValue, () => {\n  nextTick(autoResize);\n});\nonMounted(() => {\n  setTimeout(() => {\n    autoFocus();\n  }, props.autofocusDelay);\n  setTimeout(() => {\n    autoResize();\n  }, props.autoresizeDelay);\n});\ndefineExpose({\n  textareaRef\n});\n</script>\n\n<template>\n  <Primitive :as=\"as\" :class=\"ui.root({ class: [props.ui?.root, props.class] })\">\n    <textarea\n      :id=\"id\"\n      ref=\"textareaRef\"\n      :value=\"modelValue\"\n      :name=\"name\"\n      :rows=\"rows\"\n      :placeholder=\"placeholder\"\n      :class=\"ui.base({ class: props.ui?.base })\"\n      :disabled=\"disabled\"\n      :required=\"required\"\n      v-bind=\"{ ...$attrs, ...ariaAttrs }\"\n      @input=\"onInput\"\n      @blur=\"onBlur\"\n      @change=\"onChange\"\n      @focus=\"emitFormFocus\"\n    />\n\n    <slot />\n\n    <span v-if=\"isLeading || !!avatar || !!slots.leading\" :class=\"ui.leading({ class: props.ui?.leading })\">\n      <slot name=\"leading\">\n        <UIcon v-if=\"isLeading && leadingIconName\" :name=\"leadingIconName\" :class=\"ui.leadingIcon({ class: props.ui?.leadingIcon })\" />\n        <UAvatar v-else-if=\"!!avatar\" :size=\"props.ui?.leadingAvatarSize || ui.leadingAvatarSize()\" v-bind=\"avatar\" :class=\"ui.leadingAvatar({ class: props.ui?.leadingAvatar })\" />\n      </slot>\n    </span>\n\n    <span v-if=\"isTrailing || !!slots.trailing\" :class=\"ui.trailing({ class: props.ui?.trailing })\">\n      <slot name=\"trailing\">\n        <UIcon v-if=\"trailingIconName\" :name=\"trailingIconName\" :class=\"ui.trailingIcon({ class: props.ui?.trailingIcon })\" />\n      </slot>\n    </span>\n  </Primitive>\n</template>\n","<script>\nimport theme from \"#build/ui-pro/chat-prompt\";\n</script>\n\n<script setup>\nimport { computed, useTemplateRef } from \"vue\";\nimport { Primitive, useForwardProps } from \"reka-ui\";\nimport { reactivePick } from \"@vueuse/core\";\nimport UTextarea from \"@nuxt/ui/components/Textarea.vue\";\nimport { omit } from \"@nuxt/ui/utils\";\nimport { useAppConfig } from \"#imports\";\nimport { useLocalePro } from \"../composables/useLocalePro\";\nimport { transformUI } from \"../utils\";\nimport { tv } from \"../utils/tv\";\ndefineOptions({ inheritAttrs: false });\nconst props = defineProps({\n  as: { type: null, required: false, default: \"form\" },\n  placeholder: { type: String, required: false },\n  autofocus: { type: null, required: false, default: true },\n  autoresize: { type: null, required: false, default: true },\n  rows: { type: null, required: false, default: 1 },\n  variant: { type: null, required: false },\n  error: { type: Error, required: false },\n  class: { type: null, required: false },\n  ui: { type: void 0, required: false }\n});\nconst emits = defineEmits([\"submit\", \"close\"]);\nconst slots = defineSlots();\nconst model = defineModel({ type: String, ...{ default: \"\" } });\nconst { t } = useLocalePro();\nconst appConfig = useAppConfig();\nconst textareaProps = useForwardProps(reactivePick(props, \"autofocus\", \"autoresize\", \"rows\"));\nconst proxySlots = omit(slots, [\"header\", \"footer\"]);\nconst ui = computed(() => tv({ extend: tv(theme), ...appConfig.uiPro?.chatPrompt || {} })({\n  variant: props.variant\n}));\nfunction submit(e) {\n  if (model.value.trim() === \"\") {\n    return;\n  }\n  emits(\"submit\", e);\n}\nfunction blur(e) {\n  textarea.value?.textareaRef?.blur();\n  emits(\"close\", e);\n}\nconst textarea = useTemplateRef(\"textarea\");\ndefineExpose({\n  textareaRef: textarea.value?.textareaRef\n});\n</script>\n\n<template>\n  <Primitive :as=\"as\" :class=\"ui.root({ class: [props.ui?.root, props.class] })\" @submit.prevent=\"submit\">\n    <div v-if=\"!!slots.header\" :class=\"ui.header({ class: props.ui?.header })\">\n      <slot name=\"header\" />\n    </div>\n\n    <UTextarea\n      ref=\"textarea\"\n      v-model=\"model\"\n      :placeholder=\"placeholder || t('chatPrompt.placeholder')\"\n      :disabled=\"Boolean(error)\"\n      variant=\"none\"\n      v-bind=\"{ ...textareaProps, ...$attrs }\"\n      :ui=\"transformUI(omit(ui, ['root', 'body', 'header', 'footer']), props.ui)\"\n      :class=\"ui.body({ class: props.ui?.body })\"\n      @keydown.enter.exact.prevent=\"submit\"\n      @keydown.esc=\"blur\"\n    >\n      <template v-for=\"(_, name) in proxySlots\" #[name]=\"slotData\">\n        <slot :name=\"name\" v-bind=\"slotData\" />\n      </template>\n    </UTextarea>\n\n    <div v-if=\"!!slots.footer\" :class=\"ui.footer({ class: props.ui?.footer })\">\n      <slot name=\"footer\" />\n    </div>\n  </Primitive>\n</template>\n"],"x_google_ignoreList":[0],"mappings":"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"}