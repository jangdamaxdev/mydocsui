function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.apply(this,arguments)}var t=.996,n=function(e,n){return n===void 0&&(n=t),e*n/(1-n)};function r(e){return e[e.length-1]}function i(e){return e.reduce(function(e,t){return e+t})/e.length}var a=function(e,t,n){return Math.min(Math.max(t,e),n)};function o(e,t){if(e.length!==t.length)throw Error(`vectors must be same length`);return e.map(function(e,n){return e+t[n]})}function s(e){return Math.max.apply(Math,e.map(Math.abs))}function c(e){return Object.freeze(e),Object.values(e).forEach(function(e){typeof e==`object`&&e&&!Object.isFrozen(e)&&c(e)}),e}function l(){var e={};function t(t,r){return e[t]=(e[t]||[]).concat(r),function(){return n(t,r)}}function n(t,n){e[t]=(e[t]||[]).filter(function(e){return e!==n})}function r(t,n){t in e&&e[t].forEach(function(e){return e(n)})}return c({on:t,off:n,dispatch:r})}function u(e){var t=[],n=function(n){return n.addEventListener(`wheel`,e,{passive:!1}),t.push(n),function(){return r(n)}},r=function(n){n.removeEventListener(`wheel`,e),t=t.filter(function(e){return e!==n})};return c({observe:n,unobserve:r,disconnect:function(){t.forEach(r)}})}var d=[1,18,typeof window<`u`&&window.innerHeight||800];function f(e){var t=e.deltaX*d[e.deltaMode],n=e.deltaY*d[e.deltaMode],r=(e.deltaZ||0)*d[e.deltaMode];return{timeStamp:e.timeStamp,axisDelta:[t,n,r]}}var p=[-1,-1,-1];function m(t,n){if(!n)return t;var r=n===!0?p:n.map(function(e){return e?-1:1});return e({},t,{axisDelta:t.axisDelta.map(function(e,t){return e*r[t]})})}var h=function(t){return e({},t,{axisDelta:t.axisDelta.map(function(e){return a(e,-700,700)})})},g=c({preventWheelAction:!0,reverseSign:[!0,!0,!1]});function _(){return{isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:400}}function v(t){t===void 0&&(t={});var a=l(),d=a.on,p=a.off,v=a.dispatch,y=g,b=_(),x,S=!1,C,w=function(e){Array.isArray(e)?e.forEach(function(e){return O(e)}):O(e)},T=function(t){return t===void 0&&(t={}),Object.values(t).some(function(e){return e==null})?y:y=c(e({},g,y,t))},E=function(t){var r=e({event:x,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:b.isMomentum,axisDelta:[0,0,0],axisVelocity:b.axisVelocity,axisMovement:b.axisMovement,get axisMovementProjection(){return o(r.axisMovement,r.axisVelocity.map(function(e){return n(e)}))}},t);v(`wheel`,e({},r,{previous:C})),C=r},D=function(e,t){var n=y,r=n.preventWheelAction,i=t[0],a=t[1],o=t[2];if(typeof r==`boolean`)return r;switch(r){case`x`:return Math.abs(i)>=e;case`y`:return Math.abs(a)>=e;case`z`:return Math.abs(o)>=e;default:return!1}},O=function(e){var t=h(m(f(e),y.reverseSign)),n=t.axisDelta,r=t.timeStamp,i=s(n);if(e.preventDefault&&D(i,n)&&e.preventDefault(),b.isStarted?b.isMomentum&&i>Math.max(2,b.lastAbsDelta*2)&&(R(!0),I()):I(),i===0&&Object.is&&Object.is(e.deltaX,-0)){S=!0;return}x=e,b.axisMovement=o(b.axisMovement,n),b.lastAbsDelta=i,b.scrollPointsToMerge.push({axisDelta:n,timeStamp:r}),k(),E({axisDelta:n,isStart:!b.isStartPublished}),b.isStartPublished=!0,L()},k=function(){b.scrollPointsToMerge.length===2?(b.scrollPoints.unshift({axisDeltaSum:b.scrollPointsToMerge.map(function(e){return e.axisDelta}).reduce(o),timeStamp:i(b.scrollPointsToMerge.map(function(e){return e.timeStamp}))}),j(),b.scrollPointsToMerge.length=0,b.scrollPoints.length=1,b.isMomentum||P()):b.isStartPublished||A()},A=function(){b.axisVelocity=r(b.scrollPointsToMerge).axisDelta.map(function(e){return e/b.willEndTimeout})},j=function(){var e=b.scrollPoints,t=e[0],n=e[1];if(!(!n||!t)){var r=t.timeStamp-n.timeStamp;if(!(r<=0)){var i=t.axisDeltaSum.map(function(e){return e/r}),a=i.map(function(e,t){return e/(b.axisVelocity[t]||1)});b.axisVelocity=i,b.accelerationFactors.push(a),M(r)}}},M=function(e){var t=Math.ceil(e/10)*10*1.2;b.isMomentum||(t=Math.max(100,t*2)),b.willEndTimeout=Math.min(1e3,Math.round(t))},N=function(e){return e===0?!0:e<=.96&&e>=.6},P=function(){if(b.accelerationFactors.length>=5){if(S&&(S=!1,s(b.axisVelocity)>=.2)){F();return}var e=b.accelerationFactors.slice(-5);e.every(function(e){var t=!!e.reduce(function(e,t){return e&&e<1&&e===t?1:0}),n=e.filter(N).length===e.length;return t||n})&&F(),b.accelerationFactors=e}},F=function(){b.isMomentum=!0},I=function(){b=_(),b.isStarted=!0,b.startTime=Date.now(),C=void 0,S=!1},L=function(){var e;return function(){clearTimeout(e),e=setTimeout(R,b.willEndTimeout)}}(),R=function(e){e===void 0&&(e=!1),b.isStarted&&=(b.isMomentum&&e?E({isEnding:!0,isMomentumCancel:!0}):E({isEnding:!0}),b.isMomentum=!1,!1)},z=u(w),B=z.observe,V=z.unobserve,H=z.disconnect;return T(t),c({on:d,off:p,observe:B,unobserve:V,disconnect:H,feedWheel:w,updateOptions:T})}var y=v,b={active:!0,breakpoints:{},wheelDraggingClass:`is-wheel-dragging`,forceWheelAxis:void 0,target:void 0};x.globalOptions=void 0;function x(e){e===void 0&&(e={});var t,n=function(){};function r(r,i){var a=i.mergeOptions,o=i.optionsAtMedia,s=a(b,x.globalOptions),c=a(s,e);t=o(c);var l=r.internalEngine(),u=t.target??r.containerNode().parentNode,d=t.forceWheelAxis??l.options.axis,f=y({preventWheelAction:d,reverseSign:[!0,!0,!1]});function p(){S=(d===`x`?l.containerRect.width:l.containerRect.height)/2}var m=f.observe(u),h=f.on(`wheel`,N),g=!1,_,v=0,S=0,C=!1;p(),r.on(`resize`,p);function w(e){try{_=new MouseEvent(`mousedown`,e.event),A(_)}catch{return n()}g=!0,v=0,E(),t.wheelDraggingClass&&u.classList.add(t.wheelDraggingClass)}function T(e){g=!1,A(k(`mouseup`,e)),D(),t.wheelDraggingClass&&u.classList.remove(t.wheelDraggingClass)}function E(){document.documentElement.addEventListener(`mousemove`,O,!0),document.documentElement.addEventListener(`mouseup`,O,!0),document.documentElement.addEventListener(`mousedown`,O,!0)}function D(){document.documentElement.removeEventListener(`mousemove`,O,!0),document.documentElement.removeEventListener(`mouseup`,O,!0),document.documentElement.removeEventListener(`mousedown`,O,!0)}function O(e){g&&e.isTrusted&&e.stopImmediatePropagation()}function k(e,t){var n,r;if(d===l.options.axis){var i=t.axisMovement;n=i[0],r=i[1]}else{var a=t.axisMovement;r=a[0],n=a[1]}if(j(t).isAtBoundary){var o=.25+Math.min(v/S,1)*.5,s=v*(n>0?-1:1)*o;n+=s,r+=s}if(!l.options.skipSnaps&&!l.options.dragFree){var c=l.containerRect.width,u=l.containerRect.height;n=n<0?Math.max(n,-c):Math.min(n,c),r=r<0?Math.max(r,-u):Math.min(r,u)}return new MouseEvent(e,{clientX:_.clientX+n,clientY:_.clientY+r,screenX:_.screenX+n,screenY:_.screenY+r,movementX:n,movementY:r,button:0,bubbles:!0,cancelable:!0,composed:!0})}function A(e){r.containerNode().dispatchEvent(e)}function j(e){var t=e.axisDelta,n=t[0],i=t[1],a=r.scrollProgress(),o=a<1,s=a>0,c=d===`x`?n:i;return{isAtBoundary:c<0&&!o||c>0&&!s,primaryAxisDelta:c}}function M(e){var t=j(e),n=t.isAtBoundary,r=t.primaryAxisDelta;if(n&&!e.isMomentum){if(v+=Math.abs(r),v>S)return C=!0,T(e),!0}else v=0;return!1}function N(e){var t=e.axisDelta,n=t[0],r=t[1],i=d===`x`?n:r,a=d===`x`?r:n,o=e.isMomentum&&e.previous&&!e.previous.isMomentum,s=e.isEnding&&!e.isMomentum||o;Math.abs(i)>Math.abs(a)&&!g&&!e.isMomentum&&!C&&w(e),C&&e.isEnding&&(C=!1),g&&(M(e)||(s?T(e):A(k(`mousemove`,e))))}n=function(){m(),h(),r.off(`resize`,p),D()}}return{name:`wheelGestures`,options:e,init:r,destroy:function(){return n()}}}export{x as WheelGesturesPlugin};
//# sourceMappingURL=_ErfU1uW.js.map