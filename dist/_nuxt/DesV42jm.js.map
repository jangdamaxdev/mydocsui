{"version":3,"file":"DesV42jm.js","names":[],"sources":["../../node_modules/.cache/.pnpm/reka-ui@2.5.0_typescript@5.9.2_vue@3.5.21_typescript@5.9.2_/node_modules/reka-ui/dist/RovingFocus/RovingFocusItem.js"],"sourcesContent":["import { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { focusFirst, getFocusIntent, wrapArray } from \"./utils.js\";\nimport { injectRovingFocusGroupContext } from \"./RovingFocusGroup.js\";\nimport { computed, createBlock, createVNode, defineComponent, nextTick, onMounted, onUnmounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/RovingFocus/RovingFocusItem.vue?vue&type=script&setup=true&lang.ts\nvar RovingFocusItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"RovingFocusItem\",\n\tprops: {\n\t\ttabStopId: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tfocusable: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tallowShiftKey: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst context = injectRovingFocusGroupContext();\n\t\tconst randomId = useId();\n\t\tconst id = computed(() => props.tabStopId || randomId);\n\t\tconst isCurrentTabStop = computed(() => context.currentTabStopId.value === id.value);\n\t\tconst { getItems, CollectionItem } = useCollection();\n\t\tonMounted(() => {\n\t\t\tif (props.focusable) context.onFocusableItemAdd();\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\tif (props.focusable) context.onFocusableItemRemove();\n\t\t});\n\t\tfunction handleKeydown(event) {\n\t\t\tif (event.key === \"Tab\" && event.shiftKey) {\n\t\t\t\tcontext.onItemShiftTab();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.target !== event.currentTarget) return;\n\t\t\tconst focusIntent = getFocusIntent(event, context.orientation.value, context.dir.value);\n\t\t\tif (focusIntent !== void 0) {\n\t\t\t\tif (event.metaKey || event.ctrlKey || event.altKey || (props.allowShiftKey ? false : event.shiftKey)) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet candidateNodes = [...getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\")];\n\t\t\t\tif (focusIntent === \"last\") candidateNodes.reverse();\n\t\t\t\telse if (focusIntent === \"prev\" || focusIntent === \"next\") {\n\t\t\t\t\tif (focusIntent === \"prev\") candidateNodes.reverse();\n\t\t\t\t\tconst currentIndex = candidateNodes.indexOf(event.currentTarget);\n\t\t\t\t\tcandidateNodes = context.loop.value ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n\t\t\t\t}\n\t\t\t\tnextTick(() => focusFirst(candidateNodes));\n\t\t\t}\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionItem), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\ttabindex: isCurrentTabStop.value ? 0 : -1,\n\t\t\t\t\t\"data-orientation\": unref(context).orientation.value,\n\t\t\t\t\t\"data-active\": _ctx.active ? \"\" : void 0,\n\t\t\t\t\t\"data-disabled\": !_ctx.focusable ? \"\" : void 0,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\t\tif (!_ctx.focusable) event.preventDefault();\n\t\t\t\t\t\telse unref(context).onItemFocus(id.value);\n\t\t\t\t\t}),\n\t\t\t\t\tonFocus: _cache[1] || (_cache[1] = ($event) => unref(context).onItemFocus(id.value)),\n\t\t\t\t\tonKeydown: handleKeydown\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"data-active\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/RovingFocus/RovingFocusItem.vue\nvar RovingFocusItem_default = RovingFocusItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { RovingFocusItem_default };\n//# sourceMappingURL=RovingFocusItem.js.map"],"x_google_ignoreList":[0],"mappings":"oKAyGA,IAAI,EAjG8E,EAAgB,CACjG,OAAQ,kBACR,MAAO,CACN,UAAW,CACV,KAAM,OACN,SAAU,GACV,CACD,UAAW,CACV,KAAM,QACN,SAAU,GACV,QAAS,GACT,CACD,OAAQ,CACP,KAAM,QACN,SAAU,GACV,CACD,cAAe,CACd,KAAM,QACN,SAAU,GACV,CACD,QAAS,CACR,KAAM,QACN,SAAU,GACV,CACD,GAAI,CACH,KAAM,KACN,SAAU,GACV,QAAS,QAEV,CACD,MAAM,EAAS,CACd,IAAM,EAAQ,EACR,EAAU,GAA+B,CACzC,EAAW,GAAO,CAClB,EAAK,MAAe,EAAM,WAAa,EAAS,CAChD,EAAmB,MAAe,EAAQ,iBAAiB,QAAU,EAAG,MAAM,CAC9E,CAAE,WAAU,kBAAmB,GAAe,CACpD,MAAgB,CACX,EAAM,WAAW,EAAQ,oBAAoB,EAChD,CACF,MAAkB,CACb,EAAM,WAAW,EAAQ,uBAAuB,EACnD,CACF,SAAS,EAAc,EAAO,CAC7B,GAAI,EAAM,MAAQ,OAAS,EAAM,SAAU,CAC1C,EAAQ,gBAAgB,CACxB,OAED,GAAI,EAAM,SAAW,EAAM,cAAe,OAC1C,IAAM,EAAc,EAAe,EAAO,EAAQ,YAAY,MAAO,EAAQ,IAAI,MAAM,CACvF,GAAI,IAAgB,IAAK,GAAG,CAC3B,GAAI,EAAM,SAAW,EAAM,SAAW,EAAM,QAAW,GAAM,eAAwB,EAAM,SAAW,OACtG,EAAM,gBAAgB,CACtB,IAAI,EAAiB,CAAC,GAAG,GAAU,CAAC,IAAK,GAAM,EAAE,IAAI,CAAC,OAAQ,GAAM,EAAE,QAAQ,WAAa,GAAG,CAAC,CAC/F,GAAI,IAAgB,OAAQ,EAAe,SAAS,SAC3C,IAAgB,QAAU,IAAgB,OAAQ,CACtD,IAAgB,QAAQ,EAAe,SAAS,CACpD,IAAM,EAAe,EAAe,QAAQ,EAAM,cAAc,CAChE,EAAiB,EAAQ,KAAK,MAAQ,EAAU,EAAgB,EAAe,EAAE,CAAG,EAAe,MAAM,EAAe,EAAE,CAE3H,MAAe,EAAW,EAAe,CAAC,EAG5C,OAAQ,EAAM,KACN,GAAW,CAAE,EAAY,EAAM,EAAe,CAAE,KAAM,CAC5D,QAAS,MAAc,CAAC,EAAY,EAAM,EAAU,CAAE,CACrD,SAAU,EAAiB,MAAQ,EAAI,GACvC,mBAAoB,EAAM,EAAQ,CAAC,YAAY,MAC/C,cAAe,EAAK,OAAS,GAAK,IAAK,GACvC,gBAAkB,EAAK,UAAiB,IAAK,GAAV,GACnC,GAAI,EAAK,GACT,WAAY,EAAK,QACjB,YAAa,AAAc,EAAO,KAAM,GAAU,CAC5C,EAAK,UACL,EAAM,EAAQ,CAAC,YAAY,EAAG,MAAM,CADpB,EAAM,gBAAgB,EAG5C,QAAS,AAAc,EAAO,KAAM,GAAW,EAAM,EAAQ,CAAC,YAAY,EAAG,MAAM,CACnF,UAAW,EACX,CAAE,CACF,QAAS,MAAc,CAAC,EAAW,EAAK,OAAQ,UAAU,CAAC,CAAC,CAC5D,EAAG,EACH,CAAE,EAAG,CACL,WACA,mBACA,cACA,gBACA,KACA,WACA,CAAC,CAAC,CAAC,CACJ,EAAG,EACH,CAAC,GAGJ,CAAC"}