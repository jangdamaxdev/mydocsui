import{a as e,c as t,n,o as r,r as i,s as a,t as o}from"./0gl239Bx.js";import{Ca as s,Ga as c,Ha as l,Ja as u,La as d,Lr as f,Ma as p,Na as m,Oa as h,Qr as g,Ra as _,So as v,Ua as y,Xa as b,Xr as x,Yr as S,_o as C,_r as w,ai as T,bi as E,gr as D,ha as O,ii as k,ja as A,ji as j,jr as M,ka as N,li as P,ma as F,mi as I,oi as L,po as R,ri as z,ro as B,si as V,so as H,uo as U,vr as W,wa as G,wo as ee,xa as K,xi as q,yo as J,yr as te}from"#entry";function Y(e){let t=K(()=>J(e)),n=K(()=>new Intl.Collator(`en`,{usage:`search`,...t.value}));return{startsWith:(e,t)=>t.length===0?!0:(e=e.normalize(`NFC`),t=t.normalize(`NFC`),n.value.compare(e.slice(0,t.length),t)===0),endsWith:(e,t)=>t.length===0?!0:(e=e.normalize(`NFC`),t=t.normalize(`NFC`),n.value.compare(e.slice(-t.length),t)===0),contains:(e,t)=>{if(t.length===0)return!0;e=e.normalize(`NFC`),t=t.normalize(`NFC`);let r=0,i=t.length;for(;r+i<=e.length;r++){let a=e.slice(r,r+i);if(n.value.compare(t,a)===0)return!0}return!1}}}var X=A({__name:`ComboboxAnchor`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let{forwardRef:t}=V();return(e,n)=>(c(),s(J(W),{"as-child":``,reference:e.reference},{default:H(()=>[N(J(x),d({ref:J(t),"as-child":e.asChild,as:e.as},e.$attrs),{default:H(()=>[u(e.$slots,`default`)]),_:3},16,[`as-child`,`as`])]),_:3},8,[`reference`]))}}),[Z,ne]=j(`ComboboxRoot`),re=A({__name:`ComboboxRoot`,props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`,`highlight`,`update:open`],setup(e,{expose:t,emit:n}){let r=e,i=n,{primitiveElement:o,currentElement:f}=S(),{multiple:m,disabled:h,ignoreFilter:g,resetSearchTermOnSelect:v,openOnFocus:y,openOnClick:b,dir:x}=C(r),w=P(x),T=E(r,`modelValue`,i,{defaultValue:r.defaultValue??(m.value?[]:void 0),passive:r.modelValue===void 0,deep:!0}),D=E(r,`open`,i,{defaultValue:r.defaultOpen,passive:r.open===void 0});async function O(e){D.value=e,V.value=``,e?(await _(),o.value?.highlightSelected(),A.value=!0):A.value=!1,M.value?.focus(),setTimeout(()=>{!e&&r.resetSearchTermOnBlur&&k.trigger()},1)}let k=q(),A=R(!1),j=R(!1),M=R(),F=R(),I=K(()=>o.value?.highlightedElement??void 0),L=R(new Map),z=R(new Map),{contains:B}=Y({sensitivity:`base`}),V=R(``),W=K(e=>{if(!V.value||r.ignoreFilter||j.value)return{count:L.value.size,items:e?.items??new Map,groups:e?.groups??new Set(z.value.keys())};let t=0,n=new Map,i=new Set;for(let[e,r]of L.value){let i=B(r,V.value);n.set(e,i?1:0),i&&t++}for(let[e,t]of z.value)for(let r of t)if(n.get(r)>0){i.add(e);break}return{count:t,items:n,groups:i}}),G=p();return l(()=>{G?.exposed&&(G.exposed.highlightItem=o.value?.highlightItem,G.exposed.highlightFirstItem=o.value?.highlightFirstItem,G.exposed.highlightSelected=o.value?.highlightSelected)}),t({filtered:W,highlightedElement:I,highlightItem:o.value?.highlightItem,highlightFirstItem:o.value?.highlightFirstItem,highlightSelected:o.value?.highlightSelected}),ne({modelValue:T,multiple:m,disabled:h,open:D,onOpenChange:O,contentId:``,isUserInputted:A,isVirtual:j,inputElement:M,highlightedElement:I,onInputElementChange:e=>M.value=e,triggerElement:F,onTriggerElementChange:e=>F.value=e,parentElement:f,resetSearchTermOnSelect:v,onResetSearchTerm:k.on,allItems:L,allGroups:z,filterSearch:V,filterState:W,ignoreFilter:g,openOnFocus:y,openOnClick:b}),(e,t)=>(c(),s(J(te),null,{default:H(()=>[N(J(a),d({ref_key:`primitiveElement`,ref:o},e.$attrs,{modelValue:J(T),"onUpdate:modelValue":t[0]||=e=>U(T)?T.value=e:null,style:{pointerEvents:J(D)?`auto`:void 0},as:e.as,"as-child":e.asChild,dir:J(w),multiple:J(m),name:e.name,required:e.required,disabled:J(h),"highlight-on-hover":!0,by:r.by,onHighlight:t[1]||=e=>i(`highlight`,e)}),{default:H(()=>[u(e.$slots,`default`,{open:J(D),modelValue:J(T)})]),_:3},16,[`modelValue`,`style`,`as`,`as-child`,`dir`,`multiple`,`name`,`required`,`disabled`,`by`])]),_:3}))}}),[ie,ae]=j(`ComboboxContent`),oe=A({__name:`ComboboxContentImpl`,props:{position:{type:String,required:!1,default:`inline`},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`],setup(e,{emit:t}){let n=e,i=t,{position:a}=C(n),o=Z(),{forwardRef:p,currentElement:m}=V();I(n.bodyLock),k(o.parentElement);let h=K(()=>n.position===`popper`?n:{}),g=L(h.value),_={boxSizing:`border-box`,"--reka-combobox-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-combobox-content-available-width":`var(--reka-popper-available-width)`,"--reka-combobox-content-available-height":`var(--reka-popper-available-height)`,"--reka-combobox-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-combobox-trigger-height":`var(--reka-popper-anchor-height)`};ae({position:a});let v=R(!1);return l(()=>{o.inputElement.value&&(v.value=m.value.contains(o.inputElement.value),v.value&&o.inputElement.value.focus())}),y(()=>{v.value&&o.triggerElement.value?.focus()}),(e,t)=>(c(),s(J(r),{"as-child":``},{default:H(()=>[N(J(f),{"as-child":``,"disable-outside-pointer-events":e.disableOutsidePointerEvents,onDismiss:t[0]||=e=>J(o).onOpenChange(!1),onFocusOutside:t[1]||=e=>{J(o).parentElement.value?.contains(e.target)&&e.preventDefault(),i(`focusOutside`,e)},onInteractOutside:t[2]||=e=>i(`interactOutside`,e),onEscapeKeyDown:t[3]||=e=>i(`escapeKeyDown`,e),onPointerDownOutside:t[4]||=e=>{J(o).parentElement.value?.contains(e.target)&&e.preventDefault(),i(`pointerDownOutside`,e)}},{default:H(()=>[(c(),s(b(J(a)===`popper`?J(w):J(x)),d({...e.$attrs,...J(g)},{id:J(o).contentId,ref:J(p),"data-state":J(o).open.value?`open`:`closed`,style:{display:`flex`,flexDirection:`column`,outline:`none`,...J(a)===`popper`?_:{}}}),{default:H(()=>[u(e.$slots,`default`)]),_:3},16,[`id`,`data-state`,`style`]))]),_:3},8,[`disable-outside-pointer-events`])]),_:3}))}}),se=A({__name:`ComboboxArrow`,props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`svg`}},setup(e){let t=e,n=Z(),r=ie();return V(),(e,i)=>J(n).open.value&&J(r).position.value===`popper`?(c(),s(J(D),v(d({key:0},t)),{default:H(()=>[u(e.$slots,`default`)]),_:3},16)):G(`v-if`,!0)}}),ce=A({__name:`ComboboxContent`,props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`],setup(e,{emit:t}){let n=T(e,t),{forwardRef:r}=V(),i=Z();return i.contentId||=z(void 0,`reka-combobox-content`),(e,t)=>(c(),s(J(g),{present:e.forceMount||J(i).open.value},{default:H(()=>[N(oe,d({...J(n),...e.$attrs},{ref:J(r)}),{default:H(()=>[u(e.$slots,`default`)]),_:3},16)]),_:3},8,[`present`]))}}),le=A({__name:`ComboboxEmpty`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e,n=Z(),r=K(()=>n.ignoreFilter.value?n.allItems.value.size===0:n.filterState.value.count===0);return(e,n)=>r.value?(c(),s(J(x),v(d({key:0},t)),{default:H(()=>[u(e.$slots,`default`,{},()=>[n[0]||=h(`No options`)])]),_:3},16)):G(`v-if`,!0)}}),[Q,ue]=j(`ComboboxGroup`),de=A({__name:`ComboboxGroup`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e,n=z(void 0,`reka-combobox-group`),r=Z(),a=K(()=>r.ignoreFilter.value?!0:r.filterSearch.value?r.filterState.value.groups.has(n):!0),o=ue({id:n,labelId:``});return l(()=>{r.allGroups.value.has(n)||r.allGroups.value.set(n,new Set)}),y(()=>{r.allGroups.value.delete(n)}),(e,r)=>(c(),s(J(i),d({id:J(n),"aria-labelledby":J(o).labelId},t,{hidden:a.value?void 0:!0}),{default:H(()=>[u(e.$slots,`default`)]),_:3},16,[`id`,`aria-labelledby`,`hidden`]))}}),fe=A({__name:`ComboboxInput`,props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`input`}},emits:[`update:modelValue`],setup(n,{emit:r}){let i=n,a=r,o=Z(),d=t(),{primitiveElement:f,currentElement:p}=S(),m=E(i,`modelValue`,a,{passive:i.modelValue===void 0});l(()=>{p.value&&o.onInputElementChange(p.value)});function h(e){o.open.value||o.onOpenChange(!0)}function g(e){let t=e.target;o.open.value?o.filterSearch.value=t.value:(o.onOpenChange(!0),_(()=>{t.value&&(o.filterSearch.value=t.value,d.highlightFirstItem())}))}function v(){o.openOnFocus.value&&!o.open.value&&o.onOpenChange(!0)}function y(){o.openOnClick.value&&!o.open.value&&o.onOpenChange(!0)}function b(){let e=o.modelValue.value;i.displayValue?m.value=i.displayValue(e):!o.multiple.value&&e&&!Array.isArray(e)?typeof e==`object`?m.value=``:m.value=e.toString():m.value=``,_(()=>{m.value=m.value})}return o.onResetSearchTerm(()=>{b()}),B(o.modelValue,async()=>{!o.isUserInputted.value&&o.resetSearchTermOnSelect.value&&b()},{immediate:!0,deep:!0}),B(o.filterState,()=>{o.isVirtual.value||d.highlightFirstItem()}),(t,n)=>(c(),s(J(e),{ref_key:`primitiveElement`,ref:f,modelValue:J(m),"onUpdate:modelValue":n[0]||=e=>U(m)?m.value=e:null,as:t.as,"as-child":t.asChild,"auto-focus":t.autoFocus,disabled:t.disabled,"aria-expanded":J(o).open.value,"aria-controls":J(o).contentId,"aria-autocomplete":`list`,role:`combobox`,autocomplete:`off`,onClick:y,onInput:g,onKeydown:F(O(h,[`prevent`]),[`down`,`up`]),onFocus:v},{default:H(()=>[u(t.$slots,`default`)]),_:3},8,[`modelValue`,`as`,`as-child`,`auto-focus`,`disabled`,`aria-expanded`,`aria-controls`,`onKeydown`]))}}),$=A({__name:`ComboboxItem`,props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:t}){let r=e,i=t,a=z(void 0,`reka-combobox-item`),o=Z(),f=Q(null),{primitiveElement:p,currentElement:m}=S();if(r.value===``)throw Error(`A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.`);let g=K(()=>{if(o.isVirtual.value||o.ignoreFilter.value||!o.filterSearch.value)return!0;{let e=o.filterState.value.items.get(a);return e===void 0?!0:e>0}});return l(()=>{o.allItems.value.set(a,r.textValue||m.value.textContent||m.value.innerText);let e=f?.id;e&&(o.allGroups.value.has(e)?o.allGroups.value.get(e)?.add(a):o.allGroups.value.set(e,new Set([a])))}),y(()=>{o.allItems.value.delete(a)}),(e,t)=>g.value?(c(),s(J(n),d({key:0},r,{id:J(a),ref_key:`primitiveElement`,ref:p,disabled:J(o).disabled.value||e.disabled,onSelect:t[0]||=t=>{i(`select`,t),!t.defaultPrevented&&!J(o).multiple.value&&!e.disabled&&!J(o).disabled.value&&(t.preventDefault(),J(o).onOpenChange(!1),J(o).modelValue.value=r.value)}}),{default:H(()=>[u(e.$slots,`default`,{},()=>[h(ee(e.value),1)])]),_:3},16,[`id`,`disabled`])):G(`v-if`,!0)}}),pe=A({__name:`ComboboxItemIndicator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e;return(e,n)=>(c(),s(J(o),v(m(t)),{default:H(()=>[u(e.$slots,`default`)]),_:3},16))}}),me=A({__name:`ComboboxLabel`,props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`div`}},setup(e){let t=e;V();let n=Q({id:``,labelId:``});return n.labelId||=z(void 0,`reka-combobox-group-label`),(e,r)=>(c(),s(J(x),d(t,{id:J(n).labelId}),{default:H(()=>[u(e.$slots,`default`)]),_:3},16,[`id`]))}}),he=A({__name:`ComboboxPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,n)=>(c(),s(J(M),v(m(t)),{default:H(()=>[u(e.$slots,`default`)]),_:3},16))}}),ge=A({__name:`ComboboxSeparator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e;return V(),(e,n)=>(c(),s(J(x),d(t,{"aria-hidden":`true`}),{default:H(()=>[u(e.$slots,`default`)]),_:3},16))}}),_e=A({__name:`ComboboxTrigger`,props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let t=e,{forwardRef:n,currentElement:r}=V(),i=Z(),a=K(()=>t.disabled||i.disabled.value||!1);return l(()=>{r.value&&i.onTriggerElementChange(r.value)}),(e,r)=>(c(),s(J(x),d(t,{ref:J(n),type:e.as===`button`?`button`:void 0,tabindex:`-1`,"aria-label":`Show popup`,"aria-haspopup":`listbox`,"aria-expanded":J(i).open.value,"aria-controls":J(i).contentId,"data-state":J(i).open.value?`open`:`closed`,disabled:a.value,"data-disabled":a.value?``:void 0,"aria-disabled":a.value??void 0,onClick:r[0]||=e=>J(i).onOpenChange(!J(i).open.value)}),{default:H(()=>[u(e.$slots,`default`)]),_:3},16,[`type`,`aria-expanded`,`aria-controls`,`data-state`,`disabled`,`data-disabled`,`aria-disabled`]))}});export{pe as a,de as c,se as d,re as f,me as i,le as l,Y as m,ge as n,$ as o,X as p,he as r,fe as s,_e as t,ce as u};
//# sourceMappingURL=C26Vr7SN.js.map