import{n as e,r as t,t as n}from"./BpRXZuPS.js";import{a as r,c as i,o as a,r as o,s,t as c}from"./AKO2wNIJ.js";var l=/[ \t\n\f\r]/g;function u(e){return typeof e==`object`?e.type===`text`?d(e.value):!1:d(e)}function d(e){return e.replace(l,``)===``}var f=/^>|^->|<!--|-->|--!>|<!-$/g,p=[`>`],m=[`<`,`>`];function h(e,t,n,r){return r.settings.bogusComments?`<?`+i(e.value,Object.assign({},r.settings.characterReferences,{subset:p}))+`>`:`<!--`+e.value.replace(f,a)+`-->`;function a(e){return i(e,Object.assign({},r.settings.characterReferences,{subset:m}))}}function g(e,t,n,r){return`<!`+(r.settings.upperDoctype?`DOCTYPE`:`doctype`)+(r.settings.tightDoctype?``:` `)+`html>`}const _=b(1),v=b(-1);var y=[];function b(e){return t;function t(t,n,r){let i=t?t.children:y,a=(n||0)+e,o=i[a];if(!r)for(;o&&u(o);)a+=e,o=i[a];return o}}var x={}.hasOwnProperty;function S(e){return t;function t(t,n,r){return x.call(e,t.tagName)&&e[t.tagName](t,n,r)}}const C=S({body:E,caption:w,colgroup:w,dd:A,dt:k,head:w,html:T,li:O,optgroup:M,option:N,p:D,rp:j,rt:j,tbody:F,td:R,tfoot:I,th:R,thead:P,tr:L});function w(e,t,n){let r=_(n,t,!0);return!r||r.type!==`comment`&&!(r.type===`text`&&u(r.value.charAt(0)))}function T(e,t,n){let r=_(n,t);return!r||r.type!==`comment`}function E(e,t,n){let r=_(n,t);return!r||r.type!==`comment`}function D(e,t,n){let r=_(n,t);return r?r.type===`element`&&(r.tagName===`address`||r.tagName===`article`||r.tagName===`aside`||r.tagName===`blockquote`||r.tagName===`details`||r.tagName===`div`||r.tagName===`dl`||r.tagName===`fieldset`||r.tagName===`figcaption`||r.tagName===`figure`||r.tagName===`footer`||r.tagName===`form`||r.tagName===`h1`||r.tagName===`h2`||r.tagName===`h3`||r.tagName===`h4`||r.tagName===`h5`||r.tagName===`h6`||r.tagName===`header`||r.tagName===`hgroup`||r.tagName===`hr`||r.tagName===`main`||r.tagName===`menu`||r.tagName===`nav`||r.tagName===`ol`||r.tagName===`p`||r.tagName===`pre`||r.tagName===`section`||r.tagName===`table`||r.tagName===`ul`):!n||!(n.type===`element`&&(n.tagName===`a`||n.tagName===`audio`||n.tagName===`del`||n.tagName===`ins`||n.tagName===`map`||n.tagName===`noscript`||n.tagName===`video`))}function O(e,t,n){let r=_(n,t);return!r||r.type===`element`&&r.tagName===`li`}function k(e,t,n){let r=_(n,t);return!!(r&&r.type===`element`&&(r.tagName===`dt`||r.tagName===`dd`))}function A(e,t,n){let r=_(n,t);return!r||r.type===`element`&&(r.tagName===`dt`||r.tagName===`dd`)}function j(e,t,n){let r=_(n,t);return!r||r.type===`element`&&(r.tagName===`rp`||r.tagName===`rt`)}function M(e,t,n){let r=_(n,t);return!r||r.type===`element`&&r.tagName===`optgroup`}function N(e,t,n){let r=_(n,t);return!r||r.type===`element`&&(r.tagName===`option`||r.tagName===`optgroup`)}function P(e,t,n){let r=_(n,t);return!!(r&&r.type===`element`&&(r.tagName===`tbody`||r.tagName===`tfoot`))}function F(e,t,n){let r=_(n,t);return!r||r.type===`element`&&(r.tagName===`tbody`||r.tagName===`tfoot`)}function I(e,t,n){return!_(n,t)}function L(e,t,n){let r=_(n,t);return!r||r.type===`element`&&r.tagName===`tr`}function R(e,t,n){let r=_(n,t);return!r||r.type===`element`&&(r.tagName===`td`||r.tagName===`th`)}const z=S({body:V,colgroup:H,head:ee,html:B,tbody:U});function B(e){let t=_(e,-1);return!t||t.type!==`comment`}function ee(e){let t=new Set;for(let n of e.children)if(n.type===`element`&&(n.tagName===`base`||n.tagName===`title`)){if(t.has(n.tagName))return!1;t.add(n.tagName)}let n=e.children[0];return!n||n.type===`element`}function V(e){let t=_(e,-1,!0);return!t||t.type!==`comment`&&!(t.type===`text`&&u(t.value.charAt(0)))&&!(t.type===`element`&&(t.tagName===`meta`||t.tagName===`link`||t.tagName===`script`||t.tagName===`style`||t.tagName===`template`))}function H(e,t,n){let r=v(n,t),i=_(e,-1,!0);return n&&r&&r.type===`element`&&r.tagName===`colgroup`&&C(r,n.children.indexOf(r),n)?!1:!!(i&&i.type===`element`&&i.tagName===`col`)}function U(e,t,n){let r=v(n,t),i=_(e,-1);return n&&r&&r.type===`element`&&(r.tagName===`thead`||r.tagName===`tbody`)&&C(r,n.children.indexOf(r),n)?!1:!!(i&&i.type===`element`&&i.tagName===`tr`)}var W={name:[[`	
\f\r &/=>`.split(``),`	
\f\r "&'/=>\``.split(``)],[`\0	
\f\r "&'/<=>`.split(``),`\0	
\f\r "&'/<=>\``.split(``)]],unquoted:[[`	
\f\r &>`.split(``),`\0	
\f\r "&'<=>\``.split(``)],[`\0	
\f\r "&'<=>\``.split(``),`\0	
\f\r "&'<=>\``.split(``)]],single:[[`&'`.split(``),`"&'\``.split(``)],[`\0&'`.split(``),`\0"&'\``.split(``)]],double:[[`"&`.split(``),`"&'\``.split(``)],[`\0"&`.split(``),`\0"&'\``.split(``)]]};function G(t,n,r,i){let a=i.schema,o=a.space===`svg`?!1:i.settings.omitOptionalTags,s=a.space===`svg`?i.settings.closeEmptyElements:i.settings.voids.includes(t.tagName.toLowerCase()),c=[],l;a.space===`html`&&t.tagName===`svg`&&(i.schema=e);let u=K(i,t.properties),d=i.all(a.space===`html`&&t.tagName===`template`?t.content:t);return i.schema=a,d&&(s=!1),(u||!o||!z(t,n,r))&&(c.push(`<`,t.tagName,u?` `+u:``),s&&(a.space===`svg`||i.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!i.settings.tightSelfClosing||l===`/`||l&&l!==`"`&&l!==`'`)&&c.push(` `),c.push(`/`)),c.push(`>`)),c.push(d),!s&&(!o||!C(t,n,r))&&c.push(`</`+t.tagName+`>`),c.join(``)}function K(e,t){let n=[],r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){let r=q(e,i,t[i]);r&&n.push(r)}}for(;++r<n.length;){let t=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&t!==`"`&&t!==`'`&&(n[r]+=` `)}return n.join(``)}function q(e,n,s){let c=t(e.schema,n),l=e.settings.allowParseErrors&&e.schema.space===`html`?0:1,u=e.settings.allowDangerousCharacters?0:1,d=e.quote,f;if(c.overloadedBoolean&&(s===c.attribute||s===``)?s=!0:(c.boolean||c.overloadedBoolean)&&(typeof s!=`string`||s===c.attribute||s===``)&&(s=!!s),s==null||s===!1||typeof s==`number`&&Number.isNaN(s))return``;let p=i(c.attribute,Object.assign({},e.settings.characterReferences,{subset:W.name[l][u]}));return s===!0||(s=Array.isArray(s)?(c.commaSeparated?o:r)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?p:(e.settings.preferUnquoted&&(f=i(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:W.unquoted[l][u]}))),f!==s&&(e.settings.quoteSmart&&a(s,d)>a(s,e.alternative)&&(d=e.alternative),f=d+i(s,Object.assign({},e.settings.characterReferences,{subset:(d===`'`?W.single:W.double)[l][u],attribute:!0}))+d),p+(f&&`=`+f))}var J=[`<`,`&`];function Y(e,t,n,r){return n&&n.type===`element`&&(n.tagName===`script`||n.tagName===`style`)?e.value:i(e.value,Object.assign({},r.settings.characterReferences,{subset:J}))}function X(e,t,n,r){return r.settings.allowDangerousHtml?e.value:Y(e,t,n,r)}function Z(e,t,n,r){return r.all(e)}const Q=s(`type`,{invalid:$,unknown:te,handlers:{comment:h,doctype:g,element:G,raw:X,root:Z,text:Y}});function $(e){throw Error("Expected node, not `"+e+"`")}function te(e){let t=e;throw Error("Cannot compile unknown node `"+t.type+"`")}var ne={},re={},ie=[];function ae(t,r){let i=r||ne,a=i.quote||`"`,o=a===`"`?`'`:`"`;if(a!==`"`&&a!==`'`)throw Error("Invalid quote `"+a+"`, expected `'` or `\"`");return{one:oe,all:se,settings:{omitOptionalTags:i.omitOptionalTags||!1,allowParseErrors:i.allowParseErrors||!1,allowDangerousCharacters:i.allowDangerousCharacters||!1,quoteSmart:i.quoteSmart||!1,preferUnquoted:i.preferUnquoted||!1,tightAttributes:i.tightAttributes||!1,upperDoctype:i.upperDoctype||!1,tightDoctype:i.tightDoctype||!1,bogusComments:i.bogusComments||!1,tightCommaSeparatedLists:i.tightCommaSeparatedLists||!1,tightSelfClosing:i.tightSelfClosing||!1,collapseEmptyAttributes:i.collapseEmptyAttributes||!1,allowDangerousHtml:i.allowDangerousHtml||!1,voids:i.voids||c,characterReferences:i.characterReferences||re,closeSelfClosing:i.closeSelfClosing||!1,closeEmptyElements:i.closeEmptyElements||!1},schema:i.space===`svg`?e:n,quote:a,alternative:o}.one(Array.isArray(t)?{type:`root`,children:t}:t,void 0,void 0)}function oe(e,t,n){return Q(e,t,n,this)}function se(e){let t=[],n=e&&e.children||ie,r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join(``)}export{u as n,ae as t};
//# sourceMappingURL=f4RW2Coy.js.map