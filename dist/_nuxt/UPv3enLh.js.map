{"version":3,"file":"UPv3enLh.js","names":[],"sources":["../../node_modules/libs/nuip/dist/runtime/components/prose/CodeGroup.vue"],"sourcesContent":["<script>\nimport theme from \"#build/ui-pro/prose/code-group\";\n</script>\n\n<script setup>\nimport { computed, watch, onMounted, ref, onBeforeUpdate } from \"vue\";\nimport { TabsRoot, TabsList, TabsIndicator, TabsTrigger, TabsContent } from \"reka-ui\";\nimport { useState, useAppConfig } from \"#imports\";\nimport { tv } from \"../../utils/tv\";\nimport UCodeIcon from \"./CodeIcon.vue\";\nconst props = defineProps({\n  defaultValue: { type: String, required: false, default: \"0\" },\n  sync: { type: String, required: false },\n  class: { type: null, required: false },\n  ui: { type: null, required: false }\n});\nconst slots = defineSlots();\nconst model = defineModel({ type: String });\nconst appConfig = useAppConfig();\nconst ui = computed(() => tv({ extend: tv(theme), ...appConfig.uiPro?.prose?.codeGroup || {} })());\nconst rerenderCount = ref(1);\nconst items = computed(() => {\n  rerenderCount.value;\n  return slots.default?.()?.flatMap(transformSlot).filter(Boolean) || [];\n});\nfunction transformSlot(slot, index) {\n  if (typeof slot.type === \"symbol\") {\n    return slot.children?.map(transformSlot);\n  }\n  return {\n    label: slot.props?.filename || slot.props?.label || `${index}`,\n    icon: slot.props?.icon,\n    component: slot\n  };\n}\nonMounted(() => {\n  if (props.sync) {\n    const syncKey = `code-group-${props.sync}`;\n    const syncValue = useState(syncKey, () => localStorage.getItem(syncKey));\n    watch(syncValue, () => {\n      if (!syncValue.value) return;\n      model.value = syncValue.value;\n    }, { immediate: true });\n    watch(model, () => {\n      if (!model.value) return;\n      syncValue.value = model.value;\n      localStorage.setItem(syncKey, model.value);\n    });\n  }\n});\nonBeforeUpdate(() => rerenderCount.value++);\n</script>\n\n<template>\n  <TabsRoot v-model=\"model\" :default-value=\"defaultValue\" :unmount-on-hide=\"false\" :class=\"ui.root({ class: [props.ui?.root, props.class] })\">\n    <TabsList :class=\"ui.list({ class: props.ui?.list })\">\n      <TabsIndicator :class=\"ui.indicator({ class: props.ui?.indicator })\" />\n\n      <TabsTrigger v-for=\"(item, index) of items\" :key=\"index\" :value=\"String(index)\" :class=\"ui.trigger({ class: props.ui?.trigger })\">\n        <UCodeIcon :icon=\"item.icon\" :filename=\"item.label\" :class=\"ui.triggerIcon({ class: props.ui?.triggerIcon })\" />\n\n        <span :class=\"ui.triggerLabel({ class: props.ui?.triggerLabel })\">{{ item.label }}</span>\n      </TabsTrigger>\n    </TabsList>\n\n    <TabsContent v-for=\"(item, index) of items\" :key=\"index\" :value=\"String(index)\" as-child>\n      <component :is=\"item.component\" hide-header tabindex=\"-1\" />\n    </TabsContent>\n  </TabsRoot>\n</template>\n"],"mappings":"unBAUA,IAAM,EAAQ,EAMR,EAAQ,GAAa,CACrB,EAAQ,EAAW,EAAA,aAAkB,CACrC,EAAY,GAAc,CAC1B,EAAK,MAAe,EAAG,CAAE,OAAQ,EAAG,EAAM,CAAE,GAAG,EAAU,OAAO,OAAO,WAAa,EAAA,CAAI,CAAC,EAAE,CAAC,CAC5F,EAAgB,EAAI,EAAE,CACtB,EAAQ,OACZ,EAAc,MACP,EAAM,WAAW,EAAE,QAAQ,EAAc,CAAC,OAAO,QAAQ,EAAI,EAAE,EACtE,CACF,SAAS,EAAc,EAAM,EAAO,CAIlC,OAHI,OAAO,EAAK,MAAS,SAChB,EAAK,UAAU,IAAI,EAAc,CAEnC,CACL,MAAO,EAAK,OAAO,UAAY,EAAK,OAAO,OAAS,GAAG,IACvD,KAAM,EAAK,OAAO,KAClB,UAAW,EACZ,QAEH,MAAgB,CACd,GAAI,EAAM,KAAM,CACd,IAAM,EAAU,cAAc,EAAM,OAC9B,EAAY,EAAS,MAAe,aAAa,QAAQ,EAAQ,CAAC,CACxE,EAAM,MAAiB,CAChB,EAAU,QACf,EAAM,MAAQ,EAAU,QACvB,CAAE,UAAW,GAAM,CAAC,CACvB,EAAM,MAAa,CACZ,EAAM,QACX,EAAU,MAAQ,EAAM,MACxB,aAAa,QAAQ,EAAS,EAAM,MAAM,GAC1C,GAEJ,CACF,MAAqB,EAAc,QAAQ,aAIzC,EAcW,EAAA,EAAA,CAAA,YAdQ,EAAA,sCAAA,EAAK,MAAA,EAAG,gBAAe,EAAA,aAAe,kBAAiB,GAAQ,MAAK,EAAE,EAAA,MAAG,KAAI,CAAA,MAAA,CAAW,EAAM,IAAI,KAAM,EAAM,MAAK,CAAA,CAAA,CAAA,iBASzH,CARX,EAQW,EAAA,EAAA,CAAA,CARA,MAAK,EAAE,EAAA,MAAG,KAAI,CAAA,MAAU,EAAM,IAAI,KAAI,CAAA,CAAA,CAAA,CAAA,eACwB,CAAvE,EAAuE,EAAA,EAAA,CAAA,CAAvD,MAAK,EAAE,EAAA,MAAG,UAAS,CAAA,MAAU,EAAM,IAAI,UAAS,CAAA,CAAA,CAAA,CAAA,KAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,GAAA,CAEhE,EAIc,EAAA,KAAA,EAJuB,EAAA,OAAhB,EAAM,SAA3B,EAIc,EAAA,EAAA,CAAA,CAJ+B,IAAK,EAAQ,MAAO,OAAO,EAAK,CAAI,MAAK,EAAE,EAAA,MAAG,QAAO,CAAA,MAAU,EAAM,IAAI,QAAO,CAAA,CAAA,iBACX,CAAhH,EAAgH,EAAA,CAApG,KAAM,EAAK,KAAO,SAAU,EAAK,MAAQ,MAAK,EAAE,EAAA,MAAG,YAAW,CAAA,MAAU,EAAM,IAAI,YAAW,CAAA,CAAA,sCAEzG,EAAyF,OAAA,CAAlF,MAAK,EAAE,EAAA,MAAG,aAAY,CAAA,MAAU,EAAM,IAAI,aAAY,CAAA,CAAA,CAAA,CAAA,EAAQ,EAAK,MAAK,CAAA,EAAA,CAAA,CAAA,iEAInF,EAEc,EAAA,KAAA,EAFuB,EAAA,OAAhB,EAAM,SAA3B,EAEc,EAAA,EAAA,CAAA,CAF+B,IAAK,EAAQ,MAAO,OAAO,EAAK,CAAG,WAAA,mBAClB,EAAA,GAAA,CAA5D,EAA4D,EAA5C,EAAK,UAAS,CAAA,CAAE,cAAA,GAAY,SAAS"}