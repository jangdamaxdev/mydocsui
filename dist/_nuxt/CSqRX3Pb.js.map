{"version":3,"file":"CSqRX3Pb.js","names":["$attrs"],"sources":["../../node_modules/libs/nuip/dist/runtime/components/DashboardSidebar.vue"],"sourcesContent":["<script>\nimport theme from \"#build/ui-pro/dashboard-sidebar\";\n</script>\n\n<script setup>\nimport { ref, computed, toRef, useId, watch } from \"vue\";\nimport { defu } from \"defu\";\nimport { createReusableTemplate } from \"@vueuse/core\";\nimport USlideover from \"@nuxt/ui/components/Slideover.vue\";\nimport UModal from \"@nuxt/ui/components/Modal.vue\";\nimport UDrawer from \"@nuxt/ui/components/Drawer.vue\";\nimport { useAppConfig, useRuntimeHook, useRoute } from \"#imports\";\nimport { useResizable } from \"../composables/useResizable\";\nimport { useLocalePro } from \"../composables/useLocalePro\";\nimport { useDashboard } from \"../utils/dashboard\";\nimport { tv } from \"../utils/tv\";\nimport UDashboardResizeHandle from \"./DashboardResizeHandle.vue\";\nimport UDashboardSidebarToggle from \"./DashboardSidebarToggle.vue\";\ndefineOptions({ inheritAttrs: false });\nconst props = defineProps({\n  mode: { type: null, required: false, default: \"slideover\" },\n  menu: { type: null, required: false },\n  toggle: { type: [Boolean, Object], required: false, default: true },\n  toggleSide: { type: String, required: false, default: \"left\" },\n  class: { type: null, required: false },\n  ui: { type: null, required: false },\n  id: { type: String, required: false },\n  side: { type: String, required: false, default: \"left\" },\n  minSize: { type: Number, required: false, default: 10 },\n  maxSize: { type: Number, required: false, default: 20 },\n  defaultSize: { type: Number, required: false, default: 15 },\n  resizable: { type: Boolean, required: false, default: false },\n  collapsible: { type: Boolean, required: false, default: false },\n  collapsedSize: { type: Number, required: false, default: 0 }\n});\nconst slots = defineSlots();\nconst open = defineModel(\"open\", { type: Boolean, ...{ default: false } });\nconst collapsed = defineModel(\"collapsed\", { type: Boolean, ...{ default: false } });\nconst route = useRoute();\nconst { t } = useLocalePro();\nconst appConfig = useAppConfig();\nconst dashboardContext = useDashboard({\n  storageKey: \"dashboard\",\n  unit: \"%\",\n  sidebarOpen: ref(false),\n  sidebarCollapsed: ref(false)\n});\nconst id = `${dashboardContext.storageKey}-sidebar-${props.id || useId()}`;\nconst { el, size, collapse, isCollapsed, isDragging, onMouseDown, onTouchStart, onDoubleClick } = useResizable(id, toRef(() => ({ ...dashboardContext, ...props })), { collapsed });\nconst [DefineToggleTemplate, ReuseToggleTemplate] = createReusableTemplate();\nconst [DefineResizeHandleTemplate, ReuseResizeHandleTemplate] = createReusableTemplate();\nuseRuntimeHook(\"dashboard:sidebar:toggle\", () => {\n  open.value = !open.value;\n});\nuseRuntimeHook(\"dashboard:sidebar:collapse\", (value) => {\n  isCollapsed.value = value;\n});\nwatch(open, () => dashboardContext.sidebarOpen.value = open.value, { immediate: true });\nwatch(isCollapsed, () => dashboardContext.sidebarCollapsed.value = isCollapsed.value, { immediate: true });\nwatch(() => route.fullPath, () => {\n  open.value = false;\n});\nconst ui = computed(() => tv({ extend: tv(theme), ...appConfig.uiPro?.dashboardSidebar || {} })({\n  side: props.side\n}));\nconst Menu = computed(() => ({\n  slideover: USlideover,\n  modal: UModal,\n  drawer: UDrawer\n})[props.mode]);\nconst menuProps = toRef(() => defu(props.menu, {\n  content: {\n    onOpenAutoFocus: (e) => e.preventDefault()\n  }\n}, props.mode === \"modal\" ? { fullscreen: true, transition: false } : props.mode === \"slideover\" ? { side: \"left\" } : {}));\nfunction toggleOpen() {\n  open.value = !open.value;\n}\n</script>\n\n<template>\n  <DefineToggleTemplate>\n    <slot name=\"toggle\" :open=\"open\" :toggle=\"toggleOpen\">\n      <UDashboardSidebarToggle\n        v-if=\"toggle\"\n        v-bind=\"typeof toggle === 'object' ? toggle : {}\"\n        :side=\"toggleSide\"\n        :class=\"ui.toggle({ class: props.ui?.toggle, toggleSide })\"\n      />\n    </slot>\n  </DefineToggleTemplate>\n\n  <DefineResizeHandleTemplate>\n    <slot name=\"resize-handle\" :on-mouse-down=\"onMouseDown\" :on-touch-start=\"onTouchStart\" :on-double-click=\"onDoubleClick\">\n      <UDashboardResizeHandle\n        v-if=\"resizable\"\n        :aria-controls=\"id\"\n        :class=\"ui.handle({ class: props.ui?.handle })\"\n        @mousedown=\"onMouseDown\"\n        @touchstart=\"onTouchStart\"\n        @dblclick=\"onDoubleClick\"\n      />\n    </slot>\n  </DefineResizeHandleTemplate>\n\n  <ReuseResizeHandleTemplate v-if=\"side === 'right'\" />\n\n  <div\n    :id=\"id\"\n    ref=\"el\"\n    v-bind=\"$attrs\"\n    :data-collapsed=\"isCollapsed\"\n    :data-dragging=\"isDragging\"\n    :class=\"ui.root({ class: [props.ui?.root, props.class] })\"\n    :style=\"{ '--width': `${size || 0}${dashboardContext.unit}` }\"\n  >\n    <div v-if=\"!!slots.header\" :class=\"ui.header({ class: props.ui?.header })\">\n      <slot name=\"header\" :collapsed=\"isCollapsed\" :collapse=\"collapse\" />\n    </div>\n\n    <div :class=\"ui.body({ class: props.ui?.body })\">\n      <slot :collapsed=\"isCollapsed\" :collapse=\"collapse\" />\n    </div>\n\n    <div v-if=\"!!slots.footer\" :class=\"ui.footer({ class: props.ui?.footer })\">\n      <slot name=\"footer\" :collapsed=\"isCollapsed\" :collapse=\"collapse\" />\n    </div>\n  </div>\n\n  <ReuseResizeHandleTemplate v-if=\"side === 'left'\" />\n\n  <Menu\n    v-model:open=\"open\"\n    :title=\"t('dashboardSidebar.title')\"\n    :description=\"t('dashboardSidebar.description')\"\n    v-bind=\"menuProps\"\n    :ui=\"{\n  overlay: ui.overlay({ class: props.ui?.overlay }),\n  content: ui.content({ class: props.ui?.content })\n}\"\n  >\n    <template #content>\n      <slot name=\"content\">\n        <div v-if=\"!!slots.header || mode !== 'drawer'\" :class=\"ui.header({ class: props.ui?.header, menu: true })\">\n          <ReuseToggleTemplate v-if=\"mode !== 'drawer' && toggleSide === 'left'\" />\n\n          <slot name=\"header\" />\n\n          <ReuseToggleTemplate v-if=\"mode !== 'drawer' && toggleSide === 'right'\" />\n        </div>\n\n        <div :class=\"ui.body({ class: props.ui?.body, menu: true })\">\n          <slot />\n        </div>\n\n        <div v-if=\"!!slots.footer\" :class=\"ui.footer({ class: props.ui?.footer, menu: true })\">\n          <slot name=\"footer\" />\n        </div>\n      </slot>\n    </template>\n  </Menu>\n</template>\n"],"mappings":"+zCAmBA,IAAM,EAAQ,EAgBR,EAAQ,GAAa,CACrB,EAAO,EAAW,EAAC,OAAQ,CAAE,KAAM,QAAc,QAAS,GAAS,CAAC,CACpE,EAAY,EAAW,EAAC,YAAa,CAAE,KAAM,QAAc,QAAS,GAAS,CAAC,CAC9E,EAAQ,GAAU,CAClB,CAAE,KAAM,IAAc,CACtB,EAAY,GAAc,CAC1B,EAAmB,EAAa,CACpC,WAAY,YACZ,KAAM,IACN,YAAa,EAAI,GAAM,CACvB,iBAAkB,EAAI,GAAA,CACvB,CAAC,CACI,EAAK,GAAG,EAAiB,WAAW,WAAW,EAAM,IAAM,GAAO,GAClE,CAAE,KAAI,OAAM,WAAU,cAAa,aAAY,cAAa,eAAc,iBAAkB,EAAa,EAAI,OAAa,CAAE,GAAG,EAAkB,GAAG,EAAO,EAAE,CAAE,CAAE,YAAW,CAAC,CAC7K,CAAC,EAAsB,GAAuB,GAAwB,CACtE,CAAC,GAA4B,GAA6B,GAAwB,CACxF,EAAe,+BAAkC,CAC/C,EAAK,MAAQ,CAAC,EAAK,OACnB,CACF,EAAe,6BAA+B,GAAU,CACtD,EAAY,MAAQ,GACpB,CACF,EAAM,MAAY,EAAiB,YAAY,MAAQ,EAAK,MAAO,CAAE,UAAW,GAAM,CAAC,CACvF,EAAM,MAAmB,EAAiB,iBAAiB,MAAQ,EAAY,MAAO,CAAE,UAAW,GAAM,CAAC,CAC1G,MAAY,EAAM,aAAgB,CAChC,EAAK,MAAQ,IACb,CACF,IAAM,EAAK,MAAe,EAAG,CAAE,OAAQ,EAAG,EAAM,CAAE,GAAG,EAAU,OAAO,kBAAoB,EAAA,CAAI,CAAC,CAAC,CAC9F,KAAM,EAAM,KACb,CAAC,CAAC,CACG,GAAO,OAAgB,CAC3B,UAAW,EACX,MAAO,EACP,OAAQ,GACT,EAAE,EAAM,MAAM,CACT,GAAY,MAAY,EAAK,EAAM,KAAM,CAC7C,QAAS,CACP,gBAAkB,GAAM,EAAE,gBAAe,CAC3C,CACD,CAAE,EAAM,OAAS,QAAU,CAAE,WAAY,GAAM,WAAY,GAAO,CAAG,EAAM,OAAS,YAAc,CAAE,KAAM,OAAQ,CAAG,EAAE,CAAC,CAAC,CAC1H,SAAS,IAAa,CACpB,EAAK,MAAQ,CAAC,EAAK,kCAKnB,EASuB,EAAA,EAAA,CAAA,KAAA,eADd,CAPP,EAOO,EAAA,OAAA,SAAA,CAPc,KAAM,EAAA,MAAO,OAAQ,QAOnC,CALG,EAAA,QAAA,GAAA,CADR,EAKE,EALF,EAKE,CAAA,IAAA,EAAA,CAAA,OAHe,EAAA,QAAM,SAAgB,EAAA,OAAM,EAAA,CAAA,CAC1C,KAAM,EAAA,WACN,MAAO,EAAA,MAAG,OAAM,CAAA,MAAU,EAAM,IAAI,OAAM,WAAE,EAAA,WAAU,CAAA,iDAK7D,EAW6B,EAAA,GAAA,CAAA,KAAA,eADpB,CATP,EASO,EAAA,OAAA,gBAAA,CATqB,YAAe,EAAA,EAAW,CAAG,aAAgB,EAAA,EAAY,CAAG,cAAiB,EAAA,EAAA,MASlG,CAPG,EAAA,WAAA,GAAA,CADR,EAOE,EAAA,OALC,gBAAe,EACf,MAAK,EAAE,EAAA,MAAG,OAAM,CAAA,MAAU,EAAM,IAAI,OAAM,CAAA,CAAA,CAC1C,YAAW,EAAA,EAAW,CACtB,aAAY,EAAA,EAAY,CACxB,WAAU,EAAA,EAAA,kFAKgB,EAAA,OAAI,SAAA,GAAA,CAArC,EAAqD,EAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAErD,EAoBM,MApBN,EAoBM,CAnBC,aACD,KAAJ,IAAI,GACIA,EAAAA,OAAM,CACb,iBAAgB,EAAA,EAAW,CAC3B,gBAAe,EAAA,EAAU,CACzB,MAAO,EAAA,MAAG,KAAI,CAAA,MAAA,CAAW,EAAM,IAAI,KAAM,EAAM,MAAK,CAAA,CAAA,CACpD,MAAK,CAAA,UAAA,GAAkB,EAAA,EAAI,EAAA,IAAQ,EAAA,EAAgB,CAAC,OAAA,IAExC,EAAM,QAAA,GAAA,CAAnB,EAEM,MAAA,OAFsB,MAAK,EAAE,EAAA,MAAG,OAAM,CAAA,MAAU,EAAM,IAAI,OAAM,CAAA,CAAA,GACpE,EAAoE,EAAA,OAAA,SAAA,CAA/C,UAAW,EAAA,EAAW,CAAG,SAAU,EAAA,EAAA,iBAG1D,EAEM,MAAA,CAFA,MAAK,EAAE,EAAA,MAAG,KAAI,CAAA,MAAU,EAAM,IAAI,KAAI,CAAA,CAAA,CAAA,CAAA,CAC1C,EAAsD,EAAA,OAAA,UAAA,CAA/C,UAAW,EAAA,EAAW,CAAG,SAAU,EAAA,EAAA,OAG/B,EAAM,QAAA,GAAA,CAAnB,EAEM,MAAA,OAFsB,MAAK,EAAE,EAAA,MAAG,OAAM,CAAA,MAAU,EAAM,IAAI,OAAM,CAAA,CAAA,GACpE,EAAoE,EAAA,OAAA,SAAA,CAA/C,UAAW,EAAA,EAAW,CAAG,SAAU,EAAA,EAAA,yBAI3B,EAAA,OAAI,QAAA,GAAA,CAArC,EAAoD,EAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAEpD,EA6BO,EAAA,GAAA,CA7BP,EA6BO,CA5BG,KAAM,EAAA,gCAAA,EAAI,MAAA,EACjB,MAAO,EAAA,EAAC,CAAA,yBAAA,CACR,YAAa,EAAA,EAAC,CAAA,+BAAA,EACP,GAAA,MAAS,CAChB,GAAE,SAAe,EAAA,MAAG,QAAO,CAAA,MAAU,EAAM,IAAI,QAAO,CAAA,SAAgB,EAAA,MAAG,QAAO,CAAA,MAAU,EAAM,IAAI,QAAO,CAAA,KAKjG,QAAO,MAiBT,CAhBP,EAgBO,EAAA,OAAA,UAAA,EAAA,KAAA,CAfQ,EAAM,QAAU,EAAA,OAAI,UAAA,GAAA,CAAjC,EAMM,MAAA,OAN2C,MAAK,EAAE,EAAA,MAAG,OAAM,CAAA,MAAU,EAAM,IAAI,OAAM,KAAA,GAAA,CAAA,CAAA,GAC9D,EAAA,OAAI,UAAiB,EAAA,aAAU,QAAA,GAAA,CAA1D,EAAyE,EAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAEzE,EAAsB,EAAA,OAAA,SAAA,CAEK,EAAA,OAAI,UAAiB,EAAA,aAAU,SAAA,GAAA,CAA1D,EAA0E,EAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,EAAA,EAAA,GAAA,GAAA,eAG5E,EAEM,MAAA,CAFA,MAAK,EAAE,EAAA,MAAG,KAAI,CAAA,MAAU,EAAM,IAAI,KAAI,KAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAC1C,EAAQ,EAAA,OAAA,UAAA,CAAA,CAAA,EAAA,CAGG,EAAM,QAAA,GAAA,CAAnB,EAEM,MAAA,OAFsB,MAAK,EAAE,EAAA,MAAG,OAAM,CAAA,MAAU,EAAM,IAAI,OAAM,KAAA,GAAA,CAAA,CAAA,GACpE,EAAsB,EAAA,OAAA,SAAA,CAAA,CAAA,EAAA,EAAA,EAAA,GAAA,GAAA"}