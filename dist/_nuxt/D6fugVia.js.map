{"version":3,"file":"D6fugVia.js","names":[],"sources":["../../node_modules/libs/nuip/dist/runtime/components/DashboardSearch.vue"],"sourcesContent":["<script>\nimport theme from \"#build/ui-pro/dashboard-search\";\n</script>\n\n<script setup>\nimport { computed, useTemplateRef } from \"vue\";\nimport { useForwardProps } from \"reka-ui\";\nimport { defu } from \"defu\";\nimport { reactivePick } from \"@vueuse/core\";\nimport UModal from \"@nuxt/ui/components/Modal.vue\";\nimport UCommandPalette from \"@nuxt/ui/components/CommandPalette.vue\";\nimport { omit } from \"@nuxt/ui/utils\";\nimport { useAppConfig, useColorMode, defineShortcuts, useRuntimeHook } from \"#imports\";\nimport { useLocalePro } from \"../composables/useLocalePro\";\nimport { transformUI } from \"../utils\";\nimport { tv } from \"../utils/tv\";\nconst props = defineProps({\n  icon: { type: String, required: false },\n  placeholder: { type: null, required: false },\n  autofocus: { type: Boolean, required: false },\n  loading: { type: Boolean, required: false },\n  loadingIcon: { type: String, required: false },\n  close: { type: [Boolean, Object], required: false, default: true },\n  closeIcon: { type: String, required: false },\n  shortcut: { type: String, required: false, default: \"meta_k\" },\n  groups: { type: Array, required: false },\n  fuse: { type: Object, required: false },\n  colorMode: { type: Boolean, required: false, default: true },\n  class: { type: null, required: false },\n  ui: { type: void 0, required: false }\n});\nconst slots = defineSlots();\nconst open = defineModel(\"open\", { type: Boolean, ...{ default: false } });\nconst searchTerm = defineModel(\"searchTerm\", { type: String, ...{ default: \"\" } });\nuseRuntimeHook(\"dashboard:search:toggle\", () => {\n  open.value = !open.value;\n});\nconst { t } = useLocalePro();\nconst colorMode = useColorMode();\nconst appConfig = useAppConfig();\nconst commandPaletteProps = useForwardProps(reactivePick(props, \"icon\", \"placeholder\", \"autofocus\", \"loading\", \"loadingIcon\", \"close\", \"closeIcon\"));\nconst proxySlots = omit(slots, [\"content\"]);\nconst fuse = computed(() => defu({}, props.fuse, {\n  fuseOptions: {}\n}));\nconst ui = computed(() => tv({ extend: tv(theme), ...appConfig.uiPro?.dashboardSearch || {} })());\nconst groups = computed(() => {\n  const groups2 = [];\n  groups2.push(...props.groups || []);\n  if (props.colorMode && !colorMode?.forced) {\n    groups2.push({\n      id: \"theme\",\n      label: t(\"dashboardSearch.theme\"),\n      items: [{\n        label: t(\"colorMode.system\"),\n        icon: appConfig.ui.icons.system,\n        active: colorMode.preference === \"system\",\n        onSelect: () => {\n          colorMode.preference = \"system\";\n        }\n      }, {\n        label: t(\"colorMode.light\"),\n        icon: appConfig.ui.icons.light,\n        active: colorMode.preference === \"light\",\n        onSelect: () => {\n          colorMode.preference = \"light\";\n        }\n      }, {\n        label: t(\"colorMode.dark\"),\n        icon: appConfig.ui.icons.dark,\n        active: colorMode.preference === \"dark\",\n        onSelect: () => {\n          colorMode.preference = \"dark\";\n        }\n      }]\n    });\n  }\n  return groups2;\n});\nfunction onSelect(item) {\n  if (item.disabled) {\n    return;\n  }\n  open.value = false;\n  searchTerm.value = \"\";\n}\ndefineShortcuts({\n  [props.shortcut]: {\n    usingInput: true,\n    handler: () => open.value = !open.value\n  }\n});\nconst commandPaletteRef = useTemplateRef(\"commandPaletteRef\");\ndefineExpose({\n  commandPaletteRef\n});\n</script>\n\n<template>\n  <UModal\n    v-model:open=\"open\"\n    :title=\"t('dashboardSearch.title')\"\n    :description=\"t('dashboardSearch.description')\"\n    :class=\"ui.modal({ class: [props.ui?.modal, props.class] })\"\n  >\n    <template #content>\n      <slot name=\"content\">\n        <UCommandPalette\n          ref=\"commandPaletteRef\"\n          v-model:search-term=\"searchTerm\"\n          v-bind=\"commandPaletteProps\"\n          :groups=\"groups\"\n          :fuse=\"fuse\"\n          :ui=\"transformUI(omit(ui, ['modal']), props.ui)\"\n          @update:model-value=\"onSelect\"\n          @update:open=\"open = $event\"\n        >\n          <template v-for=\"(_, name) in proxySlots\" #[name]=\"slotData\">\n            <slot :name=\"name\" v-bind=\"slotData\" />\n          </template>\n        </UCommandPalette>\n      </slot>\n    </template>\n  </UModal>\n</template>\n"],"mappings":"ksCAgBA,IAAM,EAAQ,EAeR,EAAQ,GAAa,CACrB,EAAO,EAAW,EAAC,OAAQ,CAAE,KAAM,QAAc,QAAS,GAAS,CAAC,CACpE,EAAa,EAAW,EAAC,aAAc,CAAE,KAAM,OAAa,QAAS,GAAM,CAAC,CAClF,EAAe,8BAAiC,CAC9C,EAAK,MAAQ,CAAC,EAAK,OACnB,CACF,GAAM,CAAE,KAAM,GAAc,CACtB,EAAY,GAAc,CAC1B,EAAY,GAAc,CAC1B,EAAsB,EAAgB,EAAa,EAAO,OAAQ,cAAe,YAAa,UAAW,cAAe,QAAS,YAAY,CAAC,CAC9I,EAAa,EAAK,EAAO,CAAC,UAAU,CAAC,CACrC,EAAO,MAAe,EAAK,EAAE,CAAE,EAAM,KAAM,CAC/C,YAAa,EAAC,CACf,CAAC,CAAC,CACG,EAAK,MAAe,EAAG,CAAE,OAAQ,EAAG,EAAM,CAAE,GAAG,EAAU,OAAO,iBAAmB,EAAA,CAAI,CAAC,EAAE,CAAC,CAC3F,EAAS,MAAe,CAC5B,IAAM,EAAU,EAAE,CA8BlB,OA7BA,EAAQ,KAAK,GAAG,EAAM,QAAU,EAAE,CAAC,CAC/B,EAAM,WAAa,CAAC,GAAW,QACjC,EAAQ,KAAK,CACX,GAAI,QACJ,MAAO,EAAE,wBAAwB,CACjC,MAAO,CAAC,CACN,MAAO,EAAE,mBAAmB,CAC5B,KAAM,EAAU,GAAG,MAAM,OACzB,OAAQ,EAAU,aAAe,SACjC,aAAgB,CACd,EAAU,WAAa,UAE1B,CAAE,CACD,MAAO,EAAE,kBAAkB,CAC3B,KAAM,EAAU,GAAG,MAAM,MACzB,OAAQ,EAAU,aAAe,QACjC,aAAgB,CACd,EAAU,WAAa,SAE1B,CAAE,CACD,MAAO,EAAE,iBAAiB,CAC1B,KAAM,EAAU,GAAG,MAAM,KACzB,OAAQ,EAAU,aAAe,OACjC,aAAgB,CACd,EAAU,WAAa,UAG5B,CAAC,CAEG,GACP,CACF,SAAS,EAAS,EAAM,CAClB,EAAK,WAGT,EAAK,MAAQ,GACb,EAAW,MAAQ,IAErB,EAAgB,EACb,EAAM,UAAW,CAChB,WAAY,GACZ,YAAe,EAAK,MAAQ,CAAC,EAAK,MACpC,CACD,CAAC,CACF,IAAM,EAAoB,EAAe,oBAAoB,QAC7D,EAAa,CACX,oBACD,CAAC,aAIA,EAwBS,EAAA,CAvBC,KAAM,EAAA,gCAAA,EAAI,MAAA,EACjB,MAAO,EAAA,EAAC,CAAA,wBAAA,CACR,YAAa,EAAA,EAAC,CAAA,8BAAA,CACd,MAAK,EAAE,EAAA,MAAG,MAAK,CAAA,MAAA,CAAW,EAAM,IAAI,MAAO,EAAM,MAAK,CAAA,CAAA,CAAA,GAE5C,QAAO,MAgBT,CAfP,EAeO,EAAA,OAAA,UAAA,EAAA,KAAA,CAdL,EAakB,EAblB,EAakB,SAZZ,oBAAJ,IAAI,EACI,cAAa,EAAA,sCAAA,EAAU,MAAA,GACvB,EAAA,EAAmB,CAAA,CAC1B,OAAQ,EAAA,MACR,KAAM,EAAA,MACN,GAAI,EAAA,EAAW,CAAC,EAAA,EAAI,CAAC,EAAA,MAAE,CAAA,QAAA,CAAA,CAAc,EAAM,GAAE,CAC7C,sBAAoB,EACpB,gBAAW,EAAA,KAAA,GAAE,EAAA,MAAO,eAES,EAAA,EAAU,EAAtB,EAAG,MAAsB,YAAQ,GAAQ,CACzD,EAAuC,EAAA,OAA1B,EAAI,EAAA,EAAU,EAAQ,CAAA,CAAA,CAAA,CAAA"}