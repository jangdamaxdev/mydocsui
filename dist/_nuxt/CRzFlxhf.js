import{t as e}from"./Bv2qATNJ.js";import{t}from"./B4R0nvBE.js";import{t as n}from"./-4LthkDL.js";import{Ca as r,Co as i,Dr as a,En as o,Ga as s,Ha as c,Ia as l,Ja as u,La as d,Ni as f,Ta as p,Ua as m,Vn as h,Xa as g,Xr as _,_a as v,_o as y,ai as b,bi as x,ei as S,eo as C,et as w,ho as T,ir as E,ja as D,ji as O,ka as k,li as A,po as j,qa as M,si as N,so as P,vi as F,wa as ee,xa as I,xo as L,yo as R}from"#entry";import{t as z}from"./CjDxKP25.js";function te(e=[],t,n){let r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}function B(t,n,r){let i=100/(r-n)*(t-n);return e(i,0,100)}function V(e,t){if(t>2)return`Value ${e+1} of ${t}`;if(t===2)return[`Minimum`,`Maximum`][e]}function H(e,t){if(e.length===1)return 0;let n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}function U(e,t,n){let r=e/2,i=G([0,50],[0,r]);return(r-i(t)*n)*n}function W(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ne(e,t){if(t>0){let n=W(e);return Math.min(...n)>=t}return!0}function G(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function re(e){return(String(e).split(`.`)[1]||``).length}function ie(e,t){let n=10**t;return Math.round(e*n)/n}var K=[`PageUp`,`PageDown`],q=[`ArrowUp`,`ArrowDown`,`ArrowLeft`,`ArrowRight`],J={"from-left":[`Home`,`PageDown`,`ArrowDown`,`ArrowLeft`],"from-right":[`Home`,`PageDown`,`ArrowDown`,`ArrowRight`],"from-bottom":[`Home`,`PageDown`,`ArrowDown`,`ArrowLeft`],"from-top":[`Home`,`PageUp`,`ArrowUp`,`ArrowLeft`]},[Y,X]=O([`SliderVertical`,`SliderHorizontal`]),ae=D({__name:`SliderHorizontal`,props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:[`slideEnd`,`slideStart`,`slideMove`,`homeKeyDown`,`endKeyDown`,`stepKeyDown`],setup(e,{emit:t}){let n=e,a=t,{max:o,min:c,dir:l,inverted:d}=y(n),{forwardRef:f,currentElement:p}=N(),m=Z(),h=j(),g=j(),_=I(()=>l?.value!==`rtl`&&!d.value||l?.value!==`ltr`&&d.value);function v(e,t){let n=g.value||p.value.getBoundingClientRect(),r=[...m.thumbElements.value][m.valueIndexToChangeRef.value],i=m.thumbAlignment.value===`contain`?r.clientWidth:0;!h.value&&!t&&m.thumbAlignment.value===`contain`&&(h.value=e.clientX-r.getBoundingClientRect().left);let a=[0,n.width-i],s=_.value?[c.value,o.value]:[o.value,c.value],l=G(a,s);g.value=n;let u=t?e.clientX-n.left-i/2:e.clientX-n.left-(h.value??0);return l(u)}let b=I(()=>_.value?`left`:`right`),x=I(()=>_.value?`right`:`left`),S=I(()=>_.value?1:-1);return X({startEdge:b,endEdge:x,direction:S,size:`width`}),(e,t)=>(s(),r(Q,{ref:R(f),dir:R(l),"data-orientation":`horizontal`,style:i({"--reka-slider-thumb-transform":!_.value&&R(m).thumbAlignment.value===`overflow`?`translateX(50%)`:`translateX(-50%)`}),onSlideStart:t[0]||=e=>{let t=v(e,!0);a(`slideStart`,t)},onSlideMove:t[1]||=e=>{let t=v(e);a(`slideMove`,t)},onSlideEnd:t[2]||=()=>{g.value=void 0,h.value=void 0,a(`slideEnd`)},onStepKeyDown:t[3]||=e=>{let t=_.value?`from-left`:`from-right`,n=R(J)[t].includes(e.key);a(`stepKeyDown`,e,n?-1:1)},onEndKeyDown:t[4]||=e=>a(`endKeyDown`,e),onHomeKeyDown:t[5]||=e=>a(`homeKeyDown`,e)},{default:P(()=>[u(e.$slots,`default`)]),_:3},8,[`dir`,`style`]))}}),oe=D({__name:`SliderVertical`,props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:[`slideEnd`,`slideStart`,`slideMove`,`homeKeyDown`,`endKeyDown`,`stepKeyDown`],setup(e,{emit:t}){let n=e,a=t,{max:o,min:c,inverted:l}=y(n),d=Z(),{forwardRef:f,currentElement:p}=N(),m=j(),h=j(),g=I(()=>!l.value);function _(e,t){let n=h.value||p.value.getBoundingClientRect(),r=[...d.thumbElements.value][d.valueIndexToChangeRef.value],i=d.thumbAlignment.value===`contain`?r.clientHeight:0;!m.value&&!t&&d.thumbAlignment.value===`contain`&&(m.value=e.clientY-r.getBoundingClientRect().top);let a=[0,n.height-i],s=g.value?[o.value,c.value]:[c.value,o.value],l=G(a,s),u=t?e.clientY-n.top-i/2:e.clientY-n.top-(m.value??0);return h.value=n,l(u)}let v=I(()=>g.value?`bottom`:`top`),b=I(()=>g.value?`top`:`bottom`),x=I(()=>g.value?1:-1);return X({startEdge:v,endEdge:b,direction:x,size:`height`}),(e,t)=>(s(),r(Q,{ref:R(f),"data-orientation":`vertical`,style:i({"--reka-slider-thumb-transform":!g.value&&R(d).thumbAlignment.value===`overflow`?`translateY(-50%)`:`translateY(50%)`}),onSlideStart:t[0]||=e=>{let t=_(e,!0);a(`slideStart`,t)},onSlideMove:t[1]||=e=>{let t=_(e);a(`slideMove`,t)},onSlideEnd:t[2]||=()=>{h.value=void 0,m.value=void 0,a(`slideEnd`)},onStepKeyDown:t[3]||=e=>{let t=g.value?`from-bottom`:`from-top`,n=R(J)[t].includes(e.key);a(`stepKeyDown`,e,n?-1:1)},onEndKeyDown:t[4]||=e=>a(`endKeyDown`,e),onHomeKeyDown:t[5]||=e=>a(`homeKeyDown`,e)},{default:P(()=>[u(e.$slots,`default`)]),_:3},8,[`style`]))}}),[Z,se]=O(`SliderRoot`),ce=D({inheritAttrs:!1,__name:`SliderRoot`,props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:`horizontal`},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:`contain`},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`,`valueCommit`],setup(i,{emit:o}){let c=i,l=o,{min:f,max:p,step:m,minStepsBetweenThumbs:h,orientation:_,disabled:v,thumbAlignment:b,dir:S}=y(c),C=A(S),{forwardRef:w,currentElement:E}=N(),D=t(E),{CollectionSlot:O}=a({isProvider:!0}),k=x(c,`modelValue`,l,{defaultValue:c.defaultValue,passive:c.modelValue===void 0}),M=I(()=>Array.isArray(k.value)?[...k.value]:[]),F=j(0),L=j(M.value);function z(e){let t=H(M.value,e);U(e,t)}function B(e){U(e,F.value)}function V(){let e=L.value[F.value];M.value[F.value]!==e&&l(`valueCommit`,T(M.value))}function U(t,n,{commit:r}={commit:!1}){let i=re(m.value),a=ie(Math.round((t-f.value)/m.value)*m.value+f.value,i),o=e(a,f.value,p.value),s=te(M.value,o,n);if(ne(s,h.value*m.value)){F.value=s.indexOf(o);let e=String(s)!==String(k.value);e&&r&&l(`valueCommit`,s),e&&(W.value[F.value]?.focus(),k.value=s)}}let W=j([]);return se({modelValue:k,currentModelValue:M,valueIndexToChangeRef:F,thumbElements:W,orientation:_,min:f,max:p,disabled:v,thumbAlignment:b}),(e,t)=>(s(),r(R(O),null,{default:P(()=>[(s(),r(g(R(_)===`horizontal`?ae:oe),d(e.$attrs,{ref:R(w),"as-child":e.asChild,as:e.as,min:R(f),max:R(p),dir:R(C),inverted:e.inverted,"aria-disabled":R(v),"data-disabled":R(v)?``:void 0,onPointerdown:t[0]||=()=>{R(v)||(L.value=M.value)},onSlideStart:t[1]||=e=>!R(v)&&z(e),onSlideMove:t[2]||=e=>!R(v)&&B(e),onSlideEnd:t[3]||=e=>!R(v)&&V(),onHomeKeyDown:t[4]||=e=>!R(v)&&U(R(f),0,{commit:!0}),onEndKeyDown:t[5]||=e=>!R(v)&&U(R(p),M.value.length-1,{commit:!0}),onStepKeyDown:t[6]||=(e,t)=>{if(!R(v)){let n=R(K).includes(e.key)||e.shiftKey&&R(q).includes(e.key)?10:1,r=F.value,i=M.value[r],a=R(m)*n*t;U(i+a,r,{commit:!0})}}}),{default:P(()=>[u(e.$slots,`default`,{modelValue:R(k)}),R(D)&&e.name?(s(),r(R(n),{key:0,type:`number`,value:R(k),name:e.name,required:e.required,disabled:R(v),step:R(m)},null,8,[`value`,`name`,`required`,`disabled`,`step`])):ee(`v-if`,!0)]),_:3},16,[`as-child`,`as`,`min`,`max`,`dir`,`inverted`,`aria-disabled`,`data-disabled`]))]),_:3}))}}),Q=D({__name:`SliderImpl`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},emits:[`slideStart`,`slideMove`,`slideEnd`,`homeKeyDown`,`endKeyDown`,`stepKeyDown`],setup(e,{emit:t}){let n=e,i=t,a=Z();return(e,t)=>(s(),r(R(_),d({"data-slider-impl":``},n,{onKeydown:t[0]||=e=>{e.key===`Home`?(i(`homeKeyDown`,e),e.preventDefault()):e.key===`End`?(i(`endKeyDown`,e),e.preventDefault()):R(K).concat(R(q)).includes(e.key)&&(i(`stepKeyDown`,e),e.preventDefault())},onPointerdown:t[1]||=e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),R(a).thumbElements.value.includes(t)?t.focus():i(`slideStart`,e)},onPointermove:t[2]||=e=>{e.target.hasPointerCapture(e.pointerId)&&i(`slideMove`,e)},onPointerup:t[3]||=e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(`slideEnd`,e))}}),{default:P(()=>[u(e.$slots,`default`)]),_:3},16))}}),le=D({__name:`SliderRange`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=Z(),n=Y();N();let a=I(()=>t.currentModelValue.value.map(e=>B(e,t.min.value,t.max.value))),o=I(()=>t.currentModelValue.value.length>1?Math.min(...a.value):0),c=I(()=>100-Math.max(...a.value,0));return(e,a)=>(s(),r(R(_),{"data-disabled":R(t).disabled.value?``:void 0,"data-orientation":R(t).orientation.value,"as-child":e.asChild,as:e.as,style:i({[R(n).startEdge.value]:`${o.value}%`,[R(n).endEdge.value]:`${c.value}%`})},{default:P(()=>[u(e.$slots,`default`)]),_:3},8,[`data-disabled`,`data-orientation`,`as-child`,`as`,`style`]))}}),ue=D({inheritAttrs:!1,__name:`SliderThumbImpl`,props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e,n=Z(),i=Y(),{forwardRef:o,currentElement:l}=N(),{CollectionItem:f}=a(),p=I(()=>n.modelValue?.value?.[t.index]),h=I(()=>p.value===void 0?0:B(p.value,n.min.value??0,n.max.value??100)),g=I(()=>V(t.index,n.modelValue?.value?.length??0)),v=S(l),y=I(()=>v[i.size].value),b=I(()=>n.thumbAlignment.value===`overflow`||!y.value?0:U(y.value,h.value,i.direction.value)),x=F();return c(()=>{n.thumbElements.value.push(l.value)}),m(()=>{let e=n.thumbElements.value.findIndex(e=>e===l.value)??-1;n.thumbElements.value.splice(e,1)}),(e,t)=>(s(),r(R(f),null,{default:P(()=>[k(R(_),d(e.$attrs,{ref:R(o),role:`slider`,tabindex:R(n).disabled.value?void 0:0,"aria-label":e.$attrs[`aria-label`]||g.value,"data-disabled":R(n).disabled.value?``:void 0,"data-orientation":R(n).orientation.value,"aria-valuenow":p.value,"aria-valuemin":R(n).min.value,"aria-valuemax":R(n).max.value,"aria-orientation":R(n).orientation.value,"as-child":e.asChild,as:e.as,style:{transform:`var(--reka-slider-thumb-transform)`,position:`absolute`,[R(i).startEdge.value]:`calc(${h.value}% + ${b.value}px)`,display:!R(x)&&p.value===void 0?`none`:void 0},onFocus:t[0]||=()=>{R(n).valueIndexToChangeRef.value=e.index}}),{default:P(()=>[u(e.$slots,`default`)]),_:3},16,[`tabindex`,`aria-label`,`data-disabled`,`data-orientation`,`aria-valuenow`,`aria-valuemin`,`aria-valuemax`,`aria-orientation`,`as-child`,`as`,`style`])]),_:3}))}}),$=D({__name:`SliderThumb`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,{getItems:n}=a(),{forwardRef:i,currentElement:o}=N(),c=I(()=>o.value?n(!0).findIndex(e=>e.ref===o.value):-1);return(e,n)=>(s(),r(ue,d({ref:R(i)},t,{index:c.value}),{default:P(()=>[u(e.$slots,`default`)]),_:3},16,[`index`]))}}),de=D({__name:`SliderTrack`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=Z();return N(),(e,n)=>(s(),r(R(_),{"as-child":e.asChild,as:e.as,"data-disabled":R(t).disabled.value?``:void 0,"data-orientation":R(t).orientation.value},{default:P(()=>[u(e.$slots,`default`)]),_:3},8,[`as-child`,`as`,`data-disabled`,`data-orientation`]))}}),fe={__name:`USlider`,props:l({as:{type:null,required:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:`horizontal`},tooltip:{type:[Boolean,Object],required:!1},defaultValue:{type:[Number,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},name:{type:String,required:!1},disabled:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1}},{modelValue:{type:null},modelModifiers:{}}),emits:l([`change`],[`update:modelValue`]),setup(e,{emit:t}){let n=e,i=t,a=C(e,`modelValue`),c=f(),l=b(E(n,`as`,`orientation`,`min`,`max`,`step`,`minStepsBetweenThumbs`,`inverted`),i),{id:u,emitFormChange:m,emitFormInput:g,size:_,color:y,name:x,disabled:S,ariaAttrs:T}=h(n),D=I(()=>typeof n.defaultValue==`number`?[n.defaultValue]:n.defaultValue),O=I({get(){return typeof a.value==`number`?[a.value]:a.value??D.value},set(e){a.value=e?.length===1?e[0]:e}}),A=I(()=>O.value?.length??1),j=I(()=>o({extend:o(z),...c.ui?.slider||{}})({disabled:S.value,size:_.value,color:y.value,orientation:n.orientation}));function N(e){let t=new Event(`change`,{target:{value:e}});i(`change`,t),m()}return(t,i)=>(s(),r(R(ce),d({...R(l),...R(T)},{id:R(u),modelValue:O.value,"onUpdate:modelValue":[i[0]||=e=>O.value=e,i[1]||=e=>R(g)()],name:R(x),disabled:R(S),class:j.value.root({class:[n.ui?.root,n.class]}),"default-value":D.value,onValueCommit:N}),{default:P(()=>[k(R(de),{class:L(j.value.track({class:n.ui?.track}))},{default:P(()=>[k(R(le),{class:L(j.value.range({class:n.ui?.range}))},null,8,[`class`])]),_:1},8,[`class`]),(s(!0),p(v,null,M(A.value,t=>(s(),p(v,{key:t},[e.tooltip?(s(),r(w,d({key:0,text:A.value>1?String(O.value?.[t-1]):String(O.value),"disable-closing-trigger":``},{ref_for:!0},typeof e.tooltip==`object`?e.tooltip:{}),{default:P(()=>[k(R($),{class:L(j.value.thumb({class:n.ui?.thumb}))},null,8,[`class`])]),_:2},1040,[`text`])):(s(),r(R($),{key:1,class:L(j.value.thumb({class:n.ui?.thumb}))},null,8,[`class`]))],64))),128))]),_:1},16,[`id`,`modelValue`,`name`,`disabled`,`class`,`default-value`]))}};export{fe as default};
//# sourceMappingURL=CRzFlxhf.js.map