import{$n as e,Ii as t,M as n,po as r,ro as i,uo as a,xa as o,yo as s}from"#entry";const c=(c,l={},{collapsed:u=r(!1)}={})=>{let d=r(null),f=o(()=>({side:`left`,minSize:0,maxSize:100,defaultSize:0,storage:`cookie`,persistent:!0,collapsible:!1,collapsedSize:0,resizable:!0,unit:`%`,...a(l)?l.value:l})),{dir:p}=n(),m={size:f.value.defaultSize,collapsed:s(u)??!1},h=f.value.persistent&&(f.value.resizable||f.value.collapsible)?f.value.storage===`cookie`?t(c,{default:()=>m}):e(c,m):r(m),g=o({get:()=>h.value.collapsed,set:e=>{f.value.collapsible&&(a(u)&&(u.value=e),h.value.collapsed=e)}}),_=r(f.value.defaultSize),v=o({get:()=>h.value.size,set:e=>{h.value.size=e}}),y=o(()=>g.value?f.value.collapsedSize:v.value),b=r(!1),x=(e,t,n)=>{if(!d.value||!f.value.resizable)return;let r=d.value.parentElement?.offsetWidth||1,i=p.value===`rtl`,a;a=i?f.value.side===`left`?t-e.clientX:e.clientX-t:f.value.side===`left`?e.clientX-t:t-e.clientX;let o=n+a,s;if(f.value.unit===`rem`){let e=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);s=o/e}else s=f.value.unit===`px`?o:o/r*100;if(f.value.collapsible&&s<f.value.collapsedSize+4){E(!0);return}else g.value&&E(!1);v.value=Math.min(f.value.maxSize,Math.max(f.value.minSize,s))},S=e=>{if(!d.value||!f.value.resizable)return;e.preventDefault(),e.stopPropagation();let t=d.value.getBoundingClientRect().width;if(!t)return;let n=e.clientX,r=t;b.value=!0;let i=e=>{x(e,n,r)},a=()=>{b.value=!1,document.removeEventListener(`mousemove`,i),document.removeEventListener(`mouseup`,a)};document.addEventListener(`mousemove`,i),document.addEventListener(`mouseup`,a)},C=(e,t,n)=>{if(!d.value||!f.value.resizable||!e.touches[0])return;let r=d.value.parentElement?.offsetWidth||1,i=p.value===`rtl`,a;a=i?f.value.side===`left`?t-e.touches[0].clientX:e.touches[0].clientX-t:f.value.side===`left`?e.touches[0].clientX-t:t-e.touches[0].clientX;let o=n+a,s;if(f.value.unit===`rem`){let e=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);s=o/e}else s=f.value.unit===`px`?o:o/r*100;if(f.value.collapsible&&s<f.value.collapsedSize+4){E(!0);return}else g.value&&E(!1);v.value=Math.min(f.value.maxSize,Math.max(f.value.minSize,s))},w=e=>{if(!d.value||!f.value.resizable||!e.touches[0])return;e.preventDefault(),e.stopPropagation();let t=d.value.getBoundingClientRect().width;if(!t)return;let n=e.touches[0].clientX,r=t;b.value=!0;let i=e=>{C(e,n,r)},a=()=>{b.value=!1,document.removeEventListener(`touchmove`,i),document.removeEventListener(`touchend`,a),document.removeEventListener(`touchcancel`,a)};document.addEventListener(`touchmove`,i,{passive:!1}),document.addEventListener(`touchend`,a),document.addEventListener(`touchcancel`,a)},T=e=>{!d.value||!f.value.resizable||(e.preventDefault(),e.stopPropagation(),g.value&&E(!1),v.value=f.value.defaultSize)},E=e=>{if(!f.value.collapsible)return;let t=e??!g.value;t&&!g.value?_.value=v.value:!t&&g.value&&(v.value=_.value),g.value=t};return a(u)&&h.value.collapsed&&(u.value=h.value.collapsed),a(u)&&i(u,e=>{f.value.collapsible&&h.value.collapsed!==e&&(h.value.collapsed=e)}),{el:d,size:y,isDragging:b,isCollapsed:g,onMouseDown:S,onTouchStart:w,onDoubleClick:T,collapse:E}};export{c as t};
//# sourceMappingURL=CmicWvPV.js.map